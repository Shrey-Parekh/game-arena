function lm(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Nw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Iw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var um={exports:{}},ya={},cm={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yi=Symbol.for("react.element"),Lw=Symbol.for("react.portal"),Dw=Symbol.for("react.fragment"),$w=Symbol.for("react.strict_mode"),Mw=Symbol.for("react.profiler"),Bw=Symbol.for("react.provider"),Uw=Symbol.for("react.context"),Vw=Symbol.for("react.forward_ref"),Fw=Symbol.for("react.suspense"),zw=Symbol.for("react.memo"),Ww=Symbol.for("react.lazy"),ih=Symbol.iterator;function Hw(t){return t===null||typeof t!="object"?null:(t=ih&&t[ih]||t["@@iterator"],typeof t=="function"?t:null)}var dm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hm=Object.assign,fm={};function rs(t,e,n){this.props=t,this.context=e,this.refs=fm,this.updater=n||dm}rs.prototype.isReactComponent={};rs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pm(){}pm.prototype=rs.prototype;function Cc(t,e,n){this.props=t,this.context=e,this.refs=fm,this.updater=n||dm}var Pc=Cc.prototype=new pm;Pc.constructor=Cc;hm(Pc,rs.prototype);Pc.isPureReactComponent=!0;var oh=Array.isArray,mm=Object.prototype.hasOwnProperty,jc={current:null},gm={key:!0,ref:!0,__self:!0,__source:!0};function ym(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)mm.call(e,r)&&!gm.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:yi,type:t,key:i,ref:o,props:s,_owner:jc.current}}function qw(t,e){return{$$typeof:yi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rc(t){return typeof t=="object"&&t!==null&&t.$$typeof===yi}function Kw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ah=/\/+/g;function Qa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Kw(""+t.key):e.toString(36)}function ho(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yi:case Lw:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Qa(o,0):r,oh(s)?(n="",t!=null&&(n=t.replace(ah,"$&/")+"/"),ho(s,e,n,"",function(u){return u})):s!=null&&(Rc(s)&&(s=qw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ah,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",oh(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Qa(i,a);o+=ho(i,e,n,l,s)}else if(l=Hw(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Qa(i,a++),o+=ho(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Oi(t,e,n){if(t==null)return t;var r=[],s=0;return ho(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Gw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Le={current:null},fo={transition:null},Jw={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:fo,ReactCurrentOwner:jc};function vm(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:Oi,forEach:function(t,e,n){Oi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oi(t,function(){e++}),e},toArray:function(t){return Oi(t,function(e){return e})||[]},only:function(t){if(!Rc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=rs;U.Fragment=Dw;U.Profiler=Mw;U.PureComponent=Cc;U.StrictMode=$w;U.Suspense=Fw;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jw;U.act=vm;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hm({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=jc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)mm.call(e,l)&&!gm.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:yi,type:t.type,key:s,ref:i,props:r,_owner:o}};U.createContext=function(t){return t={$$typeof:Uw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Bw,_context:t},t.Consumer=t};U.createElement=ym;U.createFactory=function(t){var e=ym.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Vw,render:t}};U.isValidElement=Rc;U.lazy=function(t){return{$$typeof:Ww,_payload:{_status:-1,_result:t},_init:Gw}};U.memo=function(t,e){return{$$typeof:zw,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=fo.transition;fo.transition={};try{t()}finally{fo.transition=e}};U.unstable_act=vm;U.useCallback=function(t,e){return Le.current.useCallback(t,e)};U.useContext=function(t){return Le.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return Le.current.useDeferredValue(t)};U.useEffect=function(t,e){return Le.current.useEffect(t,e)};U.useId=function(){return Le.current.useId()};U.useImperativeHandle=function(t,e,n){return Le.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return Le.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return Le.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return Le.current.useMemo(t,e)};U.useReducer=function(t,e,n){return Le.current.useReducer(t,e,n)};U.useRef=function(t){return Le.current.useRef(t)};U.useState=function(t){return Le.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return Le.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return Le.current.useTransition()};U.version="18.3.1";cm.exports=U;var S=cm.exports;const va=Nw(S),Qw=lm({__proto__:null,default:va},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw=S,Xw=Symbol.for("react.element"),Zw=Symbol.for("react.fragment"),e_=Object.prototype.hasOwnProperty,t_=Yw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n_={key:!0,ref:!0,__self:!0,__source:!0};function wm(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)e_.call(e,r)&&!n_.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Xw,type:t,key:i,ref:o,props:s,_owner:t_.current}}ya.Fragment=Zw;ya.jsx=wm;ya.jsxs=wm;um.exports=ya;var g=um.exports,Ql={},_m={exports:{}},Ze={},xm={exports:{}},Sm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,L){var M=j.length;j.push(L);e:for(;0<M;){var k=M-1>>>1,B=j[k];if(0<s(B,L))j[k]=L,j[M]=B,M=k;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var L=j[0],M=j.pop();if(M!==L){j[0]=M;e:for(var k=0,B=j.length,Me=B>>>1;k<Me;){var bt=2*(k+1)-1,pr=j[bt],He=bt+1,Nn=j[He];if(0>s(pr,M))He<B&&0>s(Nn,pr)?(j[k]=Nn,j[He]=M,k=He):(j[k]=pr,j[bt]=M,k=bt);else if(He<B&&0>s(Nn,M))j[k]=Nn,j[He]=M,k=He;else break e}}return L}function s(j,L){var M=j.sortIndex-L.sortIndex;return M!==0?M:j.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,y=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(j){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=j)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function _(j){if(w=!1,p(j),!y)if(n(l)!==null)y=!0,X(b);else{var L=n(u);L!==null&&$e(_,L.startTime-j)}}function b(j,L){y=!1,w&&(w=!1,v(C),C=-1),f=!0;var M=h;try{for(p(L),d=n(l);d!==null&&(!(d.expirationTime>L)||j&&!oe());){var k=d.callback;if(typeof k=="function"){d.callback=null,h=d.priorityLevel;var B=k(d.expirationTime<=L);L=t.unstable_now(),typeof B=="function"?d.callback=B:d===n(l)&&r(l),p(L)}else r(l);d=n(l)}if(d!==null)var Me=!0;else{var bt=n(u);bt!==null&&$e(_,bt.startTime-L),Me=!1}return Me}finally{d=null,h=M,f=!1}}var E=!1,T=null,C=-1,A=5,I=-1;function oe(){return!(t.unstable_now()-I<A)}function se(){if(T!==null){var j=t.unstable_now();I=j;var L=!0;try{L=T(!0,j)}finally{L?xe():(E=!1,T=null)}}else E=!1}var xe;if(typeof m=="function")xe=function(){m(se)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,dt=ue.port2;ue.port1.onmessage=se,xe=function(){dt.postMessage(null)}}else xe=function(){x(se,0)};function X(j){T=j,E||(E=!0,xe())}function $e(j,L){C=x(function(){j(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){y||f||(y=!0,X(b))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var M=h;h=L;try{return j()}finally{h=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,L){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var M=h;h=j;try{return L()}finally{h=M}},t.unstable_scheduleCallback=function(j,L,M){var k=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?k+M:k):M=k,j){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=M+B,j={id:c++,callback:L,priorityLevel:j,startTime:M,expirationTime:B,sortIndex:-1},M>k?(j.sortIndex=M,e(u,j),n(l)===null&&j===n(u)&&(w?(v(C),C=-1):w=!0,$e(_,M-k))):(j.sortIndex=B,e(l,j),y||f||(y=!0,X(b))),j},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(j){var L=h;return function(){var M=h;h=L;try{return j.apply(this,arguments)}finally{h=M}}}})(Sm);xm.exports=Sm;var r_=xm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_=S,Ye=r_;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bm=new Set,qs={};function ar(t,e){Kr(t,e),Kr(t+"Capture",e)}function Kr(t,e){for(qs[t]=e,t=0;t<e.length;t++)bm.add(e[t])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yl=Object.prototype.hasOwnProperty,i_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lh={},uh={};function o_(t){return Yl.call(uh,t)?!0:Yl.call(lh,t)?!1:i_.test(t)?uh[t]=!0:(lh[t]=!0,!1)}function a_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function l_(t,e,n,r){if(e===null||typeof e>"u"||a_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function De(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ke[t]=new De(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ke[e]=new De(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ke[t]=new De(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ke[t]=new De(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ke[t]=new De(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ke[t]=new De(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ke[t]=new De(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ke[t]=new De(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ke[t]=new De(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ac=/[\-:]([a-z])/g;function Oc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ac,Oc);ke[e]=new De(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ac,Oc);ke[e]=new De(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ac,Oc);ke[e]=new De(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ke[t]=new De(t,1,!1,t.toLowerCase(),null,!1,!1)});ke.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ke[t]=new De(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nc(t,e,n,r){var s=ke.hasOwnProperty(e)?ke[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(l_(e,n,s,r)&&(n=null),r||s===null?o_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yt=s_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ni=Symbol.for("react.element"),kr=Symbol.for("react.portal"),Er=Symbol.for("react.fragment"),Ic=Symbol.for("react.strict_mode"),Xl=Symbol.for("react.profiler"),km=Symbol.for("react.provider"),Em=Symbol.for("react.context"),Lc=Symbol.for("react.forward_ref"),Zl=Symbol.for("react.suspense"),eu=Symbol.for("react.suspense_list"),Dc=Symbol.for("react.memo"),tn=Symbol.for("react.lazy"),Tm=Symbol.for("react.offscreen"),ch=Symbol.iterator;function ds(t){return t===null||typeof t!="object"?null:(t=ch&&t[ch]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,Ya;function bs(t){if(Ya===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ya=e&&e[1]||""}return`
`+Ya+t}var Xa=!1;function Za(t,e){if(!t||Xa)return"";Xa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bs(t):""}function u_(t){switch(t.tag){case 5:return bs(t.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 2:case 15:return t=Za(t.type,!1),t;case 11:return t=Za(t.type.render,!1),t;case 1:return t=Za(t.type,!0),t;default:return""}}function tu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Er:return"Fragment";case kr:return"Portal";case Xl:return"Profiler";case Ic:return"StrictMode";case Zl:return"Suspense";case eu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Em:return(t.displayName||"Context")+".Consumer";case km:return(t._context.displayName||"Context")+".Provider";case Lc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dc:return e=t.displayName||null,e!==null?e:tu(t.type)||"Memo";case tn:e=t._payload,t=t._init;try{return tu(t(e))}catch{}}return null}function c_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tu(e);case 8:return e===Ic?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function d_(t){var e=Cm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ii(t){t._valueTracker||(t._valueTracker=d_(t))}function Pm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Cm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Oo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nu(t,e){var n=e.checked;return re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Sn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jm(t,e){e=e.checked,e!=null&&Nc(t,"checked",e,!1)}function ru(t,e){jm(t,e);var n=Sn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?su(t,e.type,n):e.hasOwnProperty("defaultValue")&&su(t,e.type,Sn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function su(t,e,n){(e!=="number"||Oo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ks=Array.isArray;function Ur(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Sn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function iu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(ks(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Sn(n)}}function Rm(t,e){var n=Sn(e.value),r=Sn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ph(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Am(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ou(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Am(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Li,Om=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Li=Li||document.createElement("div"),Li.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Li.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ks(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h_=["Webkit","ms","Moz","O"];Object.keys(Rs).forEach(function(t){h_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rs[e]=Rs[t]})});function Nm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Rs.hasOwnProperty(t)&&Rs[t]?(""+e).trim():e+"px"}function Im(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Nm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var f_=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function au(t,e){if(e){if(f_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function lu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=null;function $c(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cu=null,Vr=null,Fr=null;function mh(t){if(t=_i(t)){if(typeof cu!="function")throw Error(P(280));var e=t.stateNode;e&&(e=ba(e),cu(t.stateNode,t.type,e))}}function Lm(t){Vr?Fr?Fr.push(t):Fr=[t]:Vr=t}function Dm(){if(Vr){var t=Vr,e=Fr;if(Fr=Vr=null,mh(t),e)for(t=0;t<e.length;t++)mh(e[t])}}function $m(t,e){return t(e)}function Mm(){}var el=!1;function Bm(t,e,n){if(el)return t(e,n);el=!0;try{return $m(t,e,n)}finally{el=!1,(Vr!==null||Fr!==null)&&(Mm(),Dm())}}function Gs(t,e){var n=t.stateNode;if(n===null)return null;var r=ba(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var du=!1;if(Ht)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){du=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{du=!1}function p_(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var As=!1,No=null,Io=!1,hu=null,m_={onError:function(t){As=!0,No=t}};function g_(t,e,n,r,s,i,o,a,l){As=!1,No=null,p_.apply(m_,arguments)}function y_(t,e,n,r,s,i,o,a,l){if(g_.apply(this,arguments),As){if(As){var u=No;As=!1,No=null}else throw Error(P(198));Io||(Io=!0,hu=u)}}function lr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Um(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gh(t){if(lr(t)!==t)throw Error(P(188))}function v_(t){var e=t.alternate;if(!e){if(e=lr(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return gh(s),t;if(i===r)return gh(s),e;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function Vm(t){return t=v_(t),t!==null?Fm(t):null}function Fm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Fm(t);if(e!==null)return e;t=t.sibling}return null}var zm=Ye.unstable_scheduleCallback,yh=Ye.unstable_cancelCallback,w_=Ye.unstable_shouldYield,__=Ye.unstable_requestPaint,ae=Ye.unstable_now,x_=Ye.unstable_getCurrentPriorityLevel,Mc=Ye.unstable_ImmediatePriority,Wm=Ye.unstable_UserBlockingPriority,Lo=Ye.unstable_NormalPriority,S_=Ye.unstable_LowPriority,Hm=Ye.unstable_IdlePriority,wa=null,jt=null;function b_(t){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(wa,t,void 0,(t.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:T_,k_=Math.log,E_=Math.LN2;function T_(t){return t>>>=0,t===0?32:31-(k_(t)/E_|0)|0}var Di=64,$i=4194304;function Es(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Do(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Es(a):(i&=o,i!==0&&(r=Es(i)))}else o=n&~s,o!==0?r=Es(o):i!==0&&(r=Es(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_t(e),s=1<<n,r|=t[n],e&=~s;return r}function C_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-_t(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=C_(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function fu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qm(){var t=Di;return Di<<=1,!(Di&4194240)&&(Di=64),t}function tl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_t(e),t[e]=n}function j_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-_t(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Bc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_t(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var z=0;function Km(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Gm,Uc,Jm,Qm,Ym,pu=!1,Mi=[],hn=null,fn=null,pn=null,Js=new Map,Qs=new Map,sn=[],R_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vh(t,e){switch(t){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":Js.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qs.delete(e.pointerId)}}function fs(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=_i(e),e!==null&&Uc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function A_(t,e,n,r,s){switch(e){case"focusin":return hn=fs(hn,t,e,n,r,s),!0;case"dragenter":return fn=fs(fn,t,e,n,r,s),!0;case"mouseover":return pn=fs(pn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Js.set(i,fs(Js.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Qs.set(i,fs(Qs.get(i)||null,t,e,n,r,s)),!0}return!1}function Xm(t){var e=Kn(t.target);if(e!==null){var n=lr(e);if(n!==null){if(e=n.tag,e===13){if(e=Um(n),e!==null){t.blockedOn=e,Ym(t.priority,function(){Jm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function po(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);uu=r,n.target.dispatchEvent(r),uu=null}else return e=_i(n),e!==null&&Uc(e),t.blockedOn=n,!1;e.shift()}return!0}function wh(t,e,n){po(t)&&n.delete(e)}function O_(){pu=!1,hn!==null&&po(hn)&&(hn=null),fn!==null&&po(fn)&&(fn=null),pn!==null&&po(pn)&&(pn=null),Js.forEach(wh),Qs.forEach(wh)}function ps(t,e){t.blockedOn===e&&(t.blockedOn=null,pu||(pu=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,O_)))}function Ys(t){function e(s){return ps(s,t)}if(0<Mi.length){ps(Mi[0],t);for(var n=1;n<Mi.length;n++){var r=Mi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hn!==null&&ps(hn,t),fn!==null&&ps(fn,t),pn!==null&&ps(pn,t),Js.forEach(e),Qs.forEach(e),n=0;n<sn.length;n++)r=sn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)Xm(n),n.blockedOn===null&&sn.shift()}var zr=Yt.ReactCurrentBatchConfig,$o=!0;function N_(t,e,n,r){var s=z,i=zr.transition;zr.transition=null;try{z=1,Vc(t,e,n,r)}finally{z=s,zr.transition=i}}function I_(t,e,n,r){var s=z,i=zr.transition;zr.transition=null;try{z=4,Vc(t,e,n,r)}finally{z=s,zr.transition=i}}function Vc(t,e,n,r){if($o){var s=mu(t,e,n,r);if(s===null)dl(t,e,r,Mo,n),vh(t,r);else if(A_(s,t,e,n,r))r.stopPropagation();else if(vh(t,r),e&4&&-1<R_.indexOf(t)){for(;s!==null;){var i=_i(s);if(i!==null&&Gm(i),i=mu(t,e,n,r),i===null&&dl(t,e,r,Mo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else dl(t,e,r,null,n)}}var Mo=null;function mu(t,e,n,r){if(Mo=null,t=$c(r),t=Kn(t),t!==null)if(e=lr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Um(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mo=t,null}function Zm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x_()){case Mc:return 1;case Wm:return 4;case Lo:case S_:return 16;case Hm:return 536870912;default:return 16}default:return 16}}var un=null,Fc=null,mo=null;function eg(){if(mo)return mo;var t,e=Fc,n=e.length,r,s="value"in un?un.value:un.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return mo=s.slice(t,1<r?1-r:void 0)}function go(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function _h(){return!1}function et(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bi:_h,this.isPropagationStopped=_h,this}return re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),e}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zc=et(ss),wi=re({},ss,{view:0,detail:0}),L_=et(wi),nl,rl,ms,_a=re({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ms&&(ms&&t.type==="mousemove"?(nl=t.screenX-ms.screenX,rl=t.screenY-ms.screenY):rl=nl=0,ms=t),nl)},movementY:function(t){return"movementY"in t?t.movementY:rl}}),xh=et(_a),D_=re({},_a,{dataTransfer:0}),$_=et(D_),M_=re({},wi,{relatedTarget:0}),sl=et(M_),B_=re({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),U_=et(B_),V_=re({},ss,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),F_=et(V_),z_=re({},ss,{data:0}),Sh=et(z_),W_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=q_[t])?!!e[t]:!1}function Wc(){return K_}var G_=re({},wi,{key:function(t){if(t.key){var e=W_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=go(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?H_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wc,charCode:function(t){return t.type==="keypress"?go(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?go(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J_=et(G_),Q_=re({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bh=et(Q_),Y_=re({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wc}),X_=et(Y_),Z_=re({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),ex=et(Z_),tx=re({},_a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nx=et(tx),rx=[9,13,27,32],Hc=Ht&&"CompositionEvent"in window,Os=null;Ht&&"documentMode"in document&&(Os=document.documentMode);var sx=Ht&&"TextEvent"in window&&!Os,tg=Ht&&(!Hc||Os&&8<Os&&11>=Os),kh=" ",Eh=!1;function ng(t,e){switch(t){case"keyup":return rx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tr=!1;function ix(t,e){switch(t){case"compositionend":return rg(e);case"keypress":return e.which!==32?null:(Eh=!0,kh);case"textInput":return t=e.data,t===kh&&Eh?null:t;default:return null}}function ox(t,e){if(Tr)return t==="compositionend"||!Hc&&ng(t,e)?(t=eg(),mo=Fc=un=null,Tr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tg&&e.locale!=="ko"?null:e.data;default:return null}}var ax={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Th(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ax[t.type]:e==="textarea"}function sg(t,e,n,r){Lm(r),e=Bo(e,"onChange"),0<e.length&&(n=new zc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ns=null,Xs=null;function lx(t){mg(t,0)}function xa(t){var e=jr(t);if(Pm(e))return t}function ux(t,e){if(t==="change")return e}var ig=!1;if(Ht){var il;if(Ht){var ol="oninput"in document;if(!ol){var Ch=document.createElement("div");Ch.setAttribute("oninput","return;"),ol=typeof Ch.oninput=="function"}il=ol}else il=!1;ig=il&&(!document.documentMode||9<document.documentMode)}function Ph(){Ns&&(Ns.detachEvent("onpropertychange",og),Xs=Ns=null)}function og(t){if(t.propertyName==="value"&&xa(Xs)){var e=[];sg(e,Xs,t,$c(t)),Bm(lx,e)}}function cx(t,e,n){t==="focusin"?(Ph(),Ns=e,Xs=n,Ns.attachEvent("onpropertychange",og)):t==="focusout"&&Ph()}function dx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xa(Xs)}function hx(t,e){if(t==="click")return xa(e)}function fx(t,e){if(t==="input"||t==="change")return xa(e)}function px(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var St=typeof Object.is=="function"?Object.is:px;function Zs(t,e){if(St(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Yl.call(e,s)||!St(t[s],e[s]))return!1}return!0}function jh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rh(t,e){var n=jh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jh(n)}}function ag(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ag(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lg(){for(var t=window,e=Oo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Oo(t.document)}return e}function qc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mx(t){var e=lg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ag(n.ownerDocument.documentElement,n)){if(r!==null&&qc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Rh(n,i);var o=Rh(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gx=Ht&&"documentMode"in document&&11>=document.documentMode,Cr=null,gu=null,Is=null,yu=!1;function Ah(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yu||Cr==null||Cr!==Oo(r)||(r=Cr,"selectionStart"in r&&qc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Is&&Zs(Is,r)||(Is=r,r=Bo(gu,"onSelect"),0<r.length&&(e=new zc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Cr)))}function Ui(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pr={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionend:Ui("Transition","TransitionEnd")},al={},ug={};Ht&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Sa(t){if(al[t])return al[t];if(!Pr[t])return t;var e=Pr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ug)return al[t]=e[n];return t}var cg=Sa("animationend"),dg=Sa("animationiteration"),hg=Sa("animationstart"),fg=Sa("transitionend"),pg=new Map,Oh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(t,e){pg.set(t,e),ar(e,[t])}for(var ll=0;ll<Oh.length;ll++){var ul=Oh[ll],yx=ul.toLowerCase(),vx=ul[0].toUpperCase()+ul.slice(1);Tn(yx,"on"+vx)}Tn(cg,"onAnimationEnd");Tn(dg,"onAnimationIteration");Tn(hg,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(fg,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function Nh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,y_(r,e,void 0,t),t.currentTarget=null}function mg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Nh(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Nh(s,a,u),i=l}}}if(Io)throw t=hu,Io=!1,hu=null,t}function G(t,e){var n=e[Su];n===void 0&&(n=e[Su]=new Set);var r=t+"__bubble";n.has(r)||(gg(e,t,2,!1),n.add(r))}function cl(t,e,n){var r=0;e&&(r|=4),gg(n,t,r,e)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function ei(t){if(!t[Vi]){t[Vi]=!0,bm.forEach(function(n){n!=="selectionchange"&&(wx.has(n)||cl(n,!1,t),cl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vi]||(e[Vi]=!0,cl("selectionchange",!1,e))}}function gg(t,e,n,r){switch(Zm(e)){case 1:var s=N_;break;case 4:s=I_;break;default:s=Vc}n=s.bind(null,e,n,t),s=void 0,!du||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function dl(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Kn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Bm(function(){var u=i,c=$c(n),d=[];e:{var h=pg.get(t);if(h!==void 0){var f=zc,y=t;switch(t){case"keypress":if(go(n)===0)break e;case"keydown":case"keyup":f=J_;break;case"focusin":y="focus",f=sl;break;case"focusout":y="blur",f=sl;break;case"beforeblur":case"afterblur":f=sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=$_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=X_;break;case cg:case dg:case hg:f=U_;break;case fg:f=ex;break;case"scroll":f=L_;break;case"wheel":f=nx;break;case"copy":case"cut":case"paste":f=F_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=bh}var w=(e&4)!==0,x=!w&&t==="scroll",v=w?h!==null?h+"Capture":null:h;w=[];for(var m=u,p;m!==null;){p=m;var _=p.stateNode;if(p.tag===5&&_!==null&&(p=_,v!==null&&(_=Gs(m,v),_!=null&&w.push(ti(m,_,p)))),x)break;m=m.return}0<w.length&&(h=new f(h,y,null,n,c),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==uu&&(y=n.relatedTarget||n.fromElement)&&(Kn(y)||y[qt]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(y=n.relatedTarget||n.toElement,f=u,y=y?Kn(y):null,y!==null&&(x=lr(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=u),f!==y)){if(w=xh,_="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=bh,_="onPointerLeave",v="onPointerEnter",m="pointer"),x=f==null?h:jr(f),p=y==null?h:jr(y),h=new w(_,m+"leave",f,n,c),h.target=x,h.relatedTarget=p,_=null,Kn(c)===u&&(w=new w(v,m+"enter",y,n,c),w.target=p,w.relatedTarget=x,_=w),x=_,f&&y)t:{for(w=f,v=y,m=0,p=w;p;p=mr(p))m++;for(p=0,_=v;_;_=mr(_))p++;for(;0<m-p;)w=mr(w),m--;for(;0<p-m;)v=mr(v),p--;for(;m--;){if(w===v||v!==null&&w===v.alternate)break t;w=mr(w),v=mr(v)}w=null}else w=null;f!==null&&Ih(d,h,f,w,!1),y!==null&&x!==null&&Ih(d,x,y,w,!0)}}e:{if(h=u?jr(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var b=ux;else if(Th(h))if(ig)b=fx;else{b=dx;var E=cx}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=hx);if(b&&(b=b(t,u))){sg(d,b,n,c);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&su(h,"number",h.value)}switch(E=u?jr(u):window,t){case"focusin":(Th(E)||E.contentEditable==="true")&&(Cr=E,gu=u,Is=null);break;case"focusout":Is=gu=Cr=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,Ah(d,n,c);break;case"selectionchange":if(gx)break;case"keydown":case"keyup":Ah(d,n,c)}var T;if(Hc)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Tr?ng(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(tg&&n.locale!=="ko"&&(Tr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Tr&&(T=eg()):(un=c,Fc="value"in un?un.value:un.textContent,Tr=!0)),E=Bo(u,C),0<E.length&&(C=new Sh(C,t,null,n,c),d.push({event:C,listeners:E}),T?C.data=T:(T=rg(n),T!==null&&(C.data=T)))),(T=sx?ix(t,n):ox(t,n))&&(u=Bo(u,"onBeforeInput"),0<u.length&&(c=new Sh("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}mg(d,e)})}function ti(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bo(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gs(t,n),i!=null&&r.unshift(ti(t,i,s)),i=Gs(t,e),i!=null&&r.push(ti(t,i,s))),t=t.return}return r}function mr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ih(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Gs(n,i),l!=null&&o.unshift(ti(n,l,a))):s||(l=Gs(n,i),l!=null&&o.push(ti(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _x=/\r\n?/g,xx=/\u0000|\uFFFD/g;function Lh(t){return(typeof t=="string"?t:""+t).replace(_x,`
`).replace(xx,"")}function Fi(t,e,n){if(e=Lh(e),Lh(t)!==e&&n)throw Error(P(425))}function Uo(){}var vu=null,wu=null;function _u(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xu=typeof setTimeout=="function"?setTimeout:void 0,Sx=typeof clearTimeout=="function"?clearTimeout:void 0,Dh=typeof Promise=="function"?Promise:void 0,bx=typeof queueMicrotask=="function"?queueMicrotask:typeof Dh<"u"?function(t){return Dh.resolve(null).then(t).catch(kx)}:xu;function kx(t){setTimeout(function(){throw t})}function hl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ys(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ys(e)}function mn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $h(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var is=Math.random().toString(36).slice(2),Tt="__reactFiber$"+is,ni="__reactProps$"+is,qt="__reactContainer$"+is,Su="__reactEvents$"+is,Ex="__reactListeners$"+is,Tx="__reactHandles$"+is;function Kn(t){var e=t[Tt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qt]||n[Tt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$h(t);t!==null;){if(n=t[Tt])return n;t=$h(t)}return e}t=n,n=t.parentNode}return null}function _i(t){return t=t[Tt]||t[qt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function ba(t){return t[ni]||null}var bu=[],Rr=-1;function Cn(t){return{current:t}}function J(t){0>Rr||(t.current=bu[Rr],bu[Rr]=null,Rr--)}function q(t,e){Rr++,bu[Rr]=t.current,t.current=e}var bn={},Re=Cn(bn),Ve=Cn(!1),nr=bn;function Gr(t,e){var n=t.type.contextTypes;if(!n)return bn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Fe(t){return t=t.childContextTypes,t!=null}function Vo(){J(Ve),J(Re)}function Mh(t,e,n){if(Re.current!==bn)throw Error(P(168));q(Re,e),q(Ve,n)}function yg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(P(108,c_(t)||"Unknown",s));return re({},n,r)}function Fo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bn,nr=Re.current,q(Re,t),q(Ve,Ve.current),!0}function Bh(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=yg(t,e,nr),r.__reactInternalMemoizedMergedChildContext=t,J(Ve),J(Re),q(Re,t)):J(Ve),q(Ve,n)}var $t=null,ka=!1,fl=!1;function vg(t){$t===null?$t=[t]:$t.push(t)}function Cx(t){ka=!0,vg(t)}function Pn(){if(!fl&&$t!==null){fl=!0;var t=0,e=z;try{var n=$t;for(z=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$t=null,ka=!1}catch(s){throw $t!==null&&($t=$t.slice(t+1)),zm(Mc,Pn),s}finally{z=e,fl=!1}}return null}var Ar=[],Or=0,zo=null,Wo=0,st=[],it=0,rr=null,Bt=1,Ut="";function Mn(t,e){Ar[Or++]=Wo,Ar[Or++]=zo,zo=t,Wo=e}function wg(t,e,n){st[it++]=Bt,st[it++]=Ut,st[it++]=rr,rr=t;var r=Bt;t=Ut;var s=32-_t(r)-1;r&=~(1<<s),n+=1;var i=32-_t(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Bt=1<<32-_t(e)+s|n<<s|r,Ut=i+t}else Bt=1<<i|n<<s|r,Ut=t}function Kc(t){t.return!==null&&(Mn(t,1),wg(t,1,0))}function Gc(t){for(;t===zo;)zo=Ar[--Or],Ar[Or]=null,Wo=Ar[--Or],Ar[Or]=null;for(;t===rr;)rr=st[--it],st[it]=null,Ut=st[--it],st[it]=null,Bt=st[--it],st[it]=null}var Qe=null,Je=null,Q=!1,wt=null;function _g(t,e){var n=at(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Uh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qe=t,Je=mn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qe=t,Je=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rr!==null?{id:Bt,overflow:Ut}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=at(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qe=t,Je=null,!0):!1;default:return!1}}function ku(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Eu(t){if(Q){var e=Je;if(e){var n=e;if(!Uh(t,e)){if(ku(t))throw Error(P(418));e=mn(n.nextSibling);var r=Qe;e&&Uh(t,e)?_g(r,n):(t.flags=t.flags&-4097|2,Q=!1,Qe=t)}}else{if(ku(t))throw Error(P(418));t.flags=t.flags&-4097|2,Q=!1,Qe=t}}}function Vh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qe=t}function zi(t){if(t!==Qe)return!1;if(!Q)return Vh(t),Q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_u(t.type,t.memoizedProps)),e&&(e=Je)){if(ku(t))throw xg(),Error(P(418));for(;e;)_g(t,e),e=mn(e.nextSibling)}if(Vh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Je=mn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Je=null}}else Je=Qe?mn(t.stateNode.nextSibling):null;return!0}function xg(){for(var t=Je;t;)t=mn(t.nextSibling)}function Jr(){Je=Qe=null,Q=!1}function Jc(t){wt===null?wt=[t]:wt.push(t)}var Px=Yt.ReactCurrentBatchConfig;function gs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Wi(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fh(t){var e=t._init;return e(t._payload)}function Sg(t){function e(v,m){if(t){var p=v.deletions;p===null?(v.deletions=[m],v.flags|=16):p.push(m)}}function n(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=wn(v,m),v.index=0,v.sibling=null,v}function i(v,m,p){return v.index=p,t?(p=v.alternate,p!==null?(p=p.index,p<m?(v.flags|=2,m):p):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,m,p,_){return m===null||m.tag!==6?(m=_l(p,v.mode,_),m.return=v,m):(m=s(m,p),m.return=v,m)}function l(v,m,p,_){var b=p.type;return b===Er?c(v,m,p.props.children,_,p.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===tn&&Fh(b)===m.type)?(_=s(m,p.props),_.ref=gs(v,m,p),_.return=v,_):(_=bo(p.type,p.key,p.props,null,v.mode,_),_.ref=gs(v,m,p),_.return=v,_)}function u(v,m,p,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=xl(p,v.mode,_),m.return=v,m):(m=s(m,p.children||[]),m.return=v,m)}function c(v,m,p,_,b){return m===null||m.tag!==7?(m=Zn(p,v.mode,_,b),m.return=v,m):(m=s(m,p),m.return=v,m)}function d(v,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=_l(""+m,v.mode,p),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ni:return p=bo(m.type,m.key,m.props,null,v.mode,p),p.ref=gs(v,null,m),p.return=v,p;case kr:return m=xl(m,v.mode,p),m.return=v,m;case tn:var _=m._init;return d(v,_(m._payload),p)}if(ks(m)||ds(m))return m=Zn(m,v.mode,p,null),m.return=v,m;Wi(v,m)}return null}function h(v,m,p,_){var b=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return b!==null?null:a(v,m,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ni:return p.key===b?l(v,m,p,_):null;case kr:return p.key===b?u(v,m,p,_):null;case tn:return b=p._init,h(v,m,b(p._payload),_)}if(ks(p)||ds(p))return b!==null?null:c(v,m,p,_,null);Wi(v,p)}return null}function f(v,m,p,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(p)||null,a(m,v,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ni:return v=v.get(_.key===null?p:_.key)||null,l(m,v,_,b);case kr:return v=v.get(_.key===null?p:_.key)||null,u(m,v,_,b);case tn:var E=_._init;return f(v,m,p,E(_._payload),b)}if(ks(_)||ds(_))return v=v.get(p)||null,c(m,v,_,b,null);Wi(m,_)}return null}function y(v,m,p,_){for(var b=null,E=null,T=m,C=m=0,A=null;T!==null&&C<p.length;C++){T.index>C?(A=T,T=null):A=T.sibling;var I=h(v,T,p[C],_);if(I===null){T===null&&(T=A);break}t&&T&&I.alternate===null&&e(v,T),m=i(I,m,C),E===null?b=I:E.sibling=I,E=I,T=A}if(C===p.length)return n(v,T),Q&&Mn(v,C),b;if(T===null){for(;C<p.length;C++)T=d(v,p[C],_),T!==null&&(m=i(T,m,C),E===null?b=T:E.sibling=T,E=T);return Q&&Mn(v,C),b}for(T=r(v,T);C<p.length;C++)A=f(T,v,C,p[C],_),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?C:A.key),m=i(A,m,C),E===null?b=A:E.sibling=A,E=A);return t&&T.forEach(function(oe){return e(v,oe)}),Q&&Mn(v,C),b}function w(v,m,p,_){var b=ds(p);if(typeof b!="function")throw Error(P(150));if(p=b.call(p),p==null)throw Error(P(151));for(var E=b=null,T=m,C=m=0,A=null,I=p.next();T!==null&&!I.done;C++,I=p.next()){T.index>C?(A=T,T=null):A=T.sibling;var oe=h(v,T,I.value,_);if(oe===null){T===null&&(T=A);break}t&&T&&oe.alternate===null&&e(v,T),m=i(oe,m,C),E===null?b=oe:E.sibling=oe,E=oe,T=A}if(I.done)return n(v,T),Q&&Mn(v,C),b;if(T===null){for(;!I.done;C++,I=p.next())I=d(v,I.value,_),I!==null&&(m=i(I,m,C),E===null?b=I:E.sibling=I,E=I);return Q&&Mn(v,C),b}for(T=r(v,T);!I.done;C++,I=p.next())I=f(T,v,C,I.value,_),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?C:I.key),m=i(I,m,C),E===null?b=I:E.sibling=I,E=I);return t&&T.forEach(function(se){return e(v,se)}),Q&&Mn(v,C),b}function x(v,m,p,_){if(typeof p=="object"&&p!==null&&p.type===Er&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ni:e:{for(var b=p.key,E=m;E!==null;){if(E.key===b){if(b=p.type,b===Er){if(E.tag===7){n(v,E.sibling),m=s(E,p.props.children),m.return=v,v=m;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===tn&&Fh(b)===E.type){n(v,E.sibling),m=s(E,p.props),m.ref=gs(v,E,p),m.return=v,v=m;break e}n(v,E);break}else e(v,E);E=E.sibling}p.type===Er?(m=Zn(p.props.children,v.mode,_,p.key),m.return=v,v=m):(_=bo(p.type,p.key,p.props,null,v.mode,_),_.ref=gs(v,m,p),_.return=v,v=_)}return o(v);case kr:e:{for(E=p.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(v,m.sibling),m=s(m,p.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else e(v,m);m=m.sibling}m=xl(p,v.mode,_),m.return=v,v=m}return o(v);case tn:return E=p._init,x(v,m,E(p._payload),_)}if(ks(p))return y(v,m,p,_);if(ds(p))return w(v,m,p,_);Wi(v,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(v,m.sibling),m=s(m,p),m.return=v,v=m):(n(v,m),m=_l(p,v.mode,_),m.return=v,v=m),o(v)):n(v,m)}return x}var Qr=Sg(!0),bg=Sg(!1),Ho=Cn(null),qo=null,Nr=null,Qc=null;function Yc(){Qc=Nr=qo=null}function Xc(t){var e=Ho.current;J(Ho),t._currentValue=e}function Tu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wr(t,e){qo=t,Qc=Nr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ue=!0),t.firstContext=null)}function ut(t){var e=t._currentValue;if(Qc!==t)if(t={context:t,memoizedValue:e,next:null},Nr===null){if(qo===null)throw Error(P(308));Nr=t,qo.dependencies={lanes:0,firstContext:t}}else Nr=Nr.next=t;return e}var Gn=null;function Zc(t){Gn===null?Gn=[t]:Gn.push(t)}function kg(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Zc(e)):(n.next=s.next,s.next=n),e.interleaved=n,Kt(t,r)}function Kt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var nn=!1;function ed(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ft(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,F&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Kt(t,n)}return s=r.interleaved,s===null?(e.next=e,Zc(r)):(e.next=s.next,s.next=e),r.interleaved=e,Kt(t,n)}function yo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bc(t,n)}}function zh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ko(t,e,n,r){var s=t.updateQueue;nn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(h=e,f=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(f,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(f,d,h):y,h==null)break e;d=re({},d,h);break e;case 2:nn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ir|=o,t.lanes=o,t.memoizedState=d}}function Wh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var xi={},Rt=Cn(xi),ri=Cn(xi),si=Cn(xi);function Jn(t){if(t===xi)throw Error(P(174));return t}function td(t,e){switch(q(si,e),q(ri,t),q(Rt,xi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ou(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ou(e,t)}J(Rt),q(Rt,e)}function Yr(){J(Rt),J(ri),J(si)}function Tg(t){Jn(si.current);var e=Jn(Rt.current),n=ou(e,t.type);e!==n&&(q(ri,t),q(Rt,n))}function nd(t){ri.current===t&&(J(Rt),J(ri))}var ee=Cn(0);function Go(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pl=[];function rd(){for(var t=0;t<pl.length;t++)pl[t]._workInProgressVersionPrimary=null;pl.length=0}var vo=Yt.ReactCurrentDispatcher,ml=Yt.ReactCurrentBatchConfig,sr=0,ne=null,ge=null,we=null,Jo=!1,Ls=!1,ii=0,jx=0;function Ee(){throw Error(P(321))}function sd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!St(t[n],e[n]))return!1;return!0}function id(t,e,n,r,s,i){if(sr=i,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vo.current=t===null||t.memoizedState===null?Nx:Ix,t=n(r,s),Ls){i=0;do{if(Ls=!1,ii=0,25<=i)throw Error(P(301));i+=1,we=ge=null,e.updateQueue=null,vo.current=Lx,t=n(r,s)}while(Ls)}if(vo.current=Qo,e=ge!==null&&ge.next!==null,sr=0,we=ge=ne=null,Jo=!1,e)throw Error(P(300));return t}function od(){var t=ii!==0;return ii=0,t}function Et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?ne.memoizedState=we=t:we=we.next=t,we}function ct(){if(ge===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=ge.next;var e=we===null?ne.memoizedState:we.next;if(e!==null)we=e,ge=t;else{if(t===null)throw Error(P(310));ge=t,t={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},we===null?ne.memoizedState=we=t:we=we.next=t}return we}function oi(t,e){return typeof e=="function"?e(t):e}function gl(t){var e=ct(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=ge,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((sr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ne.lanes|=c,ir|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,St(r,e.memoizedState)||(Ue=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ne.lanes|=i,ir|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yl(t){var e=ct(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);St(i,e.memoizedState)||(Ue=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Cg(){}function Pg(t,e){var n=ne,r=ct(),s=e(),i=!St(r.memoizedState,s);if(i&&(r.memoizedState=s,Ue=!0),r=r.queue,ad(Ag.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,ai(9,Rg.bind(null,n,r,s,e),void 0,null),_e===null)throw Error(P(349));sr&30||jg(n,e,s)}return s}function jg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Rg(t,e,n,r){e.value=n,e.getSnapshot=r,Og(e)&&Ng(t)}function Ag(t,e,n){return n(function(){Og(e)&&Ng(t)})}function Og(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!St(t,n)}catch{return!0}}function Ng(t){var e=Kt(t,1);e!==null&&xt(e,t,1,-1)}function Hh(t){var e=Et();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:t},e.queue=t,t=t.dispatch=Ox.bind(null,ne,t),[e.memoizedState,t]}function ai(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ig(){return ct().memoizedState}function wo(t,e,n,r){var s=Et();ne.flags|=t,s.memoizedState=ai(1|e,n,void 0,r===void 0?null:r)}function Ea(t,e,n,r){var s=ct();r=r===void 0?null:r;var i=void 0;if(ge!==null){var o=ge.memoizedState;if(i=o.destroy,r!==null&&sd(r,o.deps)){s.memoizedState=ai(e,n,i,r);return}}ne.flags|=t,s.memoizedState=ai(1|e,n,i,r)}function qh(t,e){return wo(8390656,8,t,e)}function ad(t,e){return Ea(2048,8,t,e)}function Lg(t,e){return Ea(4,2,t,e)}function Dg(t,e){return Ea(4,4,t,e)}function $g(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Mg(t,e,n){return n=n!=null?n.concat([t]):null,Ea(4,4,$g.bind(null,e,t),n)}function ld(){}function Bg(t,e){var n=ct();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ug(t,e){var n=ct();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Vg(t,e,n){return sr&21?(St(n,e)||(n=qm(),ne.lanes|=n,ir|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ue=!0),t.memoizedState=n)}function Rx(t,e){var n=z;z=n!==0&&4>n?n:4,t(!0);var r=ml.transition;ml.transition={};try{t(!1),e()}finally{z=n,ml.transition=r}}function Fg(){return ct().memoizedState}function Ax(t,e,n){var r=vn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zg(t))Wg(e,n);else if(n=kg(t,e,n,r),n!==null){var s=Ie();xt(n,t,r,s),Hg(n,e,r)}}function Ox(t,e,n){var r=vn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zg(t))Wg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,St(a,o)){var l=e.interleaved;l===null?(s.next=s,Zc(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=kg(t,e,s,r),n!==null&&(s=Ie(),xt(n,t,r,s),Hg(n,e,r))}}function zg(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function Wg(t,e){Ls=Jo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Hg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bc(t,n)}}var Qo={readContext:ut,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},Nx={readContext:ut,useCallback:function(t,e){return Et().memoizedState=[t,e===void 0?null:e],t},useContext:ut,useEffect:qh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wo(4194308,4,$g.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wo(4194308,4,t,e)},useInsertionEffect:function(t,e){return wo(4,2,t,e)},useMemo:function(t,e){var n=Et();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Et();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ax.bind(null,ne,t),[r.memoizedState,t]},useRef:function(t){var e=Et();return t={current:t},e.memoizedState=t},useState:Hh,useDebugValue:ld,useDeferredValue:function(t){return Et().memoizedState=t},useTransition:function(){var t=Hh(!1),e=t[0];return t=Rx.bind(null,t[1]),Et().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ne,s=Et();if(Q){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),_e===null)throw Error(P(349));sr&30||jg(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,qh(Ag.bind(null,r,i,t),[t]),r.flags|=2048,ai(9,Rg.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Et(),e=_e.identifierPrefix;if(Q){var n=Ut,r=Bt;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ii++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ix={readContext:ut,useCallback:Bg,useContext:ut,useEffect:ad,useImperativeHandle:Mg,useInsertionEffect:Lg,useLayoutEffect:Dg,useMemo:Ug,useReducer:gl,useRef:Ig,useState:function(){return gl(oi)},useDebugValue:ld,useDeferredValue:function(t){var e=ct();return Vg(e,ge.memoizedState,t)},useTransition:function(){var t=gl(oi)[0],e=ct().memoizedState;return[t,e]},useMutableSource:Cg,useSyncExternalStore:Pg,useId:Fg,unstable_isNewReconciler:!1},Lx={readContext:ut,useCallback:Bg,useContext:ut,useEffect:ad,useImperativeHandle:Mg,useInsertionEffect:Lg,useLayoutEffect:Dg,useMemo:Ug,useReducer:yl,useRef:Ig,useState:function(){return yl(oi)},useDebugValue:ld,useDeferredValue:function(t){var e=ct();return ge===null?e.memoizedState=t:Vg(e,ge.memoizedState,t)},useTransition:function(){var t=yl(oi)[0],e=ct().memoizedState;return[t,e]},useMutableSource:Cg,useSyncExternalStore:Pg,useId:Fg,unstable_isNewReconciler:!1};function mt(t,e){if(t&&t.defaultProps){e=re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ta={isMounted:function(t){return(t=t._reactInternals)?lr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ie(),s=vn(t),i=Ft(r,s);i.payload=e,n!=null&&(i.callback=n),e=gn(t,i,s),e!==null&&(xt(e,t,s,r),yo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ie(),s=vn(t),i=Ft(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=gn(t,i,s),e!==null&&(xt(e,t,s,r),yo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ie(),r=vn(t),s=Ft(n,r);s.tag=2,e!=null&&(s.callback=e),e=gn(t,s,r),e!==null&&(xt(e,t,r,n),yo(e,t,r))}};function Kh(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Zs(n,r)||!Zs(s,i):!0}function qg(t,e,n){var r=!1,s=bn,i=e.contextType;return typeof i=="object"&&i!==null?i=ut(i):(s=Fe(e)?nr:Re.current,r=e.contextTypes,i=(r=r!=null)?Gr(t,s):bn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ta,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Gh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ta.enqueueReplaceState(e,e.state,null)}function Pu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ed(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ut(i):(i=Fe(e)?nr:Re.current,s.context=Gr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Cu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ta.enqueueReplaceState(s,s.state,null),Ko(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Xr(t,e){try{var n="",r=e;do n+=u_(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function vl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ju(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Dx=typeof WeakMap=="function"?WeakMap:Map;function Kg(t,e,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xo||(Xo=!0,Bu=r),ju(t,e)},n}function Gg(t,e,n){n=Ft(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ju(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ju(t,e),typeof r!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Jh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Dx;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Qx.bind(null,t,e,n),e.then(t,t))}function Qh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yh(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ft(-1,1),e.tag=2,gn(n,e,1))),n.lanes|=1),t)}var $x=Yt.ReactCurrentOwner,Ue=!1;function Oe(t,e,n,r){e.child=t===null?bg(e,null,n,r):Qr(e,t.child,n,r)}function Xh(t,e,n,r,s){n=n.render;var i=e.ref;return Wr(e,s),r=id(t,e,n,r,i,s),n=od(),t!==null&&!Ue?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gt(t,e,s)):(Q&&n&&Kc(e),e.flags|=1,Oe(t,e,r,s),e.child)}function Zh(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!gd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Jg(t,e,i,r,s)):(t=bo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zs,n(o,r)&&t.ref===e.ref)return Gt(t,e,s)}return e.flags|=1,t=wn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Jg(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Zs(i,r)&&t.ref===e.ref)if(Ue=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ue=!0);else return e.lanes=t.lanes,Gt(t,e,s)}return Ru(t,e,n,r,s)}function Qg(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(Lr,qe),qe|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,q(Lr,qe),qe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,q(Lr,qe),qe|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,q(Lr,qe),qe|=r;return Oe(t,e,s,n),e.child}function Yg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ru(t,e,n,r,s){var i=Fe(n)?nr:Re.current;return i=Gr(e,i),Wr(e,s),n=id(t,e,n,r,i,s),r=od(),t!==null&&!Ue?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gt(t,e,s)):(Q&&r&&Kc(e),e.flags|=1,Oe(t,e,n,s),e.child)}function ef(t,e,n,r,s){if(Fe(n)){var i=!0;Fo(e)}else i=!1;if(Wr(e,s),e.stateNode===null)_o(t,e),qg(e,n,r),Pu(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ut(u):(u=Fe(n)?nr:Re.current,u=Gr(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Gh(e,o,r,u),nn=!1;var h=e.memoizedState;o.state=h,Ko(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Ve.current||nn?(typeof c=="function"&&(Cu(e,n,c,r),l=e.memoizedState),(a=nn||Kh(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Eg(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:mt(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ut(l):(l=Fe(n)?nr:Re.current,l=Gr(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Gh(e,o,r,l),nn=!1,h=e.memoizedState,o.state=h,Ko(e,r,o,s);var y=e.memoizedState;a!==d||h!==y||Ve.current||nn?(typeof f=="function"&&(Cu(e,n,f,r),y=e.memoizedState),(u=nn||Kh(e,n,u,r,h,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Au(t,e,n,r,i,s)}function Au(t,e,n,r,s,i){Yg(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Bh(e,n,!1),Gt(t,e,i);r=e.stateNode,$x.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Qr(e,t.child,null,i),e.child=Qr(e,null,a,i)):Oe(t,e,a,i),e.memoizedState=r.state,s&&Bh(e,n,!0),e.child}function Xg(t){var e=t.stateNode;e.pendingContext?Mh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Mh(t,e.context,!1),td(t,e.containerInfo)}function tf(t,e,n,r,s){return Jr(),Jc(s),e.flags|=256,Oe(t,e,n,r),e.child}var Ou={dehydrated:null,treeContext:null,retryLane:0};function Nu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zg(t,e,n){var r=e.pendingProps,s=ee.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),q(ee,s&1),t===null)return Eu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ja(o,r,0,null),t=Zn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Nu(n),e.memoizedState=Ou,t):ud(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Mx(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=wn(a,i):(i=Zn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Nu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ou,r}return i=t.child,t=i.sibling,r=wn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ud(t,e){return e=ja({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hi(t,e,n,r){return r!==null&&Jc(r),Qr(e,t.child,null,n),t=ud(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Mx(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=vl(Error(P(422))),Hi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ja({mode:"visible",children:r.children},s,0,null),i=Zn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Qr(e,t.child,null,o),e.child.memoizedState=Nu(o),e.memoizedState=Ou,i);if(!(e.mode&1))return Hi(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(P(419)),r=vl(i,r,void 0),Hi(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ue||a){if(r=_e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Kt(t,s),xt(r,t,s,-1))}return md(),r=vl(Error(P(421))),Hi(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Yx.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Je=mn(s.nextSibling),Qe=e,Q=!0,wt=null,t!==null&&(st[it++]=Bt,st[it++]=Ut,st[it++]=rr,Bt=t.id,Ut=t.overflow,rr=e),e=ud(e,r.children),e.flags|=4096,e)}function nf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tu(t.return,e,n)}function wl(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ey(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Oe(t,e,r.children,n),r=ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nf(t,n,e);else if(t.tag===19)nf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(q(ee,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Go(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),wl(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Go(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}wl(e,!0,n,null,i);break;case"together":wl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _o(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ir|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=wn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Bx(t,e,n){switch(e.tag){case 3:Xg(e),Jr();break;case 5:Tg(e);break;case 1:Fe(e.type)&&Fo(e);break;case 4:td(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;q(Ho,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(q(ee,ee.current&1),e.flags|=128,null):n&e.child.childLanes?Zg(t,e,n):(q(ee,ee.current&1),t=Gt(t,e,n),t!==null?t.sibling:null);q(ee,ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ey(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(ee,ee.current),r)break;return null;case 22:case 23:return e.lanes=0,Qg(t,e,n)}return Gt(t,e,n)}var ty,Iu,ny,ry;ty=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Iu=function(){};ny=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Jn(Rt.current);var i=null;switch(n){case"input":s=nu(t,s),r=nu(t,r),i=[];break;case"select":s=re({},s,{value:void 0}),r=re({},r,{value:void 0}),i=[];break;case"textarea":s=iu(t,s),r=iu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uo)}au(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&G("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};ry=function(t,e,n,r){n!==r&&(e.flags|=4)};function ys(t,e){if(!Q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Te(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ux(t,e,n){var r=e.pendingProps;switch(Gc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(e),null;case 1:return Fe(e.type)&&Vo(),Te(e),null;case 3:return r=e.stateNode,Yr(),J(Ve),J(Re),rd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wt!==null&&(Fu(wt),wt=null))),Iu(t,e),Te(e),null;case 5:nd(e);var s=Jn(si.current);if(n=e.type,t!==null&&e.stateNode!=null)ny(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return Te(e),null}if(t=Jn(Rt.current),zi(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Tt]=e,r[ni]=i,t=(e.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(s=0;s<Ts.length;s++)G(Ts[s],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":dh(r,i),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},G("invalid",r);break;case"textarea":fh(r,i),G("invalid",r)}au(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Fi(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Fi(r.textContent,a,t),s=["children",""+a]):qs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&G("scroll",r)}switch(n){case"input":Ii(r),hh(r,i,!0);break;case"textarea":Ii(r),ph(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Uo)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Am(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tt]=e,t[ni]=r,ty(t,e,!1,!1),e.stateNode=t;e:{switch(o=lu(n,r),n){case"dialog":G("cancel",t),G("close",t),s=r;break;case"iframe":case"object":case"embed":G("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ts.length;s++)G(Ts[s],t);s=r;break;case"source":G("error",t),s=r;break;case"img":case"image":case"link":G("error",t),G("load",t),s=r;break;case"details":G("toggle",t),s=r;break;case"input":dh(t,r),s=nu(t,r),G("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=re({},r,{value:void 0}),G("invalid",t);break;case"textarea":fh(t,r),s=iu(t,r),G("invalid",t);break;default:s=r}au(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Im(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Om(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ks(t,l):typeof l=="number"&&Ks(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&G("scroll",t):l!=null&&Nc(t,i,l,o))}switch(n){case"input":Ii(t),hh(t,r,!1);break;case"textarea":Ii(t),ph(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Sn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ur(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ur(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Uo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Te(e),null;case 6:if(t&&e.stateNode!=null)ry(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=Jn(si.current),Jn(Rt.current),zi(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tt]=e,(i=r.nodeValue!==n)&&(t=Qe,t!==null))switch(t.tag){case 3:Fi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fi(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tt]=e,e.stateNode=r}return Te(e),null;case 13:if(J(ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Q&&Je!==null&&e.mode&1&&!(e.flags&128))xg(),Jr(),e.flags|=98560,i=!1;else if(i=zi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Tt]=e}else Jr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Te(e),i=!1}else wt!==null&&(Fu(wt),wt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ee.current&1?ve===0&&(ve=3):md())),e.updateQueue!==null&&(e.flags|=4),Te(e),null);case 4:return Yr(),Iu(t,e),t===null&&ei(e.stateNode.containerInfo),Te(e),null;case 10:return Xc(e.type._context),Te(e),null;case 17:return Fe(e.type)&&Vo(),Te(e),null;case 19:if(J(ee),i=e.memoizedState,i===null)return Te(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ys(i,!1);else{if(ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Go(t),o!==null){for(e.flags|=128,ys(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return q(ee,ee.current&1|2),e.child}t=t.sibling}i.tail!==null&&ae()>Zr&&(e.flags|=128,r=!0,ys(i,!1),e.lanes=4194304)}else{if(!r)if(t=Go(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ys(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Q)return Te(e),null}else 2*ae()-i.renderingStartTime>Zr&&n!==1073741824&&(e.flags|=128,r=!0,ys(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ae(),e.sibling=null,n=ee.current,q(ee,r?n&1|2:n&1),e):(Te(e),null);case 22:case 23:return pd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qe&1073741824&&(Te(e),e.subtreeFlags&6&&(e.flags|=8192)):Te(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function Vx(t,e){switch(Gc(e),e.tag){case 1:return Fe(e.type)&&Vo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yr(),J(Ve),J(Re),rd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nd(e),null;case 13:if(J(ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Jr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(ee),null;case 4:return Yr(),null;case 10:return Xc(e.type._context),null;case 22:case 23:return pd(),null;case 24:return null;default:return null}}var qi=!1,je=!1,Fx=typeof WeakSet=="function"?WeakSet:Set,R=null;function Ir(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(t,e,r)}else n.current=null}function Lu(t,e,n){try{n()}catch(r){ie(t,e,r)}}var rf=!1;function zx(t,e){if(vu=$o,t=lg(),qc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wu={focusedElem:t,selectionRange:n},$o=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,x=y.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:mt(e.type,w),x);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(_){ie(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return y=rf,rf=!1,y}function Ds(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Lu(e,n,i)}s=s.next}while(s!==r)}}function Ca(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Du(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sy(t){var e=t.alternate;e!==null&&(t.alternate=null,sy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tt],delete e[ni],delete e[Su],delete e[Ex],delete e[Tx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iy(t){return t.tag===5||t.tag===3||t.tag===4}function sf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $u(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uo));else if(r!==4&&(t=t.child,t!==null))for($u(t,e,n),t=t.sibling;t!==null;)$u(t,e,n),t=t.sibling}function Mu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mu(t,e,n),t=t.sibling;t!==null;)Mu(t,e,n),t=t.sibling}var Se=null,yt=!1;function Xt(t,e,n){for(n=n.child;n!==null;)oy(t,e,n),n=n.sibling}function oy(t,e,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(wa,n)}catch{}switch(n.tag){case 5:je||Ir(n,e);case 6:var r=Se,s=yt;Se=null,Xt(t,e,n),Se=r,yt=s,Se!==null&&(yt?(t=Se,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(yt?(t=Se,n=n.stateNode,t.nodeType===8?hl(t.parentNode,n):t.nodeType===1&&hl(t,n),Ys(t)):hl(Se,n.stateNode));break;case 4:r=Se,s=yt,Se=n.stateNode.containerInfo,yt=!0,Xt(t,e,n),Se=r,yt=s;break;case 0:case 11:case 14:case 15:if(!je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Lu(n,e,o),s=s.next}while(s!==r)}Xt(t,e,n);break;case 1:if(!je&&(Ir(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ie(n,e,a)}Xt(t,e,n);break;case 21:Xt(t,e,n);break;case 22:n.mode&1?(je=(r=je)||n.memoizedState!==null,Xt(t,e,n),je=r):Xt(t,e,n);break;default:Xt(t,e,n)}}function of(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Fx),e.forEach(function(r){var s=Xx.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ht(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Se=a.stateNode,yt=!1;break e;case 3:Se=a.stateNode.containerInfo,yt=!0;break e;case 4:Se=a.stateNode.containerInfo,yt=!0;break e}a=a.return}if(Se===null)throw Error(P(160));oy(i,o,s),Se=null,yt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ie(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ay(e,t),e=e.sibling}function ay(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ht(e,t),kt(t),r&4){try{Ds(3,t,t.return),Ca(3,t)}catch(w){ie(t,t.return,w)}try{Ds(5,t,t.return)}catch(w){ie(t,t.return,w)}}break;case 1:ht(e,t),kt(t),r&512&&n!==null&&Ir(n,n.return);break;case 5:if(ht(e,t),kt(t),r&512&&n!==null&&Ir(n,n.return),t.flags&32){var s=t.stateNode;try{Ks(s,"")}catch(w){ie(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&jm(s,i),lu(a,o);var u=lu(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Im(s,d):c==="dangerouslySetInnerHTML"?Om(s,d):c==="children"?Ks(s,d):Nc(s,c,d,u)}switch(a){case"input":ru(s,i);break;case"textarea":Rm(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Ur(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ur(s,!!i.multiple,i.defaultValue,!0):Ur(s,!!i.multiple,i.multiple?[]:"",!1))}s[ni]=i}catch(w){ie(t,t.return,w)}}break;case 6:if(ht(e,t),kt(t),r&4){if(t.stateNode===null)throw Error(P(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){ie(t,t.return,w)}}break;case 3:if(ht(e,t),kt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ys(e.containerInfo)}catch(w){ie(t,t.return,w)}break;case 4:ht(e,t),kt(t);break;case 13:ht(e,t),kt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(hd=ae())),r&4&&of(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(je=(u=je)||c,ht(e,t),je=u):ht(e,t),kt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(R=t,c=t.child;c!==null;){for(d=R=c;R!==null;){switch(h=R,f=h.child,h.tag){case 0:case 11:case 14:case 15:Ds(4,h,h.return);break;case 1:Ir(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){ie(r,n,w)}}break;case 5:Ir(h,h.return);break;case 22:if(h.memoizedState!==null){lf(d);continue}}f!==null?(f.return=h,R=f):lf(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Nm("display",o))}catch(w){ie(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){ie(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ht(e,t),kt(t),r&4&&of(t);break;case 21:break;default:ht(e,t),kt(t)}}function kt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iy(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ks(s,""),r.flags&=-33);var i=sf(t);Mu(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=sf(t);$u(t,a,o);break;default:throw Error(P(161))}}catch(l){ie(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Wx(t,e,n){R=t,ly(t)}function ly(t,e,n){for(var r=(t.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||qi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||je;a=qi;var u=je;if(qi=o,(je=l)&&!u)for(R=s;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?uf(s):l!==null?(l.return=o,R=l):uf(s);for(;i!==null;)R=i,ly(i),i=i.sibling;R=s,qi=a,je=u}af(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):af(t)}}function af(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:je||Ca(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!je)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:mt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Wh(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Wh(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ys(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}je||e.flags&512&&Du(e)}catch(h){ie(e,e.return,h)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function lf(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function uf(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ca(4,e)}catch(l){ie(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ie(e,s,l)}}var i=e.return;try{Du(e)}catch(l){ie(e,i,l)}break;case 5:var o=e.return;try{Du(e)}catch(l){ie(e,o,l)}}}catch(l){ie(e,e.return,l)}if(e===t){R=null;break}var a=e.sibling;if(a!==null){a.return=e.return,R=a;break}R=e.return}}var Hx=Math.ceil,Yo=Yt.ReactCurrentDispatcher,cd=Yt.ReactCurrentOwner,lt=Yt.ReactCurrentBatchConfig,F=0,_e=null,he=null,be=0,qe=0,Lr=Cn(0),ve=0,li=null,ir=0,Pa=0,dd=0,$s=null,Be=null,hd=0,Zr=1/0,Lt=null,Xo=!1,Bu=null,yn=null,Ki=!1,cn=null,Zo=0,Ms=0,Uu=null,xo=-1,So=0;function Ie(){return F&6?ae():xo!==-1?xo:xo=ae()}function vn(t){return t.mode&1?F&2&&be!==0?be&-be:Px.transition!==null?(So===0&&(So=qm()),So):(t=z,t!==0||(t=window.event,t=t===void 0?16:Zm(t.type)),t):1}function xt(t,e,n,r){if(50<Ms)throw Ms=0,Uu=null,Error(P(185));vi(t,n,r),(!(F&2)||t!==_e)&&(t===_e&&(!(F&2)&&(Pa|=n),ve===4&&on(t,be)),ze(t,r),n===1&&F===0&&!(e.mode&1)&&(Zr=ae()+500,ka&&Pn()))}function ze(t,e){var n=t.callbackNode;P_(t,e);var r=Do(t,t===_e?be:0);if(r===0)n!==null&&yh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yh(n),e===1)t.tag===0?Cx(cf.bind(null,t)):vg(cf.bind(null,t)),bx(function(){!(F&6)&&Pn()}),n=null;else{switch(Km(r)){case 1:n=Mc;break;case 4:n=Wm;break;case 16:n=Lo;break;case 536870912:n=Hm;break;default:n=Lo}n=gy(n,uy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uy(t,e){if(xo=-1,So=0,F&6)throw Error(P(327));var n=t.callbackNode;if(Hr()&&t.callbackNode!==n)return null;var r=Do(t,t===_e?be:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ea(t,r);else{e=r;var s=F;F|=2;var i=dy();(_e!==t||be!==e)&&(Lt=null,Zr=ae()+500,Xn(t,e));do try{Gx();break}catch(a){cy(t,a)}while(!0);Yc(),Yo.current=i,F=s,he!==null?e=0:(_e=null,be=0,e=ve)}if(e!==0){if(e===2&&(s=fu(t),s!==0&&(r=s,e=Vu(t,s))),e===1)throw n=li,Xn(t,0),on(t,r),ze(t,ae()),n;if(e===6)on(t,r);else{if(s=t.current.alternate,!(r&30)&&!qx(s)&&(e=ea(t,r),e===2&&(i=fu(t),i!==0&&(r=i,e=Vu(t,i))),e===1))throw n=li,Xn(t,0),on(t,r),ze(t,ae()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:Bn(t,Be,Lt);break;case 3:if(on(t,r),(r&130023424)===r&&(e=hd+500-ae(),10<e)){if(Do(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ie(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=xu(Bn.bind(null,t,Be,Lt),e);break}Bn(t,Be,Lt);break;case 4:if(on(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-_t(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hx(r/1960))-r,10<r){t.timeoutHandle=xu(Bn.bind(null,t,Be,Lt),r);break}Bn(t,Be,Lt);break;case 5:Bn(t,Be,Lt);break;default:throw Error(P(329))}}}return ze(t,ae()),t.callbackNode===n?uy.bind(null,t):null}function Vu(t,e){var n=$s;return t.current.memoizedState.isDehydrated&&(Xn(t,e).flags|=256),t=ea(t,e),t!==2&&(e=Be,Be=n,e!==null&&Fu(e)),t}function Fu(t){Be===null?Be=t:Be.push.apply(Be,t)}function qx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!St(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function on(t,e){for(e&=~dd,e&=~Pa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_t(e),r=1<<n;t[n]=-1,e&=~r}}function cf(t){if(F&6)throw Error(P(327));Hr();var e=Do(t,0);if(!(e&1))return ze(t,ae()),null;var n=ea(t,e);if(t.tag!==0&&n===2){var r=fu(t);r!==0&&(e=r,n=Vu(t,r))}if(n===1)throw n=li,Xn(t,0),on(t,e),ze(t,ae()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bn(t,Be,Lt),ze(t,ae()),null}function fd(t,e){var n=F;F|=1;try{return t(e)}finally{F=n,F===0&&(Zr=ae()+500,ka&&Pn())}}function or(t){cn!==null&&cn.tag===0&&!(F&6)&&Hr();var e=F;F|=1;var n=lt.transition,r=z;try{if(lt.transition=null,z=1,t)return t()}finally{z=r,lt.transition=n,F=e,!(F&6)&&Pn()}}function pd(){qe=Lr.current,J(Lr)}function Xn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Sx(n)),he!==null)for(n=he.return;n!==null;){var r=n;switch(Gc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vo();break;case 3:Yr(),J(Ve),J(Re),rd();break;case 5:nd(r);break;case 4:Yr();break;case 13:J(ee);break;case 19:J(ee);break;case 10:Xc(r.type._context);break;case 22:case 23:pd()}n=n.return}if(_e=t,he=t=wn(t.current,null),be=qe=e,ve=0,li=null,dd=Pa=ir=0,Be=$s=null,Gn!==null){for(e=0;e<Gn.length;e++)if(n=Gn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Gn=null}return t}function cy(t,e){do{var n=he;try{if(Yc(),vo.current=Qo,Jo){for(var r=ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Jo=!1}if(sr=0,we=ge=ne=null,Ls=!1,ii=0,cd.current=null,n===null||n.return===null){ve=1,li=e,he=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=be,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Qh(o);if(f!==null){f.flags&=-257,Yh(f,o,a,i,e),f.mode&1&&Jh(i,u,e),e=f,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){Jh(i,u,e),md();break e}l=Error(P(426))}}else if(Q&&a.mode&1){var x=Qh(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Yh(x,o,a,i,e),Jc(Xr(l,a));break e}}i=l=Xr(l,a),ve!==4&&(ve=2),$s===null?$s=[i]:$s.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Kg(i,l,e);zh(i,v);break e;case 1:a=l;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(yn===null||!yn.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Gg(i,a,e);zh(i,_);break e}}i=i.return}while(i!==null)}fy(n)}catch(b){e=b,he===n&&n!==null&&(he=n=n.return);continue}break}while(!0)}function dy(){var t=Yo.current;return Yo.current=Qo,t===null?Qo:t}function md(){(ve===0||ve===3||ve===2)&&(ve=4),_e===null||!(ir&268435455)&&!(Pa&268435455)||on(_e,be)}function ea(t,e){var n=F;F|=2;var r=dy();(_e!==t||be!==e)&&(Lt=null,Xn(t,e));do try{Kx();break}catch(s){cy(t,s)}while(!0);if(Yc(),F=n,Yo.current=r,he!==null)throw Error(P(261));return _e=null,be=0,ve}function Kx(){for(;he!==null;)hy(he)}function Gx(){for(;he!==null&&!w_();)hy(he)}function hy(t){var e=my(t.alternate,t,qe);t.memoizedProps=t.pendingProps,e===null?fy(t):he=e,cd.current=null}function fy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Vx(n,e),n!==null){n.flags&=32767,he=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ve=6,he=null;return}}else if(n=Ux(n,e,qe),n!==null){he=n;return}if(e=e.sibling,e!==null){he=e;return}he=e=t}while(e!==null);ve===0&&(ve=5)}function Bn(t,e,n){var r=z,s=lt.transition;try{lt.transition=null,z=1,Jx(t,e,n,r)}finally{lt.transition=s,z=r}return null}function Jx(t,e,n,r){do Hr();while(cn!==null);if(F&6)throw Error(P(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(j_(t,i),t===_e&&(he=_e=null,be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ki||(Ki=!0,gy(Lo,function(){return Hr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=lt.transition,lt.transition=null;var o=z;z=1;var a=F;F|=4,cd.current=null,zx(t,n),ay(n,t),mx(wu),$o=!!vu,wu=vu=null,t.current=n,Wx(n),__(),F=a,z=o,lt.transition=i}else t.current=n;if(Ki&&(Ki=!1,cn=t,Zo=s),i=t.pendingLanes,i===0&&(yn=null),b_(n.stateNode),ze(t,ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xo)throw Xo=!1,t=Bu,Bu=null,t;return Zo&1&&t.tag!==0&&Hr(),i=t.pendingLanes,i&1?t===Uu?Ms++:(Ms=0,Uu=t):Ms=0,Pn(),null}function Hr(){if(cn!==null){var t=Km(Zo),e=lt.transition,n=z;try{if(lt.transition=null,z=16>t?16:t,cn===null)var r=!1;else{if(t=cn,cn=null,Zo=0,F&6)throw Error(P(331));var s=F;for(F|=4,R=t.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(R=u;R!==null;){var c=R;switch(c.tag){case 0:case 11:case 15:Ds(8,c,i)}var d=c.child;if(d!==null)d.return=c,R=d;else for(;R!==null;){c=R;var h=c.sibling,f=c.return;if(sy(c),c===u){R=null;break}if(h!==null){h.return=f,R=h;break}R=f}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ds(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,R=v;break e}R=i.return}}var m=t.current;for(R=m;R!==null;){o=R;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,R=p;else e:for(o=m;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ca(9,a)}}catch(b){ie(a,a.return,b)}if(a===o){R=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,R=_;break e}R=a.return}}if(F=s,Pn(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(wa,t)}catch{}r=!0}return r}finally{z=n,lt.transition=e}}return!1}function df(t,e,n){e=Xr(n,e),e=Kg(t,e,1),t=gn(t,e,1),e=Ie(),t!==null&&(vi(t,1,e),ze(t,e))}function ie(t,e,n){if(t.tag===3)df(t,t,n);else for(;e!==null;){if(e.tag===3){df(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yn===null||!yn.has(r))){t=Xr(n,t),t=Gg(e,t,1),e=gn(e,t,1),t=Ie(),e!==null&&(vi(e,1,t),ze(e,t));break}}e=e.return}}function Qx(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ie(),t.pingedLanes|=t.suspendedLanes&n,_e===t&&(be&n)===n&&(ve===4||ve===3&&(be&130023424)===be&&500>ae()-hd?Xn(t,0):dd|=n),ze(t,e)}function py(t,e){e===0&&(t.mode&1?(e=$i,$i<<=1,!($i&130023424)&&($i=4194304)):e=1);var n=Ie();t=Kt(t,e),t!==null&&(vi(t,e,n),ze(t,n))}function Yx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),py(t,n)}function Xx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),py(t,n)}var my;my=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ve.current)Ue=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ue=!1,Bx(t,e,n);Ue=!!(t.flags&131072)}else Ue=!1,Q&&e.flags&1048576&&wg(e,Wo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_o(t,e),t=e.pendingProps;var s=Gr(e,Re.current);Wr(e,n),s=id(null,e,r,t,s,n);var i=od();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fe(r)?(i=!0,Fo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ed(e),s.updater=Ta,e.stateNode=s,s._reactInternals=e,Pu(e,r,t,n),e=Au(null,e,r,!0,i,n)):(e.tag=0,Q&&i&&Kc(e),Oe(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_o(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=e1(r),t=mt(r,t),s){case 0:e=Ru(null,e,r,t,n);break e;case 1:e=ef(null,e,r,t,n);break e;case 11:e=Xh(null,e,r,t,n);break e;case 14:e=Zh(null,e,r,mt(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mt(r,s),Ru(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mt(r,s),ef(t,e,r,s,n);case 3:e:{if(Xg(e),t===null)throw Error(P(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Eg(t,e),Ko(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Xr(Error(P(423)),e),e=tf(t,e,r,n,s);break e}else if(r!==s){s=Xr(Error(P(424)),e),e=tf(t,e,r,n,s);break e}else for(Je=mn(e.stateNode.containerInfo.firstChild),Qe=e,Q=!0,wt=null,n=bg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jr(),r===s){e=Gt(t,e,n);break e}Oe(t,e,r,n)}e=e.child}return e;case 5:return Tg(e),t===null&&Eu(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,_u(r,s)?o=null:i!==null&&_u(r,i)&&(e.flags|=32),Yg(t,e),Oe(t,e,o,n),e.child;case 6:return t===null&&Eu(e),null;case 13:return Zg(t,e,n);case 4:return td(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qr(e,null,r,n):Oe(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mt(r,s),Xh(t,e,r,s,n);case 7:return Oe(t,e,e.pendingProps,n),e.child;case 8:return Oe(t,e,e.pendingProps.children,n),e.child;case 12:return Oe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,q(Ho,r._currentValue),r._currentValue=o,i!==null)if(St(i.value,o)){if(i.children===s.children&&!Ve.current){e=Gt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ft(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Tu(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tu(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Oe(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Wr(e,n),s=ut(s),r=r(s),e.flags|=1,Oe(t,e,r,n),e.child;case 14:return r=e.type,s=mt(r,e.pendingProps),s=mt(r.type,s),Zh(t,e,r,s,n);case 15:return Jg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mt(r,s),_o(t,e),e.tag=1,Fe(r)?(t=!0,Fo(e)):t=!1,Wr(e,n),qg(e,r,s),Pu(e,r,s,n),Au(null,e,r,!0,t,n);case 19:return ey(t,e,n);case 22:return Qg(t,e,n)}throw Error(P(156,e.tag))};function gy(t,e){return zm(t,e)}function Zx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(t,e,n,r){return new Zx(t,e,n,r)}function gd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function e1(t){if(typeof t=="function")return gd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lc)return 11;if(t===Dc)return 14}return 2}function wn(t,e){var n=t.alternate;return n===null?(n=at(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bo(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")gd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Er:return Zn(n.children,s,i,e);case Ic:o=8,s|=8;break;case Xl:return t=at(12,n,e,s|2),t.elementType=Xl,t.lanes=i,t;case Zl:return t=at(13,n,e,s),t.elementType=Zl,t.lanes=i,t;case eu:return t=at(19,n,e,s),t.elementType=eu,t.lanes=i,t;case Tm:return ja(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case km:o=10;break e;case Em:o=9;break e;case Lc:o=11;break e;case Dc:o=14;break e;case tn:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=at(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Zn(t,e,n,r){return t=at(7,t,r,e),t.lanes=n,t}function ja(t,e,n,r){return t=at(22,t,r,e),t.elementType=Tm,t.lanes=n,t.stateNode={isHidden:!1},t}function _l(t,e,n){return t=at(6,t,null,e),t.lanes=n,t}function xl(t,e,n){return e=at(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function t1(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tl(0),this.expirationTimes=tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yd(t,e,n,r,s,i,o,a,l){return t=new t1(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=at(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ed(i),t}function n1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yy(t){if(!t)return bn;t=t._reactInternals;e:{if(lr(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Fe(n))return yg(t,n,e)}return e}function vy(t,e,n,r,s,i,o,a,l){return t=yd(n,r,!0,t,s,i,o,a,l),t.context=yy(null),n=t.current,r=Ie(),s=vn(n),i=Ft(r,s),i.callback=e??null,gn(n,i,s),t.current.lanes=s,vi(t,s,r),ze(t,r),t}function Ra(t,e,n,r){var s=e.current,i=Ie(),o=vn(s);return n=yy(n),e.context===null?e.context=n:e.pendingContext=n,e=Ft(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gn(s,e,o),t!==null&&(xt(t,s,o,i),yo(t,s,o)),o}function ta(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vd(t,e){hf(t,e),(t=t.alternate)&&hf(t,e)}function r1(){return null}var wy=typeof reportError=="function"?reportError:function(t){console.error(t)};function wd(t){this._internalRoot=t}Aa.prototype.render=wd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Ra(t,e,null,null)};Aa.prototype.unmount=wd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;or(function(){Ra(null,t,null,null)}),e[qt]=null}};function Aa(t){this._internalRoot=t}Aa.prototype.unstable_scheduleHydration=function(t){if(t){var e=Qm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sn.length&&e!==0&&e<sn[n].priority;n++);sn.splice(n,0,t),n===0&&Xm(t)}};function _d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ff(){}function s1(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ta(o);i.call(u)}}var o=vy(e,r,t,0,null,!1,!1,"",ff);return t._reactRootContainer=o,t[qt]=o.current,ei(t.nodeType===8?t.parentNode:t),or(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ta(l);a.call(u)}}var l=yd(t,0,!1,null,null,!1,!1,"",ff);return t._reactRootContainer=l,t[qt]=l.current,ei(t.nodeType===8?t.parentNode:t),or(function(){Ra(e,l,n,r)}),l}function Na(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ta(o);a.call(l)}}Ra(e,o,t,s)}else o=s1(n,e,t,s,r);return ta(o)}Gm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Es(e.pendingLanes);n!==0&&(Bc(e,n|1),ze(e,ae()),!(F&6)&&(Zr=ae()+500,Pn()))}break;case 13:or(function(){var r=Kt(t,1);if(r!==null){var s=Ie();xt(r,t,1,s)}}),vd(t,1)}};Uc=function(t){if(t.tag===13){var e=Kt(t,134217728);if(e!==null){var n=Ie();xt(e,t,134217728,n)}vd(t,134217728)}};Jm=function(t){if(t.tag===13){var e=vn(t),n=Kt(t,e);if(n!==null){var r=Ie();xt(n,t,e,r)}vd(t,e)}};Qm=function(){return z};Ym=function(t,e){var n=z;try{return z=t,e()}finally{z=n}};cu=function(t,e,n){switch(e){case"input":if(ru(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ba(r);if(!s)throw Error(P(90));Pm(r),ru(r,s)}}}break;case"textarea":Rm(t,n);break;case"select":e=n.value,e!=null&&Ur(t,!!n.multiple,e,!1)}};$m=fd;Mm=or;var i1={usingClientEntryPoint:!1,Events:[_i,jr,ba,Lm,Dm,fd]},vs={findFiberByHostInstance:Kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o1={bundleType:vs.bundleType,version:vs.version,rendererPackageName:vs.rendererPackageName,rendererConfig:vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vm(t),t===null?null:t.stateNode},findFiberByHostInstance:vs.findFiberByHostInstance||r1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gi.isDisabled&&Gi.supportsFiber)try{wa=Gi.inject(o1),jt=Gi}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i1;Ze.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_d(e))throw Error(P(200));return n1(t,e,null,n)};Ze.createRoot=function(t,e){if(!_d(t))throw Error(P(299));var n=!1,r="",s=wy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=yd(t,1,!1,null,null,n,!1,r,s),t[qt]=e.current,ei(t.nodeType===8?t.parentNode:t),new wd(e)};Ze.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=Vm(e),t=t===null?null:t.stateNode,t};Ze.flushSync=function(t){return or(t)};Ze.hydrate=function(t,e,n){if(!Oa(e))throw Error(P(200));return Na(null,t,e,!0,n)};Ze.hydrateRoot=function(t,e,n){if(!_d(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=wy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vy(e,null,t,1,n??null,s,!1,i,o),t[qt]=e.current,ei(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Aa(e)};Ze.render=function(t,e,n){if(!Oa(e))throw Error(P(200));return Na(null,t,e,!1,n)};Ze.unmountComponentAtNode=function(t){if(!Oa(t))throw Error(P(40));return t._reactRootContainer?(or(function(){Na(null,null,t,!1,function(){t._reactRootContainer=null,t[qt]=null})}),!0):!1};Ze.unstable_batchedUpdates=fd;Ze.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Oa(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Na(t,e,n,!1,r)};Ze.version="18.3.1-next-f1338f8080-20240426";function _y(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_y)}catch(t){console.error(t)}}_y(),_m.exports=Ze;var a1=_m.exports,pf=a1;Ql.createRoot=pf.createRoot,Ql.hydrateRoot=pf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ui(){return ui=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ui.apply(this,arguments)}var dn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(dn||(dn={}));const mf="popstate";function l1(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return zu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Sy(s)}return c1(e,n,null,t)}function pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u1(){return Math.random().toString(36).substr(2,8)}function gf(t,e){return{usr:t.state,key:t.key,idx:e}}function zu(t,e,n,r){return n===void 0&&(n=null),ui({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?os(e):e,{state:n,key:e&&e.key||r||u1()})}function Sy(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function os(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function c1(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=dn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(ui({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=dn.Pop;let x=c(),v=x==null?null:x-u;u=x,l&&l({action:a,location:w.location,delta:v})}function h(x,v){a=dn.Push;let m=zu(w.location,x,v);u=c()+1;let p=gf(m,u),_=w.createHref(m);try{o.pushState(p,"",_)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(_)}i&&l&&l({action:a,location:w.location,delta:1})}function f(x,v){a=dn.Replace;let m=zu(w.location,x,v);u=c();let p=gf(m,u),_=w.createHref(m);o.replaceState(p,"",_),i&&l&&l({action:a,location:w.location,delta:0})}function y(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:Sy(x);return m=m.replace(/ $/,"%20"),pe(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let w={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(mf,d),l=x,()=>{s.removeEventListener(mf,d),l=null}},createHref(x){return e(s,x)},createURL:y,encodeLocation(x){let v=y(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:f,go(x){return o.go(x)}};return w}var yf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yf||(yf={}));function d1(t,e,n){return n===void 0&&(n="/"),h1(t,e,n)}function h1(t,e,n,r){let s=typeof e=="string"?os(e):e,i=Ey(s.pathname||"/",n);if(i==null)return null;let o=by(t);f1(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=E1(i);a=S1(o[l],u)}return a}function by(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(pe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=er([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(pe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),by(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:_1(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ky(i.path))s(i,o,l)}),e}function ky(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ky(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function f1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:x1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const p1=/^:[\w-]+$/,m1=3,g1=2,y1=1,v1=10,w1=-2,vf=t=>t==="*";function _1(t,e){let n=t.split("/"),r=n.length;return n.some(vf)&&(r+=w1),e&&(r+=g1),n.filter(s=>!vf(s)).reduce((s,i)=>s+(p1.test(i)?m1:i===""?y1:v1),r)}function x1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function S1(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=b1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:er([i,d.pathname]),pathnameBase:j1(er([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=er([i,d.pathnameBase]))}return o}function b1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=k1(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let w=a[d]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[d];return f&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function k1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function E1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ey(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function T1(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?os(t):t;return{pathname:n?n.startsWith("/")?n:C1(n,e):e,search:R1(r),hash:A1(s)}}function C1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Sl(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ty(t,e){let n=P1(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Cy(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=os(t):(s=ui({},t),pe(!s.pathname||!s.pathname.includes("?"),Sl("?","pathname","search",s)),pe(!s.pathname||!s.pathname.includes("#"),Sl("#","pathname","hash",s)),pe(!s.search||!s.search.includes("#"),Sl("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=T1(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const er=t=>t.join("/").replace(/\/\/+/g,"/"),j1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),R1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,A1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function O1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Py=["post","put","patch","delete"];new Set(Py);const N1=["get",...Py];new Set(N1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ci(){return ci=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ci.apply(this,arguments)}const xd=S.createContext(null),I1=S.createContext(null),Si=S.createContext(null),Ia=S.createContext(null),ur=S.createContext({outlet:null,matches:[],isDataRoute:!1}),jy=S.createContext(null);function bi(){return S.useContext(Ia)!=null}function ki(){return bi()||pe(!1),S.useContext(Ia).location}function Ry(t){S.useContext(Si).static||S.useLayoutEffect(t)}function jn(){let{isDataRoute:t}=S.useContext(ur);return t?K1():L1()}function L1(){bi()||pe(!1);let t=S.useContext(xd),{basename:e,future:n,navigator:r}=S.useContext(Si),{matches:s}=S.useContext(ur),{pathname:i}=ki(),o=JSON.stringify(Ty(s,n.v7_relativeSplatPath)),a=S.useRef(!1);return Ry(()=>{a.current=!0}),S.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Cy(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:er([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,i,t])}function D1(t,e){return $1(t,e)}function $1(t,e,n,r){bi()||pe(!1);let{navigator:s}=S.useContext(Si),{matches:i}=S.useContext(ur),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=ki(),c;if(e){var d;let x=typeof e=="string"?os(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||pe(!1),c=x}else c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=d1(t,{pathname:f}),w=F1(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:er([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:er([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&w?S.createElement(Ia.Provider,{value:{location:ci({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:dn.Pop}},w):w}function M1(){let t=q1(),e=O1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,null)}const B1=S.createElement(M1,null);class U1 extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(ur.Provider,{value:this.props.routeContext},S.createElement(jy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V1(t){let{routeContext:e,match:n,children:r}=t,s=S.useContext(xd);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(ur.Provider,{value:e},r)}function F1(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||pe(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,y=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,y=!1,w=null,x=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||B1,l&&(u<0&&h===0?(G1("route-fallback"),y=!0,x=null):u===h&&(y=!0,x=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),m=()=>{let p;return f?p=w:y?p=x:d.route.Component?p=S.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=c,S.createElement(V1,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:p})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?S.createElement(U1,{location:n.location,revalidation:n.revalidation,component:w,error:f,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}var Ay=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ay||{}),Oy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Oy||{});function z1(t){let e=S.useContext(xd);return e||pe(!1),e}function W1(t){let e=S.useContext(I1);return e||pe(!1),e}function H1(t){let e=S.useContext(ur);return e||pe(!1),e}function Ny(t){let e=H1(),n=e.matches[e.matches.length-1];return n.route.id||pe(!1),n.route.id}function q1(){var t;let e=S.useContext(jy),n=W1(),r=Ny();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function K1(){let{router:t}=z1(Ay.UseNavigateStable),e=Ny(Oy.UseNavigateStable),n=S.useRef(!1);return Ry(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ci({fromRouteId:e},i)))},[t,e])}const wf={};function G1(t,e,n){wf[t]||(wf[t]=!0)}function J1(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Q1(t){let{to:e,replace:n,state:r,relative:s}=t;bi()||pe(!1);let{future:i,static:o}=S.useContext(Si),{matches:a}=S.useContext(ur),{pathname:l}=ki(),u=jn(),c=Cy(e,Ty(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(c);return S.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:s}),[u,d,s,n,r]),null}function xr(t){pe(!1)}function Y1(t){let{basename:e="/",children:n=null,location:r,navigationType:s=dn.Pop,navigator:i,static:o=!1,future:a}=t;bi()&&pe(!1);let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:i,static:o,future:ci({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=os(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:y="default"}=r,w=S.useMemo(()=>{let x=Ey(c,l);return x==null?null:{location:{pathname:x,search:d,hash:h,state:f,key:y},navigationType:s}},[l,c,d,h,f,y,s]);return w==null?null:S.createElement(Si.Provider,{value:u},S.createElement(Ia.Provider,{children:n,value:w}))}function X1(t){let{children:e,location:n}=t;return D1(Wu(e),n)}new Promise(()=>{});function Wu(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,Wu(r.props.children,i));return}r.type!==xr&&pe(!1),!r.props.index||!r.props.children||pe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Wu(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Z1="6";try{window.__reactRouterVersion=Z1}catch{}const eS="startTransition",_f=Qw[eS];function tS(t){let{basename:e,children:n,future:r,window:s}=t,i=S.useRef();i.current==null&&(i.current=l1({window:s,v5Compat:!0}));let o=i.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=S.useCallback(d=>{u&&_f?_f(()=>l(d)):l(d)},[l,u]);return S.useLayoutEffect(()=>o.listen(c),[o,c]),S.useEffect(()=>J1(r),[r]),S.createElement(Y1,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var xf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xf||(xf={}));var Sf;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Sf||(Sf={}));var Hu=function(t,e){return Hu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Hu(t,e)};function Iy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Hu(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var na=function(){return na=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},na.apply(this,arguments)};function as(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Ly(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function Dy(t,e){return function(n,r){e(n,r,t)}}function $y(t,e,n,r,s,i){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,h=!1,f=n.length-1;f>=0;f--){var y={};for(var w in r)y[w]=w==="access"?{}:r[w];for(var w in r.access)y.access[w]=r.access[w];y.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(v||null))};var x=(0,n[f])(a==="accessor"?{get:c.get,set:c.set}:c[l],y);if(a==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(d=o(x.get))&&(c.get=d),(d=o(x.set))&&(c.set=d),(d=o(x.init))&&s.unshift(d)}else(d=o(x))&&(a==="field"?s.unshift(d):c[l]=d)}u&&Object.defineProperty(u,r.name,c),h=!0}function My(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function By(t){return typeof t=="symbol"?t:"".concat(t)}function Uy(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Vy(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function O(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function Fy(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var La=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function zy(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&La(e,t,n)}function ra(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sd(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function Wy(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Sd(arguments[e]));return t}function Hy(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function qy(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function es(t){return this instanceof es?(this.v=t,this):new es(t)}function Ky(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(f){return function(y){return Promise.resolve(y).then(f,d)}}function a(f,y){r[f]&&(s[f]=function(w){return new Promise(function(x,v){i.push([f,w,x,v])>1||l(f,w)})},y&&(s[f]=y(s[f])))}function l(f,y){try{u(r[f](y))}catch(w){h(i[0][3],w)}}function u(f){f.value instanceof es?Promise.resolve(f.value.v).then(c,d):h(i[0][2],f)}function c(f){l("next",f)}function d(f){l("throw",f)}function h(f,y){f(y),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Gy(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:es(t[s](o)),done:!1}:i?i(o):o}:i}}function Jy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ra=="function"?ra(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function Qy(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var nS=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},qu=function(t){return qu=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},qu(t)};function Yy(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=qu(t),r=0;r<n.length;r++)n[r]!=="default"&&La(e,t,n[r]);return nS(e,t),e}function Xy(t){return t&&t.__esModule?t:{default:t}}function Zy(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function ev(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function tv(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function nv(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var rS=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function rv(t){function e(i){t.error=t.hasError?new rS(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function sv(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?e?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):t}const sS={__extends:Iy,__assign:na,__rest:as,__decorate:Ly,__param:Dy,__esDecorate:$y,__runInitializers:My,__propKey:By,__setFunctionName:Uy,__metadata:Vy,__awaiter:O,__generator:Fy,__createBinding:La,__exportStar:zy,__values:ra,__read:Sd,__spread:Wy,__spreadArrays:Hy,__spreadArray:qy,__await:es,__asyncGenerator:Ky,__asyncDelegator:Gy,__asyncValues:Jy,__makeTemplateObject:Qy,__importStar:Yy,__importDefault:Xy,__classPrivateFieldGet:Zy,__classPrivateFieldSet:ev,__classPrivateFieldIn:tv,__addDisposableResource:nv,__disposeResources:rv,__rewriteRelativeImportExtension:sv},iS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:nv,get __assign(){return na},__asyncDelegator:Gy,__asyncGenerator:Ky,__asyncValues:Jy,__await:es,__awaiter:O,__classPrivateFieldGet:Zy,__classPrivateFieldIn:tv,__classPrivateFieldSet:ev,__createBinding:La,__decorate:Ly,__disposeResources:rv,__esDecorate:$y,__exportStar:zy,__extends:Iy,__generator:Fy,__importDefault:Xy,__importStar:Yy,__makeTemplateObject:Qy,__metadata:Vy,__param:Dy,__propKey:By,__read:Sd,__rest:as,__rewriteRelativeImportExtension:sv,__runInitializers:My,__setFunctionName:Uy,__spread:Wy,__spreadArray:qy,__spreadArrays:Hy,__values:ra,default:sS},Symbol.toStringTag,{value:"Module"})),oS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class bd extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class aS extends bd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class bf extends bd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class kf extends bd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ku;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ku||(Ku={}));class lS{constructor(e,{headers:n={},customFetch:r,region:s=Ku.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=oS(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return O(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:f}=r;f||(f=this.region);const y=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,y.searchParams.set("forceFunctionRegion",f));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let x=c;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),c?(x=o.signal,c.addEventListener("abort",()=>o.abort())):x=o.signal);const v=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:w,signal:x}).catch(b=>{throw new aS(b)}),m=v.headers.get("x-relay-error");if(m&&m==="true")throw new bf(v);if(!v.ok)throw new kf(v);let p=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield v.json():p==="application/octet-stream"||p==="application/pdf"?_=yield v.blob():p==="text/event-stream"?_=v:p==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(a){return{data:null,error:a,response:a instanceof kf||a instanceof bf?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Ne={};const ls=Iw(iS);var Ji={},Qi={},Yi={},Xi={},Zi={},eo={},Ef;function iv(){if(Ef)return eo;Ef=1,Object.defineProperty(eo,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return eo.default=t,eo}var Tf;function ov(){if(Tf)return Zi;Tf=1,Object.defineProperty(Zi,"__esModule",{value:!0});const e=ls.__importDefault(iv());class n{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,d,h;let f=null,y=null,w=null,x=l.status,v=l.statusText;if(l.ok){if(this.method!=="HEAD"){const b=await l.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=b:y=JSON.parse(b))}const p=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),_=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");p&&_&&_.length>1&&(w=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(f={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,x=406,v="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const p=await l.text();try{f=JSON.parse(p),Array.isArray(f)&&l.status===404&&(y=[],f=null,x=200,v="OK")}catch{l.status===404&&p===""?(x=204,v="No Content"):f={message:p}}if(f&&this.isMaybeSingle&&(!((h=f==null?void 0:f.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,x=200,v="OK"),f&&this.shouldThrowOnError)throw new e.default(f)}return{error:f,data:y,count:w,status:x,statusText:v}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,c,d;return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(c=l==null?void 0:l.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(d=l==null?void 0:l.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}}return Zi.default=n,Zi}var Cf;function av(){if(Cf)return Xi;Cf=1,Object.defineProperty(Xi,"__esModule",{value:!0});const e=ls.__importDefault(ov());class n extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Xi.default=n,Xi}var Pf;function kd(){if(Pf)return Yi;Pf=1,Object.defineProperty(Yi,"__esModule",{value:!0});const e=ls.__importDefault(av()),n=new RegExp("[,()]");class r extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${c}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return Yi.default=r,Yi}var jf;function lv(){if(jf)return Qi;jf=1,Object.defineProperty(Qi,"__esModule",{value:!0});const e=ls.__importDefault(kd());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const c=(s??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Qi.default=n,Qi}var Rf;function uS(){if(Rf)return Ji;Rf=1,Object.defineProperty(Ji,"__esModule",{value:!0});const t=ls,e=t.__importDefault(lv()),n=t.__importDefault(kd());class r{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${i}`);let f;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([w,x])=>x!==void 0).map(([w,x])=>[w,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([w,x])=>{h.searchParams.append(w,x)})):(d="POST",f=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new n.default({method:d,url:h,headers:y,schema:this.schemaName,body:f,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Ji.default=r,Ji}Object.defineProperty(Ne,"__esModule",{value:!0});var uv=Ne.PostgrestError=wv=Ne.PostgrestBuilder=yv=Ne.PostgrestTransformBuilder=mv=Ne.PostgrestFilterBuilder=fv=Ne.PostgrestQueryBuilder=dv=Ne.PostgrestClient=void 0;const us=ls,cv=us.__importDefault(uS());var dv=Ne.PostgrestClient=cv.default;const hv=us.__importDefault(lv());var fv=Ne.PostgrestQueryBuilder=hv.default;const pv=us.__importDefault(kd());var mv=Ne.PostgrestFilterBuilder=pv.default;const gv=us.__importDefault(av());var yv=Ne.PostgrestTransformBuilder=gv.default;const vv=us.__importDefault(ov());var wv=Ne.PostgrestBuilder=vv.default;const _v=us.__importDefault(iv());uv=Ne.PostgrestError=_v.default;var xv=Ne.default={PostgrestClient:cv.default,PostgrestQueryBuilder:hv.default,PostgrestFilterBuilder:pv.default,PostgrestTransformBuilder:gv.default,PostgrestBuilder:vv.default,PostgrestError:_v.default};const cS=lm({__proto__:null,get PostgrestBuilder(){return wv},get PostgrestClient(){return dv},get PostgrestError(){return uv},get PostgrestFilterBuilder(){return mv},get PostgrestQueryBuilder(){return fv},get PostgrestTransformBuilder(){return yv},default:xv},[Ne]),{PostgrestClient:dS,PostgrestQueryBuilder:RA,PostgrestFilterBuilder:AA,PostgrestTransformBuilder:OA,PostgrestBuilder:NA,PostgrestError:IA}=xv||cS;class hS{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const fS="2.81.0",pS=`realtime-js/${fS}`,Sv="1.0.0",mS="2.0.0",Af=Sv,Gu=1e4,gS=1e3,yS=100;var Wn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Wn||(Wn={}));var me;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(me||(me={}));var rt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(rt||(rt={}));var Ju;(function(t){t.websocket="websocket"})(Ju||(Ju={}));var Hn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Hn||(Hn={}));class vS{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodePush(e){const{join_ref:n,ref:r,event:s,topic:i,payload:o}=e,a=this.META_LENGTH+n.length+r.length+i.length+s.length,l=new ArrayBuffer(this.HEADER_LENGTH+a);let u=new DataView(l),c=0;u.setUint8(c++,this.KINDS.push),u.setUint8(c++,n.length),u.setUint8(c++,r.length),u.setUint8(c++,i.length),u.setUint8(c++,s.length),Array.from(n,h=>u.setUint8(c++,h.charCodeAt(0))),Array.from(r,h=>u.setUint8(c++,h.charCodeAt(0))),Array.from(i,h=>u.setUint8(c++,h.charCodeAt(0))),Array.from(s,h=>u.setUint8(c++,h.charCodeAt(0)));var d=new Uint8Array(l.byteLength+o.byteLength);return d.set(new Uint8Array(l),0),d.set(new Uint8Array(o),l.byteLength),d.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const{join_ref:s,ref:i,topic:o}=e,a=e.payload.event,l=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+a.length,c=new ArrayBuffer(this.HEADER_LENGTH+u);let d=new DataView(c),h=0;d.setUint8(h++,this.KINDS.userBroadcastPush),d.setUint8(h++,s.length),d.setUint8(h++,i.length),d.setUint8(h++,o.length),d.setUint8(h++,a.length),d.setUint8(h++,this.BINARY_ENCODING),Array.from(s,y=>d.setUint8(h++,y.charCodeAt(0))),Array.from(i,y=>d.setUint8(h++,y.charCodeAt(0))),Array.from(o,y=>d.setUint8(h++,y.charCodeAt(0))),Array.from(a,y=>d.setUint8(h++,y.charCodeAt(0)));var f=new Uint8Array(c.byteLength+l.byteLength);return f.set(new Uint8Array(c),0),f.set(new Uint8Array(l),c.byteLength),f.buffer}_encodeJsonUserBroadcastPush(e){var n,r;const{join_ref:s,ref:i,topic:o}=e,a=e.payload.event,l=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},c=new TextEncoder().encode(JSON.stringify(l)).buffer,d=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+a.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(h),y=0;f.setUint8(y++,this.KINDS.userBroadcastPush),f.setUint8(y++,s.length),f.setUint8(y++,i.length),f.setUint8(y++,o.length),f.setUint8(y++,a.length),f.setUint8(y++,this.JSON_ENCODING),Array.from(s,x=>f.setUint8(y++,x.charCodeAt(0))),Array.from(i,x=>f.setUint8(y++,x.charCodeAt(0))),Array.from(o,x=>f.setUint8(y++,x.charCodeAt(0))),Array.from(a,x=>f.setUint8(y++,x.charCodeAt(0)));var w=new Uint8Array(h.byteLength+c.byteLength);return w.set(new Uint8Array(h),0),w.set(new Uint8Array(c),h.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,n,s);case this.KINDS.reply:return this._decodeReply(e,n,s);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodePush(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3);let a=this.HEADER_LENGTH+this.META_LENGTH-1;const l=r.decode(e.slice(a,a+s));a=a+s;const u=r.decode(e.slice(a,a+i));a=a+i;const c=r.decode(e.slice(a,a+o));a=a+o;const d=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{join_ref:l,ref:null,topic:u,event:c,payload:d}}_decodeReply(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=r.decode(e.slice(l,l+s));l=l+s;const c=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+o));l=l+o;const h=r.decode(e.slice(l,l+a));l=l+a;const f=JSON.parse(r.decode(e.slice(l,e.byteLength))),y={status:h,response:f};return{join_ref:u,ref:c,topic:d,event:rt.reply,payload:y}}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:l,payload:u}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+s));l=l+s;const c=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,y={type:this.BROADCAST,event:c,payload:f};return o>0&&(y.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class bv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(H||(H={}));const Of=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=wS(o,t,e,s),i),{}):{}},wS=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?kv(i,o):Qu(o)},kv=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return bS(e,n)}switch(t){case H.bool:return _S(e);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return xS(e);case H.json:case H.jsonb:return SS(e);case H.timestamp:return kS(e);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return Qu(e);default:return Qu(e)}},Qu=t=>t,_S=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},xS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},SS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},bS=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>kv(e,a))}return t},kS=t=>typeof t=="string"?t.replace(" ","T"):t,Ev=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class bl{constructor(e,n,r={},s=Gu){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Nf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Nf||(Nf={}));class Bs{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Bs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Bs.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(x=>x.presence_ref),f=d.map(x=>x.presence_ref),y=c.filter(x=>f.indexOf(x.presence_ref)<0),w=d.filter(x=>h.indexOf(x.presence_ref)<0);y.length>0&&(a[u]=y),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(f=>f.presence_ref),h=c.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var If;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(If||(If={}));var Us;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Us||(Us={}));var Dt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Dt||(Dt={}));class Ed{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new bl(this,rt.join,this.params,this.timeout),this.rejoinTimer=new bv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=me.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Bs(this),this.broadcastEndpointURL=Ev(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==me.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Us.PRESENCE]&&this.bindings[Us.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(Dt.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(Dt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var y;if(this.socket.setAuth(),f===void 0){e==null||e(Dt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,v=[];for(let m=0;m<x;m++){const p=w[m],{filter:{event:_,schema:b,table:E,filter:T}}=p,C=f&&f[m];if(C&&C.event===_&&C.schema===b&&C.table===E&&C.filter===T)v.push(Object.assign(Object.assign({},p),{id:C.id}));else{this.unsubscribe(),this.state=me.errored,e==null||e(Dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Dt.SUBSCRIBED);return}}).receive("error",f=>{this.state=me.errored,e==null||e(Dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===me.joined&&e===Us.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=me.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new bl(this,rt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=me.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new bl(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>yS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=rt;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var y,w,x;return((y=f.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(w=f.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var y,w,x,v,m,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const _=f.id,b=(y=f.filter)===null||y===void 0?void 0:y.event;return _&&((w=n.ids)===null||w===void 0?void 0:w.includes(_))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(m=(v=f==null?void 0:f.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:w,table:x,commit_timestamp:v,type:m,errors:p}=y;h=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:v,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(y))}f.callback(h,r)})}_isClosed(){return this.state===me.closed}_isJoined(){return this.state===me.joined}_isJoining(){return this.state===me.joining}_isLeaving(){return this.state===me.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Ed.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rt.close,{},e)}_onError(e){this._on(rt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=me.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Of(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Of(e.columns,e.old_record)),n}}const kl=()=>{},to={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ES=[1e3,2e3,5e3,1e4],TS=1e4,CS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class PS{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gu,this.transport=null,this.heartbeatIntervalMs=to.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kl,this.ref=0,this.reconnectTimer=null,this.vsn=Af,this.logger=kl,this.conn=null,this.sendBuffer=[],this.serializer=new vS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ju.websocket}`,this.httpEndpoint=Ev(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Wn.connecting:return Hn.Connecting;case Wn.open:return Hn.Open;case Wn.closing:return Hn.Closing;default:return Hn.Closed}}isConnected(){return this.connectionState()===Hn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Ed(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(gS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},to.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wn.open||this.conn.readyState===Wn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(rt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([CS],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:pS};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(rt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new bv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},to.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,u,c,d,h,f;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Gu,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:to.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:kl,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Af,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>ES[y-1]||TS,this.vsn){case Sv:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(y,w)=>w(JSON.stringify(y)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(y,w)=>w(JSON.parse(y));break;case mS:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Td extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Z(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class jS extends Td{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yu extends Td{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Cd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),RS=()=>Response,Xu=t=>{if(Array.isArray(t))return t.map(n=>Xu(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Xu(r)}),e},AS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},El=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},OS=(t,e,n)=>O(void 0,void 0,void 0,function*(){const r=yield RS();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new jS(El(s),i,o))}).catch(s=>{e(new Yu(El(s),s))}):e(new Yu(El(t),t))}),NS=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(AS(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Ei(t,e,n,r,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,NS(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>OS(l,a,r))})})}function di(t,e,n,r){return O(this,void 0,void 0,function*(){return Ei(t,"GET",e,n,r)})}function gt(t,e,n,r,s){return O(this,void 0,void 0,function*(){return Ei(t,"POST",e,r,s,n)})}function Zu(t,e,n,r,s){return O(this,void 0,void 0,function*(){return Ei(t,"PUT",e,r,s,n)})}function IS(t,e,n,r){return O(this,void 0,void 0,function*(){return Ei(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Pd(t,e,n,r,s){return O(this,void 0,void 0,function*(){return Ei(t,"DELETE",e,r,s,n)})}class LS{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return O(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Z(e))return{data:null,error:e};throw e}})}}var Tv;class DS{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Tv]="BlobDownloadBuilder",this.promise=null}asStream(){return new LS(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return O(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Z(e))return{data:null,error:e};throw e}})}}Tv=Symbol.toStringTag;const $S={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class MS{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Cd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return O(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Lf),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(e=="PUT"?Zu:gt)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Z(i))return{data:null,error:i};throw i}})}upload(e,n,r){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return O(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Lf.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield Zu(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Z(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return O(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield gt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Td("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}update(e,n,r){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return O(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}copy(e,n,r){return O(this,void 0,void 0,function*(){try{return{data:{path:(yield gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return O(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield gt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return O(this,void 0,void 0,function*(){try{const s=yield gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>di(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new DS(l,this.shouldThrowOnError)}info(e){return O(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield di(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Xu(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}exists(e){return O(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield IS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r)&&r instanceof Yu){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return O(this,void 0,void 0,function*(){try{return{data:yield Pd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}})}list(e,n,r){return O(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},$S),n),{prefix:e||""});return{data:yield gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}listV2(e,n){return O(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield gt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Cv="2.81.0",Pv={"X-Client-Info":`storage-js/${Cv}`};class BS{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pv),n),this.fetch=Cd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return O(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield di(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}})}getBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}})}createBucket(e){return O(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return O(this,void 0,void 0,function*(){try{return{data:yield Zu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}emptyBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Pd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class US{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pv),n),this.fetch=Cd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}})}listBuckets(e){return O(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield di(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Pd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}})}}const jd={"X-Client-Info":`storage-js/${Cv}`,"Content-Type":"application/json"};class jv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ke(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Tl extends jv{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class VS extends jv{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Df;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Df||(Df={}));const Rd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),FS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$f=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zS=(t,e,n)=>O(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Tl($f(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Tl(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Tl(a,s,o))}}else e(new VS($f(t),t))}),WS=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(FS(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function HS(t,e,n,r,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,WS(e,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>zS(l,a,r))})})}function Ge(t,e,n,r,s){return O(this,void 0,void 0,function*(){return HS(t,"POST",e,r,s,n)})}class qS{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jd),n),this.fetch=Rd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Ge(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}getIndex(e,n){return O(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}listIndexes(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return O(this,void 0,void 0,function*(){try{return{data:(yield Ge(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}}class KS{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jd),n),this.fetch=Rd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return O(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ge(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}getVectors(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}listVectors(e){return O(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ge(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}queryVectors(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}deleteVectors(e){return O(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ge(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}}class GS{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jd),n),this.fetch=Rd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Ge(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}getBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}listBuckets(){return O(this,arguments,void 0,function*(e={}){try{return{data:yield Ge(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Ge(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}}class JS extends GS{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new QS(this.url,this.headers,e,this.fetch)}}class QS extends qS{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return O(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return O(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return O(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return O(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new YS(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class YS extends KS{constructor(e,n,r,s,i){super(e,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return O(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return O(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return O(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return O(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return O(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class XS extends BS{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new MS(this.url,this.headers,e,this.fetch)}get vectors(){return new JS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new US(this.url+"/iceberg",this.headers,this.fetch)}}const ZS="2.81.0";let Cs="";typeof Deno<"u"?Cs="deno":typeof document<"u"?Cs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cs="react-native":Cs="node";const eb={"X-Client-Info":`supabase-js-${Cs}/${ZS}`},tb={headers:eb},nb={schema:"public"},rb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sb={},ib=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ob=()=>Headers,ab=(t,e,n)=>{const r=ib(n),s=ob();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))}};function lb(t){return t.endsWith("/")?t:t+"/"}function ub(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function cb(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lb(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Rv="2.81.0",Sr=30*1e3,ec=3,Cl=ec*Sr,db="http://localhost:9999",hb="supabase.auth.token",fb={"X-Client-Info":`gotrue-js/${Rv}`},tc="X-Supabase-Api-Version",Av={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mb=10*60*1e3;class hi extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function N(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class gb extends hi{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function yb(t){return N(t)&&t.name==="AuthApiError"}class qn extends hi{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Rn extends hi{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class ft extends Rn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vb(t){return N(t)&&t.name==="AuthSessionMissingError"}class gr extends Rn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class no extends Rn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ro extends Rn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wb(t){return N(t)&&t.name==="AuthImplicitGrantRedirectError"}class Mf extends Rn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nc extends Rn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Pl(t){return N(t)&&t.name==="AuthRetryableFetchError"}class Bf extends Rn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class rc extends Rn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uf=` 	
\r=`.split(""),_b=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Uf.length;e+=1)t[Uf[e].charCodeAt(0)]=-2;for(let e=0;e<sa.length;e+=1)t[sa[e].charCodeAt(0)]=e;return t})();function Vf(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(sa[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(sa[r]),e.queuedBits-=6}}function Ov(t,e,n){const r=_b[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ff(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{bb(o,r,n)};for(let o=0;o<t.length;o+=1)Ov(t.charCodeAt(o),s,i);return e.join("")}function xb(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Sb(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}xb(r,e)}}function bb(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function qr(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Ov(t.charCodeAt(s),n,r);return new Uint8Array(e)}function kb(t){const e=[];return Sb(t,n=>e.push(n)),new Uint8Array(e)}function Qn(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Vf(s,n,r)),Vf(null,n,r),e.join("")}function Eb(t){return Math.round(Date.now()/1e3)+t}function Tb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ce=()=>typeof window<"u"&&typeof document<"u",Ln={tested:!1,writable:!1},Nv=()=>{if(!Ce())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ln.tested)return Ln.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ln.tested=!0,Ln.writable=!0}catch{Ln.tested=!0,Ln.writable=!1}return Ln.writable};function Cb(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Iv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Pb=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",br=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Dn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Zt=async(t,e)=>{await t.removeItem(e)};class Da{constructor(){this.promise=new Da.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Da.promiseConstructor=Promise;function jl(t){const e=t.split(".");if(e.length!==3)throw new rc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!pb.test(e[r]))throw new rc("JWT not in base64url format");return{header:JSON.parse(Ff(e[0])),payload:JSON.parse(Ff(e[1])),signature:qr(e[2]),raw:{header:e[0],payload:e[1]}}}async function jb(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Rb(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Ab(t){return("0"+t.toString(16)).substr(-2)}function Ob(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Ab).join("")}async function Nb(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Ib(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Nb(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yr(t,e,n=!1){const r=Ob();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await br(t,`${e}-code-verifier`,s);const i=await Ib(r);return[i,r===i?"plain":"s256"]}const Lb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Db(t){const e=t.headers.get(tc);if(!e||!e.match(Lb))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $b(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Mb(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Bb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vr(t){if(!Bb.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rl(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ub(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function zf(t){return JSON.parse(JSON.stringify(t))}const Un=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Vb=[502,503,504];async function Wf(t){var e;if(!Pb(t))throw new nc(Un(t),0);if(Vb.includes(t.status))throw new nc(Un(t),t.status);let n;try{n=await t.json()}catch(i){throw new qn(Un(i),i)}let r;const s=Db(t);if(s&&s.getTime()>=Av["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Bf(Un(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ft}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Bf(Un(n),t.status,n.weak_password.reasons);throw new gb(Un(n),t.status||500,r)}const Fb=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function $(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[tc]||(i[tc]=Av["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await zb(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function zb(t,e,n,r,s,i){const o=Fb(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new nc(Un(l),0)}if(a.ok||await Wf(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Wf(l)}}function pt(t){var e;let n=null;qb(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Eb(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Hf(t){const e=pt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function an(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Wb(t){return{data:t,error:null}}function Hb(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=as(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function qf(t){return t}function qb(t){return t.access_token&&t.refresh_token&&t.expires_in}const Al=["global","local","others"];class Kb{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Iv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Al[0]){if(Al.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Al.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(N(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:an})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=as(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Hb,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(N(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:an})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:qf});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(N(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){vr(e);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:an})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){vr(e);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:an})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){vr(e);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:an})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){vr(e.userId);try{const{data:n,error:r}=await $(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _deleteFactor(e){vr(e.userId),vr(e.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await $(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:qf});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(N(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await $(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await $(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(N(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await $(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}}function Kf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const wr={debug:!!(globalThis&&Nv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Gb extends Lv{}async function Jb(t,e,n){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Gb(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Qb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Yb(t){return parseInt(t,16)}function Xb(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Zb(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=Dv(t.address),y=c?`${c}://${r}`:r,w=t.statement?`${t.statement}
`:"",x=`${y} wants you to sign in with your Ethereum account:
${f}

${w}`;let v=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);m+=`
- ${p}`}v+=m}return`${x}
${v}`}class de extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class ia extends de{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function ek({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new de({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new de({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new de({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new de({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new de({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new de({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new de({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new de({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if($v(o)){if(i.rp.id!==o)return new de({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new de({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new de({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new de({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new de({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function tk({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new de({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new de({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if($v(r)){if(n.rpId!==r)return new de({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new de({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new de({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new de({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class nk{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const rk=new nk;function sk(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=as(t,["challenge","user","excludeCredentials"]),i=qr(e).buffer,o=Object.assign(Object.assign({},n),{id:qr(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:qr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function ik(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=as(t,["challenge","allowCredentials"]),s=qr(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:qr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function ok(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Qn(new Uint8Array(t.response.attestationObject)),clientDataJSON:Qn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ak(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Qn(new Uint8Array(s.authenticatorData)),clientDataJSON:Qn(new Uint8Array(s.clientDataJSON)),signature:Qn(new Uint8Array(s.signature)),userHandle:s.userHandle?Qn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $v(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Gf(){var t,e;return!!(Ce()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function lk(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ia("Browser returned unexpected credential type",e)}:{data:null,error:new ia("Empty credential response",e)}}catch(e){return{data:null,error:ek({error:e,options:t})}}}async function uk(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ia("Browser returned unexpected credential type",e)}:{data:null,error:new ia("Empty credential response",e)}}catch(e){return{data:null,error:tk({error:e,options:t})}}}const ck={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},dk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function oa(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=oa(a,o):r[i]=oa(o)}else r[i]=o}return r}function hk(t,e){return oa(ck,t,e||{})}function fk(t,e){return oa(dk,t,e||{})}class pk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=s??rk.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=hk(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await lk({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=fk(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await uk(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return N(o)?{data:null,error:o}:{data:null,error:new qn("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new hi("rpId is required for WebAuthn authentication")};try{if(!Gf())return{data:null,error:new qn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return N(o)?{data:null,error:o}:{data:null,error:new qn("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new hi("rpId is required for WebAuthn registration")};try{if(!Gf())return{data:null,error:new qn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return N(o)?{data:null,error:o}:{data:null,error:new qn("Unexpected error in register",o)}}}}Qb();const mk={url:db,storageKey:hb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Jf(t,e,n){return await n()}const _r={};class fi{get jwks(){var e,n;return(n=(e=_r[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=_r[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},mk),e);if(this.storageKey=i.storageKey,this.instanceID=(n=fi.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,fi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ce()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Kb({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Iv(i.fetch),this.lock=i.lock||Jf,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ce()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Jb:this.lock=Jf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Nv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Kf(this.memoryStorage)),Ce()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Rv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Ce()&&(n=Cb(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ce()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),wb(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return N(n)?this._returnResult({error:n}):this._returnResult({error:new qn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:pt}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(N(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let f=null,y=null;this.flowType==="pkce"&&([f,y]=await yr(this.storage,this.storageKey)),i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:y},xform:pt})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:pt})}else throw new no("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(N(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hf})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hf})}else throw new no("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new gr;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(N(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,a,l,u,c,d,h;let f,y;if("message"in e)f=e.message,y=e.signature;else{const{chain:w,wallet:x,statement:v,options:m}=e;let p;if(Ce())if(typeof x=="object")p=x;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")p=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=x}const _=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href),b=await p.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=Dv(b[0]);let T=(r=m==null?void 0:m.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const A=await p.request({method:"eth_chainId"});T=Yb(A)}const C={domain:_.host,address:E,statement:v,uri:_.href,version:"1",chainId:T,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=Zb(C),y=await p.request({method:"personal_sign",params:[Xb(f),E]})}try{const{data:w,error:x}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:y},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:pt});if(x)throw x;if(!w||!w.session||!w.user){const v=new gr;return this._returnResult({data:{user:null,session:null},error:v})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(N(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,s,i,o,a,l,u,c,d,h,f;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:x,wallet:v,statement:m,options:p}=e;let _;if(Ce())if(typeof v=="object")_=v;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const b=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),m?{statement:m}:null));let T;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")T=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)T=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)y=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),w=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${b.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((d=(c=p==null?void 0:p.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...p.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:x,error:v}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Qn(w)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:pt});if(v)throw v;if(!x||!x.session||!x.user){const m=new gr;return this._returnResult({data:{user:null,session:null},error:m})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:v})}catch(x){if(N(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const n=await Dn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:pt});if(await Zt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new gr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(N(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:pt}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new gr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(N(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await yr(this.storage,this.storageKey));const{error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new no("You must provide either an email or phone number.")}catch(a){if(N(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(N(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;this.flowType==="pkce"&&([i,o]=await yr(this.storage,this.storageKey));const a=await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Wb});return this._returnResult(a)}catch(i){if(N(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ft;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(N(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await $(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await $(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new no("You must provide either an email or phone number and a type")}catch(n){if(N(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Dn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Cl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Dn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Rl()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Ub(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:an}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ft}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:an})})}catch(n){if(N(n))return vb(n)&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new ft;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await yr(this.storage,this.storageKey));const{data:u,error:c}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:an});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(N(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ft;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=jl(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(N(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ft;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(N(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Ce())throw new ro("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ro(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Mf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ro("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Mf("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new ro("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const f=h-c;f*1e3<=Sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const y=h-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(r){if(N(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Dn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(yb(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Tb(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await yr(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(N(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Ce()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(N(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,d=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:pt}),{data:h,error:f}=d;return f?this._returnResult({data:{user:null,session:null},error:f}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new gr}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:f}))}catch(s){if(N(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Rb(async s=>(s>0&&await jb(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Pl(i)&&Date.now()+o-r<Sr})}catch(r){if(this._debug(n,"error",r),N(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ce()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Dn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Dn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await br(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Rl()}else if(s&&!s.user&&!s.user){const o=await Dn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Zt(this.storage,this.storageKey+"-user"),await br(this.storage,this.storageKey,s)):s.user=Rl()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Cl;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Cl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Pl(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Da;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ft;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),N(i)){const o={data:null,error:i};return Pl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await br(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=zf(s);await br(this.storage,this.storageKey,i)}else{const s=zf(n);await br(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Zt(this.storage,this.storageKey),await Zt(this.storage,this.storageKey+"-code-verifier"),await Zt(this.storage,this.storageKey+"-user"),this.userStorage&&await Zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ce()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Sr}ms, refresh threshold is ${ec} ticks`),s<=ec&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Lv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ce()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await yr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await $(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await $(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?ok(e.webauthn.credential_response):ak(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:sk(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ik(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=jl(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await $(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ft})})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ft});const o=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ce()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ft});const o=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ce()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+mb>s)return r;const{data:i,error:o}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:f,error:y}=await this.getSession();if(y||!f.session)return this._returnResult({data:null,error:y});r=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=jl(r);n!=null&&n.allowExpired||$b(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const c=Mb(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,kb(`${a}.${l}`)))throw new rc("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}}fi.nextInstanceID={};const gk=fi;class yk extends gk{constructor(e){super(e)}}class vk{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=cb(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:nb,realtime:sb,auth:Object.assign(Object.assign({},rb),{storageKey:l}),global:tb},c=ub(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=ab(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new dS(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new XS(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new lS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yk({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new PS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wk=(t,e,n)=>new vk(t,e,n);function _k(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}_k()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xk="https://qtitidbtpbgnxiwqvxip.supabase.co",Sk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF0aXRpZGJ0cGJnbnhpd3F2eGlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3NjQ0ODAsImV4cCI6MjA3ODM0MDQ4MH0._Yju_diX8gR3XzJbYBK9l0-hPSPKYSk-Rx1TFfWo0VM",ws=wk(xk,Sk),Mv=S.createContext({}),cr=()=>{const t=S.useContext(Mv);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},bk=({children:t})=>{const[e,n]=S.useState(null),[r,s]=S.useState(!0),[i,o]=S.useState(null);S.useEffect(()=>{ws.auth.getSession().then(({data:{session:h}})=>{o(h),n((h==null?void 0:h.user)??null),s(!1)});const{data:{subscription:d}}=ws.auth.onAuthStateChange((h,f)=>{o(f),n((f==null?void 0:f.user)??null),s(!1)});return()=>d.unsubscribe()},[]);const c={user:e,session:i,loading:r,signUp:async(d,h)=>{try{const{data:f,error:y}=await ws.auth.signUp({email:d,password:h});if(y)throw y;return{data:f,error:null}}catch(f){return{data:null,error:f.message}}},signIn:async(d,h)=>{try{const{data:f,error:y}=await ws.auth.signInWithPassword({email:d,password:h});if(y)throw y;return{data:f,error:null}}catch(f){return{data:null,error:f.message}}},signOut:async()=>{try{const{error:d}=await ws.auth.signOut();if(d)throw d;return{error:null}}catch(d){return{error:d.message}}}};return g.jsx(Mv.Provider,{value:c,children:t})},Nt=Object.create(null);Nt.open="0";Nt.close="1";Nt.ping="2";Nt.pong="3";Nt.message="4";Nt.upgrade="5";Nt.noop="6";const ko=Object.create(null);Object.keys(Nt).forEach(t=>{ko[Nt[t]]=t});const sc={type:"error",data:"parser error"},Bv=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Uv=typeof ArrayBuffer=="function",Vv=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Ad=({type:t,data:e},n,r)=>Bv&&e instanceof Blob?n?r(e):Qf(e,r):Uv&&(e instanceof ArrayBuffer||Vv(e))?n?r(e):Qf(new Blob([e]),r):r(Nt[t]+(e||"")),Qf=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function Yf(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Ol;function kk(t,e){if(Bv&&t.data instanceof Blob)return t.data.arrayBuffer().then(Yf).then(e);if(Uv&&(t.data instanceof ArrayBuffer||Vv(t.data)))return e(Yf(t.data));Ad(t,!1,n=>{Ol||(Ol=new TextEncoder),e(Ol.encode(n))})}const Xf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ps=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Xf.length;t++)Ps[Xf.charCodeAt(t)]=t;const Ek=t=>{let e=t.length*.75,n=t.length,r,s=0,i,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),c=new Uint8Array(u);for(r=0;r<n;r+=4)i=Ps[t.charCodeAt(r)],o=Ps[t.charCodeAt(r+1)],a=Ps[t.charCodeAt(r+2)],l=Ps[t.charCodeAt(r+3)],c[s++]=i<<2|o>>4,c[s++]=(o&15)<<4|a>>2,c[s++]=(a&3)<<6|l&63;return u},Tk=typeof ArrayBuffer=="function",Od=(t,e)=>{if(typeof t!="string")return{type:"message",data:Fv(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Ck(t.substring(1),e)}:ko[n]?t.length>1?{type:ko[n],data:t.substring(1)}:{type:ko[n]}:sc},Ck=(t,e)=>{if(Tk){const n=Ek(t);return Fv(n,e)}else return{base64:!0,data:t}},Fv=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},zv="",Pk=(t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((i,o)=>{Ad(i,!1,a=>{r[o]=a,++s===n&&e(r.join(zv))})})},jk=(t,e)=>{const n=t.split(zv),r=[];for(let s=0;s<n.length;s++){const i=Od(n[s],e);if(r.push(i),i.type==="error")break}return r};function Rk(){return new TransformStream({transform(t,e){kk(t,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let Nl;function so(t){return t.reduce((e,n)=>e+n.length,0)}function io(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function Ak(t,e){Nl||(Nl=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(so(n)<1)break;const l=io(n,1);i=(l[0]&128)===128,s=l[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(so(n)<2)break;const l=io(n,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(so(n)<8)break;const l=io(n,8),u=new DataView(l.buffer,l.byteOffset,l.length),c=u.getUint32(0);if(c>Math.pow(2,21)-1){a.enqueue(sc);break}s=c*Math.pow(2,32)+u.getUint32(4),r=3}else{if(so(n)<s)break;const l=io(n,s);a.enqueue(Od(i?l:Nl.decode(l),e)),r=0}if(s===0||s>t){a.enqueue(sc);break}}}})}const Wv=4;function fe(t){if(t)return Ok(t)}function Ok(t){for(var e in fe.prototype)t[e]=fe.prototype[e];return t}fe.prototype.on=fe.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};fe.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};fe.prototype.off=fe.prototype.removeListener=fe.prototype.removeAllListeners=fe.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===e||r.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};fe.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,e)}return this};fe.prototype.emitReserved=fe.prototype.emit;fe.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};fe.prototype.hasListeners=function(t){return!!this.listeners(t).length};const $a=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),ot=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Nk="arraybuffer";function Hv(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const Ik=ot.setTimeout,Lk=ot.clearTimeout;function Ma(t,e){e.useNativeTimers?(t.setTimeoutFn=Ik.bind(ot),t.clearTimeoutFn=Lk.bind(ot)):(t.setTimeoutFn=ot.setTimeout.bind(ot),t.clearTimeoutFn=ot.clearTimeout.bind(ot))}const Dk=1.33;function $k(t){return typeof t=="string"?Mk(t):Math.ceil((t.byteLength||t.size)*Dk)}function Mk(t){let e=0,n=0;for(let r=0,s=t.length;r<s;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function qv(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Bk(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Uk(t){let e={},n=t.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class Vk extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Nd extends fe{constructor(e){super(),this.writable=!1,Ma(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new Vk(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Od(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Bk(e);return n.length?"?"+n:""}}class Fk extends Nd{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};jk(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Pk(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=qv()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let Kv=!1;try{Kv=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const zk=Kv;function Wk(){}class Hk extends Fk{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class At extends fe{constructor(e,n,r){super(),this.createRequest=e,Ma(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=Hv(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=At.requestsCount++,At.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Wk,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete At.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}At.requestsCount=0;At.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Zf);else if(typeof addEventListener=="function"){const t="onpagehide"in ot?"pagehide":"unload";addEventListener(t,Zf,!1)}}function Zf(){for(let t in At.requests)At.requests.hasOwnProperty(t)&&At.requests[t].abort()}const qk=function(){const t=Gv({xdomain:!1});return t&&t.responseType!==null}();class Kk extends Hk{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=qk&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new At(Gv,this.uri(),e)}}function Gv(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||zk))return new XMLHttpRequest}catch{}if(!e)try{return new ot[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Jv=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Gk extends Nd{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=Jv?{}:Hv(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;Ad(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&$a(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=qv()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Il=ot.WebSocket||ot.MozWebSocket;class Jk extends Gk{createSocket(e,n,r){return Jv?new Il(e,n,r):n?new Il(e,n):new Il(e)}doWrite(e,n){this.ws.send(n)}}class Qk extends Nd{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=Ak(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),s=Rk();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;this._writer.write(r).then(()=>{s&&$a(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Yk={websocket:Jk,webtransport:Qk,polling:Kk},Xk=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Zk=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ic(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let s=Xk.exec(t||""),i={},o=14;for(;o--;)i[Zk[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=eE(i,i.path),i.queryKey=tE(i,i.query),i}function eE(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function tE(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const oc=typeof addEventListener=="function"&&typeof removeEventListener=="function",Eo=[];oc&&addEventListener("offline",()=>{Eo.forEach(t=>t())},!1);class _n extends fe{constructor(e,n){if(super(),this.binaryType=Nk,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=ic(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=ic(n.host).host);Ma(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Uk(this.opts.query)),oc&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Eo.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Wv,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&_n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",_n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=$k(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,$a(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:e,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(_n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),oc&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Eo.indexOf(this._offlineEventListener);r!==-1&&Eo.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}_n.protocol=Wv;class nE extends _n{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;_n.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;_n.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(c(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function i(){r||(r=!0,c(),n.close(),n=null)}const o=d=>{const h=new Error("probe error: "+d);h.transport=n.name,i(),this.emitReserved("upgradeError",h)};function a(){o("transport closed")}function l(){o("socket closed")}function u(d){n&&d.name!==n.name&&i()}const c=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let rE=class extends nE{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>Yk[s]).filter(s=>!!s)),super(e,r)}};function sE(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=ic(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const iE=typeof ArrayBuffer=="function",oE=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Qv=Object.prototype.toString,aE=typeof Blob=="function"||typeof Blob<"u"&&Qv.call(Blob)==="[object BlobConstructor]",lE=typeof File=="function"||typeof File<"u"&&Qv.call(File)==="[object FileConstructor]";function Id(t){return iE&&(t instanceof ArrayBuffer||oE(t))||aE&&t instanceof Blob||lE&&t instanceof File}function To(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(To(t[n]))return!0;return!1}if(Id(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return To(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&To(t[n]))return!0;return!1}function uE(t){const e=[],n=t.data,r=t;return r.data=ac(n,e),r.attachments=e.length,{packet:r,buffers:e}}function ac(t,e){if(!t)return t;if(Id(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=ac(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=ac(t[r],e));return n}return t}function cE(t,e){return t.data=lc(t.data,e),delete t.attachments,t}function lc(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=lc(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=lc(t[n],e));return t}const dE=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],hE=5;var V;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(V||(V={}));class fE{constructor(e){this.replacer=e}encode(e){return(e.type===V.EVENT||e.type===V.ACK)&&To(e)?this.encodeAsBinary({type:e.type===V.EVENT?V.BINARY_EVENT:V.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===V.BINARY_EVENT||e.type===V.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=uE(e),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function ep(t){return Object.prototype.toString.call(t)==="[object Object]"}class Ld extends fe{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===V.BINARY_EVENT;r||n.type===V.BINARY_ACK?(n.type=r?V.EVENT:V.ACK,this.reconstructor=new pE(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Id(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(V[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===V.BINARY_EVENT||r.type===V.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(i,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(i,n)}else r.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(Ld.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case V.CONNECT:return ep(n);case V.DISCONNECT:return n===void 0;case V.CONNECT_ERROR:return typeof n=="string"||ep(n);case V.EVENT:case V.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&dE.indexOf(n[0])===-1);case V.ACK:case V.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class pE{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=cE(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const mE=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ld,Encoder:fE,get PacketType(){return V},protocol:hE},Symbol.toStringTag,{value:"Module"}));function vt(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const gE=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Yv extends fe{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[vt(e,"open",this.onopen.bind(this)),vt(e,"packet",this.onpacket.bind(this)),vt(e,"error",this.onerror.bind(this)),vt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,s,i;if(gE.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:V.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const c=this.ids++,d=n.pop();this._registerAckCallback(c,d),o.id=c}const a=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,s)=>{const i=(o,a)=>o?s(o):r(a);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:V.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case V.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case V.EVENT:case V.BINARY_EVENT:this.onevent(e);break;case V.ACK:case V.BINARY_ACK:this.onack(e);break;case V.DISCONNECT:this.ondisconnect();break;case V.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:V.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:V.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function cs(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}cs.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};cs.prototype.reset=function(){this.attempts=0};cs.prototype.setMin=function(t){this.ms=t};cs.prototype.setMax=function(t){this.max=t};cs.prototype.setJitter=function(t){this.jitter=t};class uc extends fe{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ma(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new cs({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||mE;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new rE(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=vt(n,"open",function(){r.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=vt(n,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(vt(e,"ping",this.onping.bind(this)),vt(e,"data",this.ondata.bind(this)),vt(e,"error",this.onerror.bind(this)),vt(e,"close",this.onclose.bind(this)),vt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){$a(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Yv(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const _s={};function Co(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=sE(t,e.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=_s[s]&&i in _s[s].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new uc(r,e):(_s[s]||(_s[s]=new uc(r,e)),l=_s[s]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(Co,{Manager:uc,Socket:Yv,io:Co,connect:Co});function yE(t){const n=Co("http://localhost:3001",{auth:{token:t},reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:10,timeout:2e4});return n.on("connect",()=>{console.log("Socket connected:",n.id)}),n.on("disconnect",r=>{console.log("Socket disconnected:",r),r==="io server disconnect"&&n.connect()}),n.on("connect_error",r=>{console.error("Socket connection error:",r)}),n}const Xv=S.createContext({}),Zv=()=>{const t=S.useContext(Xv);if(!t)throw new Error("useSocket must be used within SocketProvider");return t},vE=({children:t})=>{const[e,n]=S.useState(null),[r,s]=S.useState(!1),[i,o]=S.useState(!1),{session:a,user:l}=cr();S.useEffect(()=>{if(a!=null&&a.access_token&&l){console.log("Creating new socket connection...");const d=yE(a.access_token);return d.on("connect",()=>{console.log("Socket connected in context"),s(!0),o(!1)}),d.on("disconnect",h=>{console.log("Socket disconnected in context:",h),s(!1)}),d.on("reconnecting",()=>{console.log("Socket reconnecting..."),o(!0)}),d.on("reconnect",()=>{console.log("Socket reconnected"),o(!1),s(!0)}),d.on("error",h=>{console.error("Socket error:",h),u(h)}),n(d),()=>{console.log("Cleaning up socket connection"),d.close()}}else e&&(console.log("No auth, closing socket"),e.close(),n(null),s(!1))},[a,l]);const u=d=>{console.error("Error:",d)},c={socket:e,connected:r,reconnecting:i};return g.jsx(Xv.Provider,{value:c,children:t})},e0=S.createContext({}),dr=()=>{const t=S.useContext(e0);if(!t)throw new Error("useGame must be used within GameProvider");return t},wE=({children:t})=>{const[e,n]=S.useState(null),[r,s]=S.useState([]),[i,o]=S.useState(!1),[a,l]=S.useState(null),[u,c]=S.useState(null),[d,h]=S.useState("idle"),{socket:f}=Zv();S.useEffect(()=>{if(f)return f.on("room-created",_=>{n(_.roomCode),o(!0),h("lobby")}),f.on("player-joined",_=>{s(_.players)}),f.on("player-left",_=>{s(_.players),_.newHostId&&o(_.newHostId===f.userId)}),f.on("game-started",_=>{console.log(" Game started event received:",_),l(_.gameType),c(_.gameState),h("playing"),console.log("Game status set to playing")}),f.on("game-ended",_=>{c(_),h("finished")}),f.on("player-disconnected",_=>{console.log("Player disconnected:",_.playerId)}),f.on("player-reconnected",_=>{console.log("Player reconnected:",_.playerId),_.gameState&&c(_.gameState)}),f.on("player-rejoined",_=>{console.log("You rejoined the room:",_),s(_.players),_.gameState&&c(_.gameState),_.gameType&&(l(_.gameType),h("playing"))}),f.on("connect",()=>{console.log("Socket reconnected, attempting to rejoin room..."),e&&(console.log("Rejoining room:",e),f.emit("rejoin-room",{roomCode:e}))}),()=>{f.off("room-created"),f.off("player-joined"),f.off("player-left"),f.off("game-started"),f.off("game-ended"),f.off("player-disconnected"),f.off("player-reconnected"),f.off("player-rejoined"),f.off("connect")}},[f,e]);const y=_=>{f&&f.emit("create-room",{mode:_})},w=_=>{f&&(f.emit("join-room",{roomCode:_}),n(_),h("lobby"))},x=()=>{f&&e&&(console.log("Leaving room:",e),f.emit("leave-room",{roomCode:e})),m()},v=_=>{console.log("startGame called",{socket:!!f,roomCode:e,isHost:i,selectedGameType:_}),f&&e&&i?(console.log("Emitting start-game to server"),f.emit("start-game",{roomCode:e,gameType:_})):console.error("Cannot start game:",{hasSocket:!!f,roomCode:e,isHost:i})},m=()=>{n(null),s([]),o(!1),l(null),c(null),h("idle")},p={roomCode:e,players:r,isHost:i,gameType:a,gameState:u,gameStatus:d,createRoom:y,joinRoom:w,leaveRoom:x,startGame:v,resetGameState:m,setGameState:c};return g.jsx(e0.Provider,{value:p,children:t})};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xE=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),tp=t=>{const e=xE(t);return e.charAt(0).toUpperCase()+e.slice(1)},t0=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),SE=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>S.createElement("svg",{ref:l,...bE,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:t0("lucide",s),...!i&&!SE(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,c])=>S.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=(t,e)=>{const n=S.forwardRef(({className:r,...s},i)=>S.createElement(kE,{ref:i,iconNode:e,className:t0(`lucide-${_E(tp(t))}`,`lucide-${t}`,r),...s}));return n.displayName=tp(t),n};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vs=W("arrow-left",EE);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],CE=W("arrow-right",TE);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Ll=W("brain",PE);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],RE=W("check",jE);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],OE=W("copy",AE);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],aa=W("crown",NE);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],np=W("dices",IE);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],cc=W("door-open",LE);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],$E=W("flame",DE);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],dc=W("heart",ME);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],UE=W("house",BE);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],FE=W("image",VE);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],WE=W("loader-circle",zE);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qE=W("lock",HE);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],GE=W("log-in",KE);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QE=W("log-out",JE);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],XE=W("message-circle",YE);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],eT=W("palette",ZE);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],nT=W("play",tT);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],sT=W("rotate-ccw",rT);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],oT=W("send",iT);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],rp=W("sparkles",aT);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],uT=W("trophy",lT);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],dT=W("user-plus",cT);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ct=W("users",hT);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dl=W("x",fT);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],mT=W("zap",pT),n0=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Ba=S.createContext({}),Ua=S.createContext(null),Va=typeof document<"u",Dd=Va?S.useLayoutEffect:S.useEffect,r0=S.createContext({strict:!1}),$d=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),gT="framerAppearId",s0="data-"+$d(gT);function yT(t,e,n,r){const{visualElement:s}=S.useContext(Ba),i=S.useContext(r0),o=S.useContext(Ua),a=S.useContext(n0).reducedMotion,l=S.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;S.useInsertionEffect(()=>{u&&u.update(n,o)});const c=S.useRef(!!(n[s0]&&!window.HandoffComplete));return Dd(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),S.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function Dr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vT(t,e,n){return S.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Dr(n)&&(n.current=r))},[e])}function pi(t){return typeof t=="string"||Array.isArray(t)}function Fa(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Md=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bd=["initial",...Md];function za(t){return Fa(t.animate)||Bd.some(e=>pi(t[e]))}function i0(t){return!!(za(t)||t.variants)}function wT(t,e){if(za(t)){const{initial:n,animate:r}=t;return{initial:n===!1||pi(n)?n:void 0,animate:pi(r)?r:void 0}}return t.inherit!==!1?e:{}}function _T(t){const{initial:e,animate:n}=wT(t,S.useContext(Ba));return S.useMemo(()=>({initial:e,animate:n}),[sp(e),sp(n)])}function sp(t){return Array.isArray(t)?t.join(" "):t}const ip={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mi={};for(const t in ip)mi[t]={isEnabled:e=>ip[t].some(n=>!!e[n])};function xT(t){for(const e in t)mi[e]={...mi[e],...t[e]}}const Ud=S.createContext({}),o0=S.createContext({}),ST=Symbol.for("motionComponentSymbol");function bT({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&xT(t);function i(a,l){let u;const c={...S.useContext(n0),...a,layoutId:kT(a)},{isStatic:d}=c,h=_T(a),f=r(a,d);if(!d&&Va){h.visualElement=yT(s,f,c,e);const y=S.useContext(o0),w=S.useContext(r0).strict;h.visualElement&&(u=h.visualElement.loadFeatures(c,w,t,y))}return S.createElement(Ba.Provider,{value:h},u&&h.visualElement?S.createElement(u,{visualElement:h.visualElement,...c}):null,n(s,a,vT(f,h.visualElement,l),f,d,h.visualElement))}const o=S.forwardRef(i);return o[ST]=s,o}function kT({layoutId:t}){const e=S.useContext(Ud).id;return e&&t!==void 0?e+"-"+t:t}function ET(t){function e(r,s={}){return bT(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const TT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vd(t){return typeof t!="string"||t.includes("-")?!1:!!(TT.indexOf(t)>-1||/[A-Z]/.test(t))}const la={};function CT(t){Object.assign(la,t)}const Ti=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hr=new Set(Ti);function a0(t,{layout:e,layoutId:n}){return hr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!la[t]||t==="opacity")}const We=t=>!!(t&&t.getVelocity),PT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jT=Ti.length;function RT(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<jT;o++){const a=Ti[o];if(t[a]!==void 0){const l=PT[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const l0=t=>e=>typeof e=="string"&&e.startsWith(t),u0=l0("--"),hc=l0("var(--"),AT=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,OT=(t,e)=>e&&typeof t=="number"?e.transform(t):t,kn=(t,e,n)=>Math.min(Math.max(n,t),e),fr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fs={...fr,transform:t=>kn(0,1,t)},oo={...fr,default:1},zs=t=>Math.round(t*1e5)/1e5,Wa=/(-)?([\d]*\.?[\d])+/g,c0=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,NT=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ci(t){return typeof t=="string"}const Pi=t=>({test:e=>Ci(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),en=Pi("deg"),Ot=Pi("%"),D=Pi("px"),IT=Pi("vh"),LT=Pi("vw"),op={...Ot,parse:t=>Ot.parse(t)/100,transform:t=>Ot.transform(t*100)},ap={...fr,transform:Math.round},d0={borderWidth:D,borderTopWidth:D,borderRightWidth:D,borderBottomWidth:D,borderLeftWidth:D,borderRadius:D,radius:D,borderTopLeftRadius:D,borderTopRightRadius:D,borderBottomRightRadius:D,borderBottomLeftRadius:D,width:D,maxWidth:D,height:D,maxHeight:D,size:D,top:D,right:D,bottom:D,left:D,padding:D,paddingTop:D,paddingRight:D,paddingBottom:D,paddingLeft:D,margin:D,marginTop:D,marginRight:D,marginBottom:D,marginLeft:D,rotate:en,rotateX:en,rotateY:en,rotateZ:en,scale:oo,scaleX:oo,scaleY:oo,scaleZ:oo,skew:en,skewX:en,skewY:en,distance:D,translateX:D,translateY:D,translateZ:D,x:D,y:D,z:D,perspective:D,transformPerspective:D,opacity:Fs,originX:op,originY:op,originZ:D,zIndex:ap,fillOpacity:Fs,strokeOpacity:Fs,numOctaves:ap};function Fd(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const d in e){const h=e[d];if(u0(d)){i[d]=h;continue}const f=d0[d],y=OT(h,f);if(hr.has(d)){if(l=!0,o[d]=y,!c)continue;h!==(f.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,a[d]=y):s[d]=y}if(e.transform||(l||r?s.transform=RT(t.transform,n,c,r):s.transform&&(s.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:f=0}=a;s.transformOrigin=`${d} ${h} ${f}`}}const zd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function h0(t,e,n){for(const r in e)!We(e[r])&&!a0(r,n)&&(t[r]=e[r])}function DT({transformTemplate:t},e,n){return S.useMemo(()=>{const r=zd();return Fd(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function $T(t,e,n){const r=t.style||{},s={};return h0(s,r,t),Object.assign(s,DT(t,e,n)),t.transformValues?t.transformValues(s):s}function MT(t,e,n){const r={},s=$T(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const BT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ua(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||BT.has(t)}let f0=t=>!ua(t);function UT(t){t&&(f0=e=>e.startsWith("on")?!ua(e):t(e))}try{UT(require("@emotion/is-prop-valid").default)}catch{}function VT(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(f0(s)||n===!0&&ua(s)||!e&&!ua(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function lp(t,e,n){return typeof t=="string"?t:D.transform(e+n*t)}function FT(t,e,n){const r=lp(e,t.x,t.width),s=lp(n,t.y,t.height);return`${r} ${s}`}const zT={offset:"stroke-dashoffset",array:"stroke-dasharray"},WT={offset:"strokeDashoffset",array:"strokeDasharray"};function HT(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?zT:WT;t[i.offset]=D.transform(-r);const o=D.transform(e),a=D.transform(n);t[i.array]=`${o} ${a}`}function Wd(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,d,h){if(Fd(t,u,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:y,dimensions:w}=t;f.transform&&(w&&(y.transform=f.transform),delete f.transform),w&&(s!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=FT(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&HT(f,o,a,l,!1)}const p0=()=>({...zd(),attrs:{}}),Hd=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qT(t,e,n,r){const s=S.useMemo(()=>{const i=p0();return Wd(i,e,{enableHardwareAcceleration:!1},Hd(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};h0(i,t.style,t),s.style={...i,...s.style}}return s}function KT(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Vd(n)?qT:MT)(r,i,o,n),c={...VT(r,typeof n=="string",t),...l,ref:s},{children:d}=r,h=S.useMemo(()=>We(d)?d.get():d,[d]);return S.createElement(n,{...c,children:h})}}function m0(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const g0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function y0(t,e,n,r){m0(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(g0.has(s)?s:$d(s),e.attrs[s])}function qd(t,e){const{style:n}=t,r={};for(const s in n)(We(n[s])||e.style&&We(e.style[s])||a0(s,t))&&(r[s]=n[s]);return r}function v0(t,e){const n=qd(t,e);for(const r in t)if(We(t[r])||We(e[r])){const s=Ti.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function Kd(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function w0(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const ca=t=>Array.isArray(t),GT=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),JT=t=>ca(t)?t[t.length-1]||0:t;function Po(t){const e=We(t)?t.get():t;return GT(e)?e.toValue():e}function QT({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:YT(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const _0=t=>(e,n)=>{const r=S.useContext(Ba),s=S.useContext(Ua),i=()=>QT(t,e,r,s);return n?i():w0(i)};function YT(t,e,n,r){const s={},i=r(t,{});for(const h in i)s[h]=Po(i[h]);let{initial:o,animate:a}=t;const l=za(t),u=i0(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;return d&&typeof d!="boolean"&&!Fa(d)&&(Array.isArray(d)?d:[d]).forEach(f=>{const y=Kd(t,f);if(!y)return;const{transitionEnd:w,transition:x,...v}=y;for(const m in v){let p=v[m];if(Array.isArray(p)){const _=c?p.length-1:0;p=p[_]}p!==null&&(s[m]=p)}for(const m in w)s[m]=w[m]}),s}const le=t=>t;class up{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function XT(t){let e=new up,n=new up,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const d=c&&s,h=d?e:n;return u&&o.add(l),h.add(l)&&d&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const c=e.order[u];c(l),o.has(c)&&(a.schedule(c),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const ao=["prepare","read","update","preRender","render","postRender"],ZT=40;function eC(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=ao.reduce((d,h)=>(d[h]=XT(()=>n=!0),d),{}),o=d=>i[d].process(s),a=()=>{const d=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(d-s.timestamp,ZT),1),s.timestamp=d,s.isProcessing=!0,ao.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:ao.reduce((d,h)=>{const f=i[h];return d[h]=(y,w=!1,x=!1)=>(n||l(),f.schedule(y,w,x)),d},{}),cancel:d=>ao.forEach(h=>i[h].cancel(d)),state:s,steps:i}}const{schedule:K,cancel:Jt,state:Pe,steps:$l}=eC(typeof requestAnimationFrame<"u"?requestAnimationFrame:le,!0),tC={useVisualState:_0({scrapeMotionValuesFromProps:v0,createRenderState:p0,onMount:(t,e,{renderState:n,latestValues:r})=>{K.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),K.render(()=>{Wd(n,r,{enableHardwareAcceleration:!1},Hd(e.tagName),t.transformTemplate),y0(e,n)})}})},nC={useVisualState:_0({scrapeMotionValuesFromProps:qd,createRenderState:zd})};function rC(t,{forwardMotionProps:e=!1},n,r){return{...Vd(t)?tC:nC,preloadedFeatures:n,useRender:KT(e),createVisualElement:r,Component:t}}function Vt(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const x0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ha(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const sC=t=>e=>x0(e)&&t(e,Ha(e));function zt(t,e,n,r){return Vt(t,e,sC(n),r)}const iC=(t,e)=>n=>e(t(n)),xn=(...t)=>t.reduce(iC);function S0(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const cp=S0("dragHorizontal"),dp=S0("dragVertical");function b0(t){let e=!1;if(t==="y")e=dp();else if(t==="x")e=cp();else{const n=cp(),r=dp();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function k0(){const t=b0(!0);return t?(t(),!1):!0}class An{constructor(e){this.isMounted=!1,this.node=e}update(){}}function hp(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||k0())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&K.update(()=>a[r](i,o))};return zt(t.current,n,s,{passive:!t.getProps()[r]})}class oC extends An{mount(){this.unmount=xn(hp(this.node,!0),hp(this.node,!1))}unmount(){}}class aC extends An{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xn(Vt(this.node.current,"focus",()=>this.onFocus()),Vt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const E0=(t,e)=>e?t===e?!0:E0(t,e.parentElement):!1;function Ml(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ha(n))}class lC extends An{constructor(){super(...arguments),this.removeStartListeners=le,this.removeEndListeners=le,this.removeAccessibleListeners=le,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=zt(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:d}=this.node.getProps();K.update(()=>{!d&&!E0(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=zt(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=xn(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ml("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&K.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Vt(this.node.current,"keyup",o),Ml("down",(a,l)=>{this.startPress(a,l)})},n=Vt(this.node.current,"keydown",e),r=()=>{this.isPressing&&Ml("cancel",(i,o)=>this.cancelPress(i,o))},s=Vt(this.node.current,"blur",r);this.removeAccessibleListeners=xn(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&K.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!k0()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&K.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=zt(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Vt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=xn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const fc=new WeakMap,Bl=new WeakMap,uC=t=>{const e=fc.get(t.target);e&&e(t)},cC=t=>{t.forEach(uC)};function dC({root:t,...e}){const n=t||document;Bl.has(n)||Bl.set(n,{});const r=Bl.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(cC,{root:t,...e})),r[s]}function hC(t,e,n){const r=dC(e);return fc.set(t,n),r.observe(t),()=>{fc.delete(t),r.unobserve(t)}}const fC={some:0,all:1};class pC extends An{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:fC[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),h=u?c:d;h&&h(l)};return hC(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mC(e,n))&&this.startObserver()}unmount(){}}function mC({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gC={inView:{Feature:pC},tap:{Feature:lC},focus:{Feature:aC},hover:{Feature:oC}};function T0(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function yC(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function vC(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function qa(t,e,n){const r=t.getProps();return Kd(r,e,n!==void 0?n:r.custom,yC(t),vC(t))}let Gd=le;const tr=t=>t*1e3,Wt=t=>t/1e3,wC={current:!1},C0=t=>Array.isArray(t)&&typeof t[0]=="number";function P0(t){return!!(!t||typeof t=="string"&&j0[t]||C0(t)||Array.isArray(t)&&t.every(P0))}const js=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,j0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:js([0,.65,.55,1]),circOut:js([.55,0,1,.45]),backIn:js([.31,.01,.66,-.59]),backOut:js([.33,1.53,.69,.99])};function R0(t){if(t)return C0(t)?js(t):Array.isArray(t)?t.map(R0):j0[t]}function _C(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=R0(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:s,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function xC(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const A0=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,SC=1e-7,bC=12;function kC(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=A0(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>SC&&++a<bC);return o}function ji(t,e,n,r){if(t===e&&n===r)return le;const s=i=>kC(i,0,1,t,n);return i=>i===0||i===1?i:A0(s(i),e,r)}const EC=ji(.42,0,1,1),TC=ji(0,0,.58,1),O0=ji(.42,0,.58,1),CC=t=>Array.isArray(t)&&typeof t[0]!="number",N0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,I0=t=>e=>1-t(1-e),Jd=t=>1-Math.sin(Math.acos(t)),L0=I0(Jd),PC=N0(Jd),D0=ji(.33,1.53,.69,.99),Qd=I0(D0),jC=N0(Qd),RC=t=>(t*=2)<1?.5*Qd(t):.5*(2-Math.pow(2,-10*(t-1))),AC={linear:le,easeIn:EC,easeInOut:O0,easeOut:TC,circIn:Jd,circInOut:PC,circOut:L0,backIn:Qd,backInOut:jC,backOut:D0,anticipate:RC},fp=t=>{if(Array.isArray(t)){Gd(t.length===4);const[e,n,r,s]=t;return ji(e,n,r,s)}else if(typeof t=="string")return AC[t];return t},Yd=(t,e)=>n=>!!(Ci(n)&&NT.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),$0=(t,e,n)=>r=>{if(!Ci(r))return r;const[s,i,o,a]=r.match(Wa);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},OC=t=>kn(0,255,t),Ul={...fr,transform:t=>Math.round(OC(t))},Yn={test:Yd("rgb","red"),parse:$0("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ul.transform(t)+", "+Ul.transform(e)+", "+Ul.transform(n)+", "+zs(Fs.transform(r))+")"};function NC(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const pc={test:Yd("#"),parse:NC,transform:Yn.transform},$r={test:Yd("hsl","hue"),parse:$0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ot.transform(zs(e))+", "+Ot.transform(zs(n))+", "+zs(Fs.transform(r))+")"},Ae={test:t=>Yn.test(t)||pc.test(t)||$r.test(t),parse:t=>Yn.test(t)?Yn.parse(t):$r.test(t)?$r.parse(t):pc.parse(t),transform:t=>Ci(t)?t:t.hasOwnProperty("red")?Yn.transform(t):$r.transform(t)},te=(t,e,n)=>-n*t+n*e+t;function Vl(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function IC({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Vl(l,a,t+1/3),i=Vl(l,a,t),o=Vl(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Fl=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},LC=[pc,Yn,$r],DC=t=>LC.find(e=>e.test(t));function pp(t){const e=DC(t);let n=e.parse(t);return e===$r&&(n=IC(n)),n}const M0=(t,e)=>{const n=pp(t),r=pp(e),s={...n};return i=>(s.red=Fl(n.red,r.red,i),s.green=Fl(n.green,r.green,i),s.blue=Fl(n.blue,r.blue,i),s.alpha=te(n.alpha,r.alpha,i),Yn.transform(s))};function $C(t){var e,n;return isNaN(t)&&Ci(t)&&(((e=t.match(Wa))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(c0))===null||n===void 0?void 0:n.length)||0)>0}const B0={regex:AT,countKey:"Vars",token:"${v}",parse:le},U0={regex:c0,countKey:"Colors",token:"${c}",parse:Ae.parse},V0={regex:Wa,countKey:"Numbers",token:"${n}",parse:fr.parse};function zl(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function da(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&zl(n,B0),zl(n,U0),zl(n,V0),n}function F0(t){return da(t).values}function z0(t){const{values:e,numColors:n,numVars:r,tokenised:s}=da(t),i=e.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(B0.token,o[l]):l<r+n?a=a.replace(U0.token,Ae.transform(o[l])):a=a.replace(V0.token,zs(o[l]));return a}}const MC=t=>typeof t=="number"?0:t;function BC(t){const e=F0(t);return z0(t)(e.map(MC))}const En={test:$C,parse:F0,createTransformer:z0,getAnimatableNone:BC},W0=(t,e)=>n=>`${n>0?e:t}`;function H0(t,e){return typeof t=="number"?n=>te(t,e,n):Ae.test(t)?M0(t,e):t.startsWith("var(")?W0(t,e):K0(t,e)}const q0=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>H0(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},UC=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=H0(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},K0=(t,e)=>{const n=En.createTransformer(e),r=da(t),s=da(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?xn(q0(r.values,s.values),n):W0(t,e)},gi=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},mp=(t,e)=>n=>te(t,e,n);function VC(t){return typeof t=="number"?mp:typeof t=="string"?Ae.test(t)?M0:K0:Array.isArray(t)?q0:typeof t=="object"?UC:mp}function FC(t,e,n){const r=[],s=n||VC(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||le:e;a=xn(l,a)}r.push(a)}return r}function G0(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Gd(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=FC(e,r,s),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const d=gi(t[c],t[c+1],u);return o[c](d)};return n?u=>l(kn(t[0],t[i-1],u)):l}function zC(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=gi(0,e,r);t.push(te(n,1,s))}}function WC(t){const e=[0];return zC(e,t.length-1),e}function HC(t,e){return t.map(n=>n*e)}function qC(t,e){return t.map(()=>e||O0).splice(0,t.length-1)}function ha({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=CC(r)?r.map(fp):fp(r),i={done:!1,value:e[0]},o=HC(n&&n.length===e.length?n:WC(e),t),a=G0(o,e,{ease:Array.isArray(s)?s:qC(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function J0(t,e){return e?t*(1e3/e):0}const KC=5;function Q0(t,e,n){const r=Math.max(e-KC,0);return J0(n-t(r),e-r)}const Wl=.001,GC=.01,JC=10,QC=.05,YC=1;function XC({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=kn(QC,YC,o),t=kn(GC,JC,Wt(t)),o<1?(s=u=>{const c=u*o,d=c*t,h=c-n,f=mc(u,o),y=Math.exp(-d);return Wl-h/f*y},i=u=>{const d=u*o*t,h=d*n+n,f=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-d),w=mc(Math.pow(u,2),o);return(-s(u)+Wl>0?-1:1)*((h-f)*y)/w}):(s=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-Wl+c*d},i=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const a=5/t,l=eP(s,i,a);if(t=tr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const ZC=12;function eP(t,e,n){let r=n;for(let s=1;s<ZC;s++)r=r-t(r)/e(r);return r}function mc(t,e){return t*Math.sqrt(1-e*e)}const tP=["duration","bounce"],nP=["stiffness","damping","mass"];function gp(t,e){return e.some(n=>t[n]!==void 0)}function rP(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!gp(t,nP)&&gp(t,tP)){const n=XC(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Y0({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:h}=rP({...r,velocity:-Wt(r.velocity||0)}),f=d||0,y=l/(2*Math.sqrt(a*u)),w=i-s,x=Wt(Math.sqrt(a/u)),v=Math.abs(w)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let m;if(y<1){const p=mc(x,y);m=_=>{const b=Math.exp(-y*x*_);return i-b*((f+y*x*w)/p*Math.sin(p*_)+w*Math.cos(p*_))}}else if(y===1)m=p=>i-Math.exp(-x*p)*(w+(f+x*w)*p);else{const p=x*Math.sqrt(y*y-1);m=_=>{const b=Math.exp(-y*x*_),E=Math.min(p*_,300);return i-b*((f+y*x*w)*Math.sinh(E)+p*w*Math.cosh(E))/p}}return{calculatedDuration:h&&c||null,next:p=>{const _=m(p);if(h)o.done=p>=c;else{let b=f;p!==0&&(y<1?b=Q0(m,p,_):b=0);const E=Math.abs(b)<=n,T=Math.abs(i-_)<=e;o.done=E&&T}return o.value=o.done?i:_,o}}}function yp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],h={done:!1,value:d},f=C=>a!==void 0&&C<a||l!==void 0&&C>l,y=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let w=n*e;const x=d+w,v=o===void 0?x:o(x);v!==x&&(w=v-d);const m=C=>-w*Math.exp(-C/r),p=C=>v+m(C),_=C=>{const A=m(C),I=p(C);h.done=Math.abs(A)<=u,h.value=h.done?v:I};let b,E;const T=C=>{f(h.value)&&(b=C,E=Y0({keyframes:[h.value,y(h.value)],velocity:Q0(p,C,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return T(0),{calculatedDuration:null,next:C=>{let A=!1;return!E&&b===void 0&&(A=!0,_(C),T(C)),b!==void 0&&C>b?E.next(C-b):(!A&&_(C),h)}}}const sP=t=>{const e=({timestamp:n})=>t(n);return{start:()=>K.update(e,!0),stop:()=>Jt(e),now:()=>Pe.isProcessing?Pe.timestamp:performance.now()}},vp=2e4;function wp(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<vp;)e+=n,r=t.next(e);return e>=vp?1/0:e}const iP={decay:yp,inertia:yp,tween:ha,keyframes:ha,spring:Y0};function fa({autoplay:t=!0,delay:e=0,driver:n=sP,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:d,...h}){let f=1,y=!1,w,x;const v=()=>{x=new Promise(k=>{w=k})};v();let m;const p=iP[s]||ha;let _;p!==ha&&typeof r[0]!="number"&&(_=G0([0,100],r,{clamp:!1}),r=[0,100]);const b=p({...h,keyframes:r});let E;a==="mirror"&&(E=p({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let T="idle",C=null,A=null,I=null;b.calculatedDuration===null&&i&&(b.calculatedDuration=wp(b));const{calculatedDuration:oe}=b;let se=1/0,xe=1/0;oe!==null&&(se=oe+o,xe=se*(i+1)-o);let ue=0;const dt=k=>{if(A===null)return;f>0&&(A=Math.min(A,k)),f<0&&(A=Math.min(k-xe/f,A)),C!==null?ue=C:ue=Math.round(k-A)*f;const B=ue-e*(f>=0?1:-1),Me=f>=0?B<0:B>xe;ue=Math.max(B,0),T==="finished"&&C===null&&(ue=xe);let bt=ue,pr=b;if(i){const Ja=Math.min(ue,xe)/se;let Ai=Math.floor(Ja),In=Ja%1;!In&&Ja>=1&&(In=1),In===1&&Ai--,Ai=Math.min(Ai,i+1),!!(Ai%2)&&(a==="reverse"?(In=1-In,o&&(In-=o/se)):a==="mirror"&&(pr=E)),bt=kn(0,1,In)*se}const He=Me?{done:!1,value:r[0]}:pr.next(bt);_&&(He.value=_(He.value));let{done:Nn}=He;!Me&&oe!==null&&(Nn=f>=0?ue>=xe:ue<=0);const Ow=C===null&&(T==="finished"||T==="running"&&Nn);return d&&d(He.value),Ow&&j(),He},X=()=>{m&&m.stop(),m=void 0},$e=()=>{T="idle",X(),w(),v(),A=I=null},j=()=>{T="finished",c&&c(),X(),w()},L=()=>{if(y)return;m||(m=n(dt));const k=m.now();l&&l(),C!==null?A=k-C:(!A||T==="finished")&&(A=k),T==="finished"&&v(),I=A,C=null,T="running",m.start()};t&&L();const M={then(k,B){return x.then(k,B)},get time(){return Wt(ue)},set time(k){k=tr(k),ue=k,C!==null||!m||f===0?C=k:A=m.now()-k/f},get duration(){const k=b.calculatedDuration===null?wp(b):b.calculatedDuration;return Wt(k)},get speed(){return f},set speed(k){k===f||!m||(f=k,M.time=Wt(ue))},get state(){return T},play:L,pause:()=>{T="paused",C=ue},stop:()=>{y=!0,T!=="idle"&&(T="idle",u&&u(),$e())},cancel:()=>{I!==null&&dt(I),$e()},complete:()=>{T="finished"},sample:k=>(A=0,dt(k))};return M}function oP(t){let e;return()=>(e===void 0&&(e=t()),e)}const aP=oP(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),lP=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),lo=10,uP=2e4,cP=(t,e)=>e.type==="spring"||t==="backgroundColor"||!P0(e.ease);function dP(t,e,{onUpdate:n,onComplete:r,...s}){if(!(aP()&&lP.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const c=()=>{l=new Promise(p=>{a=p})};c();let{keyframes:d,duration:h=300,ease:f,times:y}=s;if(cP(e,s)){const p=fa({...s,repeat:0,delay:0});let _={done:!1,value:d[0]};const b=[];let E=0;for(;!_.done&&E<uP;)_=p.sample(E),b.push(_.value),E+=lo;y=void 0,d=b,h=E-lo,f="linear"}const w=_C(t.owner.current,e,d,{...s,duration:h,ease:f,times:y}),x=()=>{u=!1,w.cancel()},v=()=>{u=!0,K.update(x),a(),c()};return w.onfinish=()=>{u||(t.set(xC(d,s)),r&&r(),v())},{then(p,_){return l.then(p,_)},attachTimeline(p){return w.timeline=p,w.onfinish=null,le},get time(){return Wt(w.currentTime||0)},set time(p){w.currentTime=tr(p)},get speed(){return w.playbackRate},set speed(p){w.playbackRate=p},get duration(){return Wt(h)},play:()=>{o||(w.play(),Jt(x))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:p}=w;if(p){const _=fa({...s,autoplay:!1});t.setWithVelocity(_.sample(p-lo).value,_.sample(p).value,lo)}v()},complete:()=>{u||w.finish()},cancel:v}}function hP({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:le,pause:le,stop:le,then:i=>(i(),Promise.resolve()),cancel:le,complete:le});return e?fa({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const fP={type:"spring",stiffness:500,damping:25,restSpeed:10},pP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mP={type:"keyframes",duration:.8},gP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yP=(t,{keyframes:e})=>e.length>2?mP:hr.has(t)?t.startsWith("scale")?pP(e[1]):fP:gP,gc=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(En.test(e)||e==="0")&&!e.startsWith("url(")),vP=new Set(["brightness","contrast","saturate","opacity"]);function wP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Wa)||[];if(!r)return t;const s=n.replace(r,"");let i=vP.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const _P=/([a-z-]*)\(.*?\)/g,yc={...En,getAnimatableNone:t=>{const e=t.match(_P);return e?e.map(wP).join(" "):t}},xP={...d0,color:Ae,backgroundColor:Ae,outlineColor:Ae,fill:Ae,stroke:Ae,borderColor:Ae,borderTopColor:Ae,borderRightColor:Ae,borderBottomColor:Ae,borderLeftColor:Ae,filter:yc,WebkitFilter:yc},Xd=t=>xP[t];function X0(t,e){let n=Xd(t);return n!==yc&&(n=En),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Z0=t=>/^0[^.\s]+$/.test(t);function SP(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Z0(t)}function bP(t,e,n,r){const s=gc(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),SP(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(s&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];i[c]=X0(e,a)}return i}function kP({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function Zd(t,e){return t[e]||t.default||t}const EP={skipAnimations:!1},eh=(t,e,n,r={})=>s=>{const i=Zd(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-tr(o);const l=bP(e,t,n,i),u=l[0],c=l[l.length-1],d=gc(t,u),h=gc(t,c);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:y=>{e.set(y),i.onUpdate&&i.onUpdate(y)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(kP(i)||(f={...f,...yP(t,f)}),f.duration&&(f.duration=tr(f.duration)),f.repeatDelay&&(f.repeatDelay=tr(f.repeatDelay)),!d||!h||wC.current||i.type===!1||EP.skipAnimations)return hP(f);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=dP(e,t,f);if(y)return y}return fa(f)};function pa(t){return!!(We(t)&&t.add)}const ew=t=>/^\-?\d*\.?\d+$/.test(t);function th(t,e){t.indexOf(e)===-1&&t.push(e)}function nh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class rh{constructor(){this.subscriptions=[]}add(e){return th(this.subscriptions,e),()=>nh(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const TP=t=>!isNaN(parseFloat(t));class CP{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Pe;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,K.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>K.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=TP(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new rh);const r=this.events[e].add(n);return e==="change"?()=>{r(),K.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?J0(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ts(t,e){return new CP(t,e)}const tw=t=>e=>e.test(t),PP={test:t=>t==="auto",parse:t=>t},nw=[fr,D,Ot,en,LT,IT,PP],xs=t=>nw.find(tw(t)),jP=[...nw,Ae,En],RP=t=>jP.find(tw(t));function AP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ts(n))}function OP(t,e){const n=qa(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=JT(i[o]);AP(t,o,a)}}function NP(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(s=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&s!==void 0?s:e[l]),c!=null&&(typeof c=="string"&&(ew(c)||Z0(c))?c=parseFloat(c):!RP(c)&&En.test(u)&&(c=X0(l,u)),t.addValue(l,ts(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function IP(t,e){return e?(e[t]||e.default||e).from:void 0}function LP(t,e,n){const r={};for(const s in t){const i=IP(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function DP({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function $P(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function rw(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const u=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const h=t.getValue(d),f=a[d];if(!h||f===void 0||c&&DP(c,d))continue;const y={delay:n,elapsed:0,...Zd(i||{},d)};if(window.HandoffAppearAnimations){const v=t.getProps()[s0];if(v){const m=window.HandoffAppearAnimations(v,d,h,K);m!==null&&(y.elapsed=m,y.isHandoff=!0)}}let w=!y.isHandoff&&!$P(h,f);if(y.type==="spring"&&(h.getVelocity()||y.velocity)&&(w=!1),h.animation&&(w=!1),w)continue;h.start(eh(d,h,f,t.shouldReduceMotion&&hr.has(d)?{type:!1}:y));const x=h.animation;pa(l)&&(l.add(d),x.then(()=>l.remove(d))),u.push(x)}return o&&Promise.all(u).then(()=>{o&&OP(t,o)}),u}function vc(t,e,n={}){const r=qa(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(rw(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:d}=s;return MP(t,e,u+l,c,d,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,u]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function MP(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(BP).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(vc(u,e,{...i,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function BP(t,e){return t.sortNodePosition(e)}function UP(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>vc(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=vc(t,e,n);else{const s=typeof e=="function"?qa(t,e,n.custom):e;r=Promise.all(rw(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const VP=[...Md].reverse(),FP=Md.length;function zP(t){return e=>Promise.all(e.map(({animation:n,options:r})=>UP(t,n,r)))}function WP(t){let e=zP(t);const n=qP();let r=!0;const s=(l,u)=>{const c=qa(t,u);if(c){const{transition:d,transitionEnd:h,...f}=c;l={...l,...f,...h}}return l};function i(l){e=l(t)}function o(l,u){const c=t.getProps(),d=t.getVariantContext(!0)||{},h=[],f=new Set;let y={},w=1/0;for(let v=0;v<FP;v++){const m=VP[v],p=n[m],_=c[m]!==void 0?c[m]:d[m],b=pi(_),E=m===u?p.isActive:null;E===!1&&(w=v);let T=_===d[m]&&_!==c[m]&&b;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),p.protectedKeys={...y},!p.isActive&&E===null||!_&&!p.prevProp||Fa(_)||typeof _=="boolean")continue;let A=HP(p.prevProp,_)||m===u&&p.isActive&&!T&&b||v>w&&b,I=!1;const oe=Array.isArray(_)?_:[_];let se=oe.reduce(s,{});E===!1&&(se={});const{prevResolvedValues:xe={}}=p,ue={...xe,...se},dt=X=>{A=!0,f.has(X)&&(I=!0,f.delete(X)),p.needsAnimating[X]=!0};for(const X in ue){const $e=se[X],j=xe[X];if(y.hasOwnProperty(X))continue;let L=!1;ca($e)&&ca(j)?L=!T0($e,j):L=$e!==j,L?$e!==void 0?dt(X):f.add(X):$e!==void 0&&f.has(X)?dt(X):p.protectedKeys[X]=!0}p.prevProp=_,p.prevResolvedValues=se,p.isActive&&(y={...y,...se}),r&&t.blockInitialAnimation&&(A=!1),A&&(!T||I)&&h.push(...oe.map(X=>({animation:X,options:{type:m,...l}})))}if(f.size){const v={};f.forEach(m=>{const p=t.getBaseTarget(m);p!==void 0&&(v[m]=p)}),h.push({animation:v})}let x=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(h):Promise.resolve()}function a(l,u,c){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var y;return(y=f.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),n[l].isActive=u;const h=o(c,l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function HP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!T0(e,t):!1}function $n(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qP(){return{animate:$n(!0),whileInView:$n(),whileHover:$n(),whileTap:$n(),whileDrag:$n(),whileFocus:$n(),exit:$n()}}class KP extends An{constructor(e){super(e),e.animationState||(e.animationState=WP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Fa(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let GP=0;class JP extends An{constructor(){super(...arguments),this.id=GP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const QP={animation:{Feature:KP},exit:{Feature:JP}},_p=(t,e)=>Math.abs(t-e);function YP(t,e){const n=_p(t.x,e.x),r=_p(t.y,e.y);return Math.sqrt(n**2+r**2)}class sw{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=ql(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=YP(d.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:y}=d,{timestamp:w}=Pe;this.history.push({...y,timestamp:w});const{onStart:x,onMove:v}=this.handlers;h||(x&&x(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Hl(h,this.transformPagePoint),K.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:f,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=ql(d.type==="pointercancel"?this.lastMoveEventInfo:Hl(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,x),y&&y(d,x)},!x0(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Ha(e),a=Hl(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Pe;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,ql(a,this.history)),this.removeListeners=xn(zt(this.contextWindow,"pointermove",this.handlePointerMove),zt(this.contextWindow,"pointerup",this.handlePointerUp),zt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Jt(this.updatePoint)}}function Hl(t,e){return e?{point:e(t.point)}:t}function xp(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ql({point:t},e){return{point:t,delta:xp(t,iw(e)),offset:xp(t,XP(e)),velocity:ZP(e,.1)}}function XP(t){return t[0]}function iw(t){return t[t.length-1]}function ZP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=iw(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>tr(e)));)n--;if(!r)return{x:0,y:0};const i=Wt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Xe(t){return t.max-t.min}function wc(t,e=0,n=.01){return Math.abs(t-e)<=n}function Sp(t,e,n,r=.5){t.origin=r,t.originPoint=te(e.min,e.max,t.origin),t.scale=Xe(n)/Xe(e),(wc(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=te(n.min,n.max,t.origin)-t.originPoint,(wc(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ws(t,e,n,r){Sp(t.x,e.x,n.x,r?r.originX:void 0),Sp(t.y,e.y,n.y,r?r.originY:void 0)}function bp(t,e,n){t.min=n.min+e.min,t.max=t.min+Xe(e)}function ej(t,e,n){bp(t.x,e.x,n.x),bp(t.y,e.y,n.y)}function kp(t,e,n){t.min=e.min-n.min,t.max=t.min+Xe(e)}function Hs(t,e,n){kp(t.x,e.x,n.x),kp(t.y,e.y,n.y)}function tj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?te(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?te(n,t,r.max):Math.min(t,n)),t}function Ep(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function nj(t,{top:e,left:n,bottom:r,right:s}){return{x:Ep(t.x,n,s),y:Ep(t.y,e,r)}}function Tp(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function rj(t,e){return{x:Tp(t.x,e.x),y:Tp(t.y,e.y)}}function sj(t,e){let n=.5;const r=Xe(t),s=Xe(e);return s>r?n=gi(e.min,e.max-r,t.min):r>s&&(n=gi(t.min,t.max-s,e.min)),kn(0,1,n)}function ij(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _c=.35;function oj(t=_c){return t===!1?t=0:t===!0&&(t=_c),{x:Cp(t,"left","right"),y:Cp(t,"top","bottom")}}function Cp(t,e,n){return{min:Pp(t,e),max:Pp(t,n)}}function Pp(t,e){return typeof t=="number"?t:t[e]||0}const jp=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mr=()=>({x:jp(),y:jp()}),Rp=()=>({min:0,max:0}),ce=()=>({x:Rp(),y:Rp()});function nt(t){return[t("x"),t("y")]}function ow({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function aj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function lj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Kl(t){return t===void 0||t===1}function xc({scale:t,scaleX:e,scaleY:n}){return!Kl(t)||!Kl(e)||!Kl(n)}function Vn(t){return xc(t)||aw(t)||t.z||t.rotate||t.rotateX||t.rotateY}function aw(t){return Ap(t.x)||Ap(t.y)}function Ap(t){return t&&t!=="0%"}function ma(t,e,n){const r=t-n,s=e*r;return n+s}function Op(t,e,n,r,s){return s!==void 0&&(t=ma(t,s,r)),ma(t,n,r)+e}function Sc(t,e=0,n=1,r,s){t.min=Op(t.min,e,n,r,s),t.max=Op(t.max,e,n,r,s)}function lw(t,{x:e,y:n}){Sc(t.x,e.translate,e.scale,e.originPoint),Sc(t.y,n.translate,n.scale,n.originPoint)}function uj(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Br(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,lw(t,o)),r&&Vn(i.latestValues)&&Br(t,i.latestValues))}e.x=Np(e.x),e.y=Np(e.y)}function Np(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function rn(t,e){t.min=t.min+e,t.max=t.max+e}function Ip(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=te(t.min,t.max,i);Sc(t,e[n],e[r],o,e.scale)}const cj=["x","scaleX","originX"],dj=["y","scaleY","originY"];function Br(t,e){Ip(t.x,e,cj),Ip(t.y,e,dj)}function uw(t,e){return ow(lj(t.getBoundingClientRect(),e))}function hj(t,e,n){const r=uw(t,n),{scroll:s}=e;return s&&(rn(r.x,s.offset.x),rn(r.y,s.offset.y)),r}const cw=({current:t})=>t?t.ownerDocument.defaultView:null,fj=new WeakMap;class pj{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ce(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ha(c,"page").point)},i=(c,d)=>{const{drag:h,dragPropagation:f,onDragStart:y}=this.getProps();if(h&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=b0(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nt(x=>{let v=this.getAxisMotionValue(x).get()||0;if(Ot.test(v)){const{projection:m}=this.visualElement;if(m&&m.layout){const p=m.layout.layoutBox[x];p&&(v=Xe(p)*(parseFloat(v)/100))}}this.originPoint[x]=v}),y&&K.update(()=>y(c,d),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:y,onDrag:w}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:x}=d;if(f&&this.currentDirection===null){this.currentDirection=mj(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,x),this.updateAxis("y",d.point,x),this.visualElement.render(),w&&w(c,d)},a=(c,d)=>this.stop(c,d),l=()=>nt(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new sw(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:cw(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&K.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!uo(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=tj(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Dr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=nj(s.layoutBox,n):this.constraints=!1,this.elastic=oj(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&nt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=ij(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Dr(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=hj(r,s.root,this.visualElement.getTransformPagePoint());let o=rj(s.layout.layoutBox,i);if(n){const a=n(aj(o));this.hasMutatedConstraints=!!a,a&&(o=ow(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=nt(c=>{if(!uo(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const h=s?200:1e6,f=s?40:1e7,y={type:"inertia",velocity:r?e[c]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(eh(e,r,0,n))}stopAnimation(){nt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){nt(n=>{const{drag:r}=this.getProps();if(!uo(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-te(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Dr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};nt(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=sj({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),nt(o=>{if(!uo(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(te(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;fj.set(this.visualElement,this);const e=this.visualElement.current,n=zt(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Dr(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Vt(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(nt(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=_c,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function uo(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function mj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class gj extends An{constructor(e){super(e),this.removeGroupControls=le,this.removeListeners=le,this.controls=new pj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||le}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lp=t=>(e,n)=>{t&&K.update(()=>t(e,n))};class yj extends An{constructor(){super(...arguments),this.removePointerDownListener=le}onPointerDown(e){this.session=new sw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Lp(e),onStart:Lp(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&K.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=zt(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function vj(){const t=S.useContext(Ua);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=S.useId();return S.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const jo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Dp(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ss={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(D.test(t))t=parseFloat(t);else return t;const n=Dp(t,e.target.x),r=Dp(t,e.target.y);return`${n}% ${r}%`}},wj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=En.parse(t);if(s.length>5)return r;const i=En.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=te(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class _j extends va.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;CT(xj),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),jo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||K.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function dw(t){const[e,n]=vj(),r=S.useContext(Ud);return va.createElement(_j,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(o0),isPresent:e,safeToRemove:n})}const xj={borderRadius:{...Ss,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ss,borderTopRightRadius:Ss,borderBottomLeftRadius:Ss,borderBottomRightRadius:Ss,boxShadow:wj},hw=["TopLeft","TopRight","BottomLeft","BottomRight"],Sj=hw.length,$p=t=>typeof t=="string"?parseFloat(t):t,Mp=t=>typeof t=="number"||D.test(t);function bj(t,e,n,r,s,i){s?(t.opacity=te(0,n.opacity!==void 0?n.opacity:1,kj(r)),t.opacityExit=te(e.opacity!==void 0?e.opacity:1,0,Ej(r))):i&&(t.opacity=te(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Sj;o++){const a=`border${hw[o]}Radius`;let l=Bp(e,a),u=Bp(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Mp(l)===Mp(u)?(t[a]=Math.max(te($p(l),$p(u),r),0),(Ot.test(u)||Ot.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=te(e.rotate||0,n.rotate||0,r))}function Bp(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kj=fw(0,.5,L0),Ej=fw(.5,.95,le);function fw(t,e,n){return r=>r<t?0:r>e?1:n(gi(t,e,r))}function Up(t,e){t.min=e.min,t.max=e.max}function tt(t,e){Up(t.x,e.x),Up(t.y,e.y)}function Vp(t,e,n,r,s){return t-=e,t=ma(t,1/n,r),s!==void 0&&(t=ma(t,1/s,r)),t}function Tj(t,e=0,n=1,r=.5,s,i=t,o=t){if(Ot.test(e)&&(e=parseFloat(e),e=te(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=te(i.min,i.max,r);t===i&&(a-=e),t.min=Vp(t.min,e,n,a,s),t.max=Vp(t.max,e,n,a,s)}function Fp(t,e,[n,r,s],i,o){Tj(t,e[n],e[r],e[s],e.scale,i,o)}const Cj=["x","scaleX","originX"],Pj=["y","scaleY","originY"];function zp(t,e,n,r){Fp(t.x,e,Cj,n?n.x:void 0,r?r.x:void 0),Fp(t.y,e,Pj,n?n.y:void 0,r?r.y:void 0)}function Wp(t){return t.translate===0&&t.scale===1}function pw(t){return Wp(t.x)&&Wp(t.y)}function jj(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function mw(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Hp(t){return Xe(t.x)/Xe(t.y)}class Rj{constructor(){this.members=[]}add(e){th(this.members,e),e.scheduleRender()}remove(e){if(nh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qp(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const Aj=(t,e)=>t.depth-e.depth;class Oj{constructor(){this.children=[],this.isDirty=!1}add(e){th(this.children,e),this.isDirty=!0}remove(e){nh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Aj),this.isDirty=!1,this.children.forEach(e)}}function Nj(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Jt(r),t(i-e))};return K.read(r,!0),()=>Jt(r)}function Ij(t){window.MotionDebug&&window.MotionDebug.record(t)}function Lj(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Dj(t,e,n){const r=We(t)?t:ts(t);return r.start(eh("",r,e,n)),r.animation}const Kp=["","X","Y","Z"],$j={visibility:"hidden"},Gp=1e3;let Mj=0;const Fn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function gw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Mj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Fn.totalNodes=Fn.resolvedTargetDeltas=Fn.recalculatedProjection=0,this.nodes.forEach(Vj),this.nodes.forEach(qj),this.nodes.forEach(Kj),this.nodes.forEach(Fj),Ij(Fn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Oj)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new rh),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Lj(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Nj(h,250),jo.hasAnimatedSinceResize&&(jo.hasAnimatedSinceResize=!1,this.nodes.forEach(Qp))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||Xj,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=c.getProps(),m=!this.targetLayout||!mw(this.targetLayout,y)||f,p=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||p||h&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,p);const _={...Zd(w,"layout"),onPlay:x,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else h||Qp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Jt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Gj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jp);return}this.isUpdating||this.nodes.forEach(Wj),this.isUpdating=!1,this.nodes.forEach(Hj),this.nodes.forEach(Bj),this.nodes.forEach(Uj),this.clearAllSnapshots();const a=performance.now();Pe.delta=kn(0,1e3/60,a-Pe.timestamp),Pe.timestamp=a,Pe.isProcessing=!0,$l.update.process(Pe),$l.preRender.process(Pe),$l.render.process(Pe),Pe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(zj),this.sharedNodes.forEach(Jj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,K.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){K.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ce(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!pw(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Vn(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Zj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ce();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(rn(a.x,l.offset.x),rn(a.y,l.offset.y)),a}removeElementScroll(o){const a=ce();tt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){tt(a,o);const{scroll:h}=this.root;h&&(rn(a.x,-h.offset.x),rn(a.y,-h.offset.y))}rn(a.x,c.offset.x),rn(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=ce();tt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Br(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Vn(c.latestValues)&&Br(l,c.latestValues)}return Vn(this.latestValues)&&Br(l,this.latestValues),l}removeTransform(o){const a=ce();tt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Vn(u.latestValues))continue;xc(u.latestValues)&&u.updateSnapshot();const c=ce(),d=u.measurePageBox();tt(c,d),zp(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Vn(this.latestValues)&&zp(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Pe.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ce(),this.relativeTargetOrigin=ce(),Hs(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),tt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ce(),this.targetWithTransforms=ce()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ej(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tt(this.target,this.layout.layoutBox),lw(this.target,this.targetDelta)):tt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ce(),this.relativeTargetOrigin=ce(),Hs(this.relativeTargetOrigin,this.target,f.target),tt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||xc(this.parent.latestValues)||aw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Pe.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;tt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;uj(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=Mr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Mr(),this.projectionDeltaWithTransform=Mr());const w=this.projectionTransform;Ws(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=qp(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==h||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Fn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Mr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=ce(),f=l?l.source:void 0,y=this.layout?this.layout.source:void 0,w=f!==y,x=this.getStack(),v=!x||x.members.length<=1,m=!!(w&&!v&&this.options.crossfade===!0&&!this.path.some(Yj));this.animationProgress=0;let p;this.mixTargetDelta=_=>{const b=_/1e3;Yp(d.x,o.x,b),Yp(d.y,o.y,b),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hs(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Qj(this.relativeTarget,this.relativeTargetOrigin,h,b),p&&jj(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=ce()),tt(p,this.relativeTarget)),w&&(this.animationValues=c,bj(c,u,this.latestValues,b,m,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Jt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=K.update(()=>{jo.hasAnimatedSinceResize=!0,this.currentAnimation=Dj(0,Gp,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&yw(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ce();const d=Xe(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Xe(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}tt(a,l),Br(a,c),Ws(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Rj),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<Kp.length;c++){const d="rotate"+Kp[c];l[d]&&(u[d]=l[d],o.setStaticValue(d,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $j;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Po(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Po(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Vn(this.latestValues)&&(w.transform=c?c({},""):"none",this.hasProjected=!1),w}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=qp(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:f,y}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${y.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in la){if(h[w]===void 0)continue;const{correct:x,applyTo:v}=la[w],m=u.transform==="none"?h[w]:x(h[w],d);if(v){const p=v.length;for(let _=0;_<p;_++)u[v[_]]=m}else u[w]=m}return this.options.layoutId&&(u.pointerEvents=d===this?Po(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Jp),this.root.sharedNodes.clear()}}}function Bj(t){t.updateLayout()}function Uj(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?nt(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=Xe(h);h.min=r[d].min,h.max=h.min+f}):yw(i,n.layoutBox,r)&&nt(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=Xe(r[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=Mr();Ws(a,r,n.layoutBox);const l=Mr();o?Ws(l,t.applyTransform(s,!0),n.measuredBox):Ws(l,r,n.layoutBox);const u=!pw(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const y=ce();Hs(y,n.layoutBox,h.layoutBox);const w=ce();Hs(w,r,f.layoutBox),mw(y,w)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Vj(t){Fn.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Fj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function zj(t){t.clearSnapshot()}function Jp(t){t.clearMeasurements()}function Wj(t){t.isLayoutDirty=!1}function Hj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Qp(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function qj(t){t.resolveTargetDelta()}function Kj(t){t.calcProjection()}function Gj(t){t.resetRotation()}function Jj(t){t.removeLeadSnapshot()}function Yp(t,e,n){t.translate=te(e.translate,0,n),t.scale=te(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Xp(t,e,n,r){t.min=te(e.min,n.min,r),t.max=te(e.max,n.max,r)}function Qj(t,e,n,r){Xp(t.x,e.x,n.x,r),Xp(t.y,e.y,n.y,r)}function Yj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Xj={duration:.45,ease:[.4,0,.1,1]},Zp=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),em=Zp("applewebkit/")&&!Zp("chrome/")?Math.round:le;function tm(t){t.min=em(t.min),t.max=em(t.max)}function Zj(t){tm(t.x),tm(t.y)}function yw(t,e,n){return t==="position"||t==="preserve-aspect"&&!wc(Hp(e),Hp(n),.2)}const eR=gw({attachResizeListener:(t,e)=>Vt(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gl={current:void 0},vw=gw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Gl.current){const t=new eR({});t.mount(window),t.setOptions({layoutScroll:!0}),Gl.current=t}return Gl.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),tR={pan:{Feature:yj},drag:{Feature:gj,ProjectionNode:vw,MeasureLayout:dw}},nR=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function rR(t){const e=nR.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function bc(t,e,n=1){const[r,s]=rR(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return ew(o)?parseFloat(o):o}else return hc(s)?bc(s,e,n+1):s}function sR(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!hc(i))return;const o=bc(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!hc(i))continue;const o=bc(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const iR=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ww=t=>iR.has(t),oR=t=>Object.keys(t).some(ww),nm=t=>t===fr||t===D,rm=(t,e)=>parseFloat(t.split(", ")[e]),sm=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return rm(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?rm(i[1],t):0}},aR=new Set(["x","y","z"]),lR=Ti.filter(t=>!aR.has(t));function uR(t){const e=[];return lR.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const ns={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:sm(4,13),y:sm(5,14)};ns.translateX=ns.x;ns.translateY=ns.y;const cR=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=ns[u](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=ns[u](l,i)}),t},dR=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(ww);let i=[],o=!1;const a=[];if(s.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],d=xs(c);const h=e[l];let f;if(ca(h)){const y=h.length,w=h[0]===null?1:0;c=h[w],d=xs(c);for(let x=w;x<y&&h[x]!==null;x++)f?Gd(xs(h[x])===f):f=xs(h[x])}else f=xs(h);if(d!==f)if(nm(d)&&nm(f)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&f===D&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(f!=null&&f.transform)&&(c===0||h===0)?c===0?u.set(f.transform(c)):e[l]=d.transform(h):(o||(i=uR(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=cR(e,t,a);return i.length&&i.forEach(([c,d])=>{t.getValue(c).set(d)}),t.render(),Va&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function hR(t,e,n,r){return oR(e)?dR(t,e,n,r):{target:e,transitionEnd:r}}const fR=(t,e,n,r)=>{const s=sR(t,e,r);return e=s.target,r=s.transitionEnd,hR(t,e,n,r)},kc={current:null},_w={current:!1};function pR(){if(_w.current=!0,!!Va)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>kc.current=t.matches;t.addListener(e),e()}else kc.current=!1}function mR(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(We(i))t.addValue(s,i),pa(r)&&r.add(s);else if(We(o))t.addValue(s,ts(i,{owner:t})),pa(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,ts(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const im=new WeakMap,xw=Object.keys(mi),gR=xw.length,om=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],yR=Bd.length;class vR{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>K.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=za(n),this.isVariantNode=i0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const d in c){const h=c[d];a[d]!==void 0&&We(h)&&(h.set(a[d],!1),pa(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,im.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),_w.current||pR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){im.delete(this.current),this.projection&&this.projection.unmount(),Jt(this.notifyUpdate),Jt(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=hr.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&K.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let l=0;l<gR;l++){const u=xw[l],{isEnabled:c,Feature:d,ProjectionNode:h,MeasureLayout:f}=mi[u];h&&(o=h),c(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),f&&(a=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:f}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||d&&Dr(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:f})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ce()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<om.length;r++){const s=om[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=mR(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<yR;r++){const s=Bd[r],i=this.props[s];(pi(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ts(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Kd(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!We(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new rh),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Sw extends vR{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=LP(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){NP(this,r,o);const a=fR(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function wR(t){return window.getComputedStyle(t)}class _R extends Sw{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(hr.has(n)){const r=Xd(n);return r&&r.default||0}else{const r=wR(e),s=(u0(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uw(e,n)}build(e,n,r,s){Fd(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return qd(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;We(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){m0(e,n,r,s)}}class xR extends Sw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(hr.has(n)){const r=Xd(n);return r&&r.default||0}return n=g0.has(n)?n:$d(n),e.getAttribute(n)}measureInstanceViewportBox(){return ce()}scrapeMotionValuesFromProps(e,n){return v0(e,n)}build(e,n,r,s){Wd(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){y0(e,n,r,s)}mount(e){this.isSVGTag=Hd(e.tagName),super.mount(e)}}const SR=(t,e)=>Vd(t)?new xR(e,{enableHardwareAcceleration:!1}):new _R(e,{enableHardwareAcceleration:!0}),bR={layout:{ProjectionNode:vw,MeasureLayout:dw}},kR={...QP,...gC,...tR,...bR},Y=ET((t,e)=>rC(t,e,kR,SR));function bw(){const t=S.useRef(!1);return Dd(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function ER(){const t=bw(),[e,n]=S.useState(0),r=S.useCallback(()=>{t.current&&n(e+1)},[e]);return[S.useCallback(()=>K.postRender(r),[r]),e]}class TR extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function CR({children:t,isPresent:e}){const n=S.useId(),r=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0});return S.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),S.createElement(TR,{isPresent:e,childRef:r,sizeRef:s},S.cloneElement(t,{ref:r}))}const Jl=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=w0(PR),l=S.useId(),u=S.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:c=>{a.set(c,!0);for(const d of a.values())if(!d)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),i?void 0:[n]);return S.useMemo(()=>{a.forEach((c,d)=>a.set(d,!1))},[n]),S.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=S.createElement(CR,{isPresent:n},t)),S.createElement(Ua.Provider,{value:u},t)};function PR(){return new Map}function jR(t){return S.useEffect(()=>()=>t(),[])}const zn=t=>t.key||"";function RR(t,e){t.forEach(n=>{const r=zn(n);e.set(r,n)})}function AR(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const OR=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=S.useContext(Ud).forceRender||ER()[0],l=bw(),u=AR(t);let c=u;const d=S.useRef(new Map).current,h=S.useRef(c),f=S.useRef(new Map).current,y=S.useRef(!0);if(Dd(()=>{y.current=!1,RR(u,f),h.current=c}),jR(()=>{y.current=!0,f.clear(),d.clear()}),y.current)return S.createElement(S.Fragment,null,c.map(m=>S.createElement(Jl,{key:zn(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},m)));c=[...c];const w=h.current.map(zn),x=u.map(zn),v=w.length;for(let m=0;m<v;m++){const p=w[m];x.indexOf(p)===-1&&!d.has(p)&&d.set(p,void 0)}return o==="wait"&&d.size&&(c=[]),d.forEach((m,p)=>{if(x.indexOf(p)!==-1)return;const _=f.get(p);if(!_)return;const b=w.indexOf(p);let E=m;if(!E){const T=()=>{d.delete(p);const C=Array.from(f.keys()).filter(A=>!x.includes(A));if(C.forEach(A=>f.delete(A)),h.current=u.filter(A=>{const I=zn(A);return I===p||C.includes(I)}),!d.size){if(l.current===!1)return;a(),r&&r()}};E=S.createElement(Jl,{key:zn(_),isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:i,mode:o},_),d.set(p,E)}c.splice(b,0,E)}),c=c.map(m=>{const p=m.key;return d.has(p)?m:S.createElement(Jl,{key:zn(m),isPresent:!0,presenceAffectsLayout:i,mode:o},m)}),S.createElement(S.Fragment,null,d.size?c:c.map(m=>S.cloneElement(m)))};function NR(){const[t,e]=S.useState(!0),[n,r]=S.useState(""),[s,i]=S.useState(""),[o,a]=S.useState(""),[l,u]=S.useState(""),[c,d]=S.useState(!1),{user:h,signIn:f,signUp:y,signOut:w}=cr(),{joinRoom:x}=dr(),v=jn(),m=async _=>{_.preventDefault(),u(""),d(!0);const{data:b,error:E}=t?await f(n,s):await y(n,s);d(!1),E&&u(E)},p=_=>{_.preventDefault(),o.length===6?(x(o.toUpperCase()),v("/game")):u("Room code must be 6 characters")};return h?g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx("div",{className:"bg-surface border-b border-border px-4 py-4",children:g.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2.5 bg-primary-100 rounded-lg",children:g.jsx(Ct,{className:"w-5 h-5 text-primary-600"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-lg font-semibold text-slate-900",children:"Nexus Arena"}),g.jsx("p",{className:"text-xs text-slate-400",children:h.email})]})]}),g.jsx("button",{onClick:w,className:"p-2 hover:bg-accent-50 rounded-lg transition-colors",children:g.jsx(QE,{className:"w-5 h-5 text-slate-600"})})]})}),g.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 lg:p-8",children:[g.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[g.jsx("h2",{className:"text-3xl sm:text-4xl font-semibold mb-3 text-slate-900",children:"Ready to play?"}),g.jsx("p",{className:"text-slate-600",children:"Create a room or join your friends"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[g.jsx(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:g.jsxs("button",{onClick:()=>v("/mode-select"),className:"card-hover w-full h-full text-left p-8 group",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-primary-100 rounded-xl mb-4 group-hover:bg-primary-200 transition-colors",children:g.jsx(Ct,{className:"w-7 h-7 text-primary-600"})}),g.jsx("h3",{className:"text-xl font-semibold mb-2 text-slate-900",children:"Create Room"}),g.jsx("p",{className:"text-slate-600 text-sm mb-6",children:"Start a new game and invite your friends"}),g.jsxs("div",{className:"flex items-center gap-2 text-primary-600 font-medium text-sm",children:[g.jsx("span",{children:"Get started"}),g.jsx(CE,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})}),g.jsx(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:g.jsxs("div",{className:"card p-8 h-full",children:[g.jsxs("div",{className:"text-left mb-6",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-secondary-100 rounded-xl mb-4",children:g.jsx(cc,{className:"w-7 h-7 text-secondary-600"})}),g.jsx("h3",{className:"text-xl font-semibold mb-2 text-slate-900",children:"Join Room"}),g.jsx("p",{className:"text-slate-600 text-sm",children:"Enter the 6-digit room code"})]}),g.jsxs("form",{onSubmit:p,className:"space-y-4",children:[g.jsx("input",{type:"text",value:o,onChange:_=>a(_.target.value.toUpperCase()),className:"input-field font-mono text-center text-2xl tracking-widest",placeholder:"ABC123",maxLength:6,required:!0}),g.jsxs("button",{type:"submit",className:"btn-secondary w-full flex items-center justify-center gap-2",children:[g.jsx(cc,{className:"w-5 h-5"}),"Join Game"]})]})]})})]})]})]}):g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:g.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"card max-w-md w-full",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 rounded-2xl mb-4",children:g.jsx(Ct,{className:"w-8 h-8 text-primary-600"})}),g.jsx("h1",{className:"text-3xl font-semibold mb-2 text-slate-900",children:"Nexus Arena"}),g.jsx("p",{className:"text-slate-600 text-sm",children:"Your virtual hangout spot"})]}),g.jsxs("form",{onSubmit:m,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2 text-slate-900",children:"Email"}),g.jsx("input",{type:"email",value:n,onChange:_=>r(_.target.value),className:"input-field",placeholder:"your@email.com",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2 text-slate-900",children:"Password"}),g.jsx("input",{type:"password",value:s,onChange:_=>i(_.target.value),className:"input-field",placeholder:"",required:!0,minLength:6})]}),l&&g.jsx(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm",children:l}),g.jsx("button",{type:"submit",disabled:c,className:"btn-primary w-full flex items-center justify-center gap-2",children:c?"Loading...":t?g.jsxs(g.Fragment,{children:[g.jsx(GE,{className:"w-5 h-5"}),"Sign In"]}):g.jsxs(g.Fragment,{children:[g.jsx(dT,{className:"w-5 h-5"}),"Sign Up"]})})]}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{onClick:()=>{e(!t),u("")},className:"text-primary-600 hover:text-primary-700 font-medium transition-colors text-sm",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})}function IR(){const t=jn(),{user:e}=cr();S.useEffect(()=>{e||t("/")},[e,t]);const n=r=>{t("/game-select",{state:{mode:r}})};return g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx("div",{className:"bg-surface border-b border-border px-4 py-4",children:g.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[g.jsxs("button",{onClick:()=>t("/"),className:"p-2 hover:bg-accent-50 rounded-lg transition-colors flex items-center gap-2",children:[g.jsx(Vs,{className:"w-5 h-5 text-slate-600"}),g.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Back"})]}),g.jsx("h1",{className:"text-lg font-semibold text-slate-900",children:"Choose Mode"}),g.jsx("div",{className:"w-20"})]})}),g.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 lg:p-8",children:[g.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 rounded-2xl mb-4",children:g.jsx(Ct,{className:"w-8 h-8 text-primary-600"})}),g.jsx("h2",{className:"text-3xl sm:text-4xl font-semibold mb-3 text-slate-900",children:"Choose Your Mode"}),g.jsx("p",{className:"text-slate-600",children:"How many friends are joining?"})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[g.jsx(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:g.jsxs("button",{onClick:()=>n("2-player"),className:"card-hover w-full h-full text-left p-8 group",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-secondary-100 rounded-xl mb-4 group-hover:bg-secondary-200 transition-colors",children:g.jsx(dc,{className:"w-7 h-7 text-secondary-600"})}),g.jsx("h3",{className:"text-2xl font-semibold mb-2 text-slate-900",children:"2 Players"}),g.jsx("p",{className:"text-slate-600 mb-6",children:"Perfect for intimate hangouts"}),g.jsxs("div",{className:"space-y-2 text-left bg-accent-50 rounded-xl p-4 mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-slate-900 font-medium text-sm",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary-500"}),g.jsx("span",{children:"Truth or Dare"})]}),g.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-300"}),g.jsx("span",{children:"Would You Rather"})]}),g.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-300"}),g.jsx("span",{children:"Never Have I Ever"})]}),g.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-300"}),g.jsx("span",{children:"20 Questions"})]})]}),g.jsxs("div",{className:"flex items-center gap-2 text-secondary-600 font-medium text-sm",children:[g.jsx("span",{children:"Select"}),g.jsx(Vs,{className:"w-4 h-4 rotate-180 group-hover:translate-x-1 transition-transform"})]})]})}),g.jsx(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:g.jsxs("button",{onClick:()=>n("multiplayer"),className:"card-hover w-full h-full text-left p-8 group",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-primary-100 rounded-xl mb-4 group-hover:bg-primary-200 transition-colors",children:g.jsx(Ct,{className:"w-7 h-7 text-primary-600"})}),g.jsx("h3",{className:"text-2xl font-semibold mb-2 text-slate-900",children:"Multiplayer"}),g.jsx("p",{className:"text-slate-600 mb-6",children:"Party time with 2-6 players"}),g.jsxs("div",{className:"space-y-2 text-left bg-accent-50 rounded-xl p-4 mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-300"}),g.jsx("span",{children:"Imposter Game"})]}),g.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-300"}),g.jsx("span",{children:"Pictionary"})]}),g.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-300"}),g.jsx("span",{children:"Trivia"})]}),g.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-300"}),g.jsx("span",{children:"More Games"})]})]}),g.jsxs("div",{className:"flex items-center gap-2 text-primary-600 font-medium text-sm",children:[g.jsx("span",{children:"Select"}),g.jsx(Vs,{className:"w-4 h-4 rotate-180 group-hover:translate-x-1 transition-transform"})]})]})})]})]})]})}function LR(){var f;const t=jn(),e=ki(),{user:n}=cr(),{createRoom:r,roomCode:s,gameStatus:i}=dr(),o=((f=e.state)==null?void 0:f.mode)||"2-player",[a,l]=S.useState(null);S.useEffect(()=>{n||t("/")},[n,t]),S.useEffect(()=>{a&&s&&i==="lobby"&&t("/game",{state:{gameType:a}})},[s,i,a,t]);const u=y=>{l(y),r(o)},h=o==="2-player"?[{id:"truth-or-dare",name:"Truth or Dare",icon:rp,description:"Classic party game with customizable spice levels",color:"bg-primary-100 text-primary-600",available:!0,players:"2"},{id:"would-you-rather",name:"Would You Rather",icon:Ll,description:"Debate impossible dilemmas and tough choices",color:"bg-secondary-100 text-secondary-600",available:!1,players:"2"},{id:"never-have-i-ever",name:"Never Have I Ever",icon:np,description:"Discover secrets and shared experiences",color:"bg-accent-100 text-accent-600",available:!1,players:"2"},{id:"20-questions",name:"20 Questions",icon:Ll,description:"Guess what your friend is thinking",color:"bg-primary-100 text-primary-600",available:!1,players:"2"}]:[{id:"imposter",name:"Imposter Game",icon:rp,description:"Find the imposter among your friends",color:"bg-primary-100 text-primary-600",available:!1,players:"3-6"},{id:"pictionary",name:"Pictionary",icon:eT,description:"Draw and guess in real-time",color:"bg-secondary-100 text-secondary-600",available:!1,players:"2-6"},{id:"trivia",name:"Trivia",icon:Ll,description:"Test your knowledge with betting",color:"bg-accent-100 text-accent-600",available:!1,players:"2-6"}];return g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx("div",{className:"bg-surface border-b border-border px-4 py-4",children:g.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[g.jsxs("button",{onClick:()=>t("/mode-select"),disabled:a!==null,className:"p-2 hover:bg-accent-50 rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50",children:[g.jsx(Vs,{className:"w-5 h-5 text-slate-600"}),g.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Back"})]}),g.jsx("h1",{className:"text-lg font-semibold text-slate-900",children:"Choose Game"}),g.jsx("div",{className:"w-20"})]})}),g.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[g.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 rounded-2xl mb-4",children:g.jsx(np,{className:"w-8 h-8 text-primary-600"})}),g.jsx("h2",{className:"text-3xl sm:text-4xl font-semibold mb-3 text-slate-900",children:"Choose a Game"}),g.jsx("p",{className:"text-slate-600",children:o==="2-player"?"2 Player Games":"Multiplayer Games (2-6 players)"})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:h.map((y,w)=>{const x=y.icon,v=a===y.id;return g.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.05},children:g.jsxs("button",{onClick:()=>y.available&&!v&&u(y.id),disabled:!y.available||v,className:`card-hover w-full h-full text-left p-6 ${y.available?"":"opacity-60 cursor-not-allowed"} ${v?"opacity-50":""}`,children:[g.jsxs("div",{className:"flex items-start justify-between mb-4",children:[g.jsx("div",{className:`inline-flex items-center justify-center w-12 h-12 ${y.color} rounded-xl`,children:g.jsx(x,{className:"w-6 h-6"})}),!y.available&&g.jsx("div",{className:"p-1.5 bg-accent-100 text-accent-600 rounded-lg",children:g.jsx(qE,{className:"w-4 h-4"})})]}),g.jsx("h3",{className:"text-xl font-semibold mb-2 text-slate-900",children:y.name}),g.jsx("p",{className:"text-slate-600 mb-4 min-h-[3rem] text-sm",children:y.description}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("span",{className:"badge-accent text-xs",children:[y.players," Players"]}),!y.available&&g.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Coming Soon"}),v&&g.jsx("span",{className:"text-xs text-primary-600 font-medium",children:"Creating..."})]})]})},y.id)})})]})]})}function Mt({children:t,variant:e="primary",onClick:n,disabled:r=!1,className:s="",type:i="button",...o}){const a={primary:"btn-primary",secondary:"btn-secondary",outline:"btn-outline",ghost:"btn-ghost"};return g.jsx("button",{type:i,onClick:n,disabled:r,className:`${a[e]} ${s}`,...o,children:t})}let DR={data:""},$R=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||DR},MR=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,BR=/\/\*[^]*?\*\/|  +/g,am=/\n+/g,ln=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?ln(o,i):i+"{"+ln(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=ln(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ln.p?ln.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},It={},kw=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+kw(t[n]);return e}return t},UR=(t,e,n,r,s)=>{let i=kw(t),o=It[i]||(It[i]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(i));if(!It[o]){let l=i!==t?t:(u=>{let c,d,h=[{}];for(;c=MR.exec(u.replace(BR,""));)c[4]?h.shift():c[3]?(d=c[3].replace(am," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][c[1]]=c[2].replace(am," ").trim();return h[0]})(t);It[o]=ln(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&It.g?It.g:null;return n&&(It.g=It[o]),((l,u,c,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(It[o],e,r,a),o},VR=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":ln(a,""):a===!1?"":a}return r+s+(o??"")},"");function Ka(t){let e=this||{},n=t.call?t(e.p):t;return UR(n.unshift?n.raw?VR(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,$R(e.target),e.g,e.o,e.k)}let Ew,Ec,Tc;Ka.bind({g:1});let Qt=Ka.bind({k:1});function FR(t,e,n,r){ln.p=e,Ew=t,Ec=n,Tc=r}function On(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:Ec&&Ec()},a),n.o=/ *go\d+/.test(l),a.className=Ka.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=a.as||t,delete a.as),Tc&&u[0]&&Tc(a),Ew(u,a)}return s}}var zR=t=>typeof t=="function",ga=(t,e)=>zR(t)?t(e):t,WR=(()=>{let t=0;return()=>(++t).toString()})(),Tw=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),HR=20,sh="default",Cw=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:r}=e;return Cw(t,{type:t.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Ro=[],Pw={toasts:[],pausedAt:void 0,settings:{toastLimit:HR}},Pt={},jw=(t,e=sh)=>{Pt[e]=Cw(Pt[e]||Pw,t),Ro.forEach(([n,r])=>{n===e&&r(Pt[e])})},Rw=t=>Object.keys(Pt).forEach(e=>jw(t,e)),qR=t=>Object.keys(Pt).find(e=>Pt[e].toasts.some(n=>n.id===t)),Ga=(t=sh)=>e=>{jw(e,t)},KR={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},GR=(t={},e=sh)=>{let[n,r]=S.useState(Pt[e]||Pw),s=S.useRef(Pt[e]);S.useEffect(()=>(s.current!==Pt[e]&&r(Pt[e]),Ro.push([e,r]),()=>{let o=Ro.findIndex(([a])=>a===e);o>-1&&Ro.splice(o,1)}),[e]);let i=n.toasts.map(o=>{var a,l,u;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((a=t[o.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((l=t[o.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||KR[o.type],style:{...t.style,...(u=t[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:i}},JR=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||WR()}),Ri=t=>(e,n)=>{let r=JR(e,t,n);return Ga(r.toasterId||qR(r.id))({type:2,toast:r}),r.id},ye=(t,e)=>Ri("blank")(t,e);ye.error=Ri("error");ye.success=Ri("success");ye.loading=Ri("loading");ye.custom=Ri("custom");ye.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Ga(e)(n):Rw(n)};ye.dismissAll=t=>ye.dismiss(void 0,t);ye.remove=(t,e)=>{let n={type:4,toastId:t};e?Ga(e)(n):Rw(n)};ye.removeAll=t=>ye.remove(void 0,t);ye.promise=(t,e,n)=>{let r=ye.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?ga(e.success,s):void 0;return i?ye.success(i,{id:r,...n,...n==null?void 0:n.success}):ye.dismiss(r),s}).catch(s=>{let i=e.error?ga(e.error,s):void 0;i?ye.error(i,{id:r,...n,...n==null?void 0:n.error}):ye.dismiss(r)}),t};var QR=1e3,YR=(t,e="default")=>{let{toasts:n,pausedAt:r}=GR(t,e),s=S.useRef(new Map).current,i=S.useCallback((d,h=QR)=>{if(s.has(d))return;let f=setTimeout(()=>{s.delete(d),o({type:4,toastId:d})},h);s.set(d,f)},[]);S.useEffect(()=>{if(r)return;let d=Date.now(),h=n.map(f=>{if(f.duration===1/0)return;let y=(f.duration||0)+f.pauseDuration-(d-f.createdAt);if(y<0){f.visible&&ye.dismiss(f.id);return}return setTimeout(()=>ye.dismiss(f.id,e),y)});return()=>{h.forEach(f=>f&&clearTimeout(f))}},[n,r,e]);let o=S.useCallback(Ga(e),[e]),a=S.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=S.useCallback((d,h)=>{o({type:1,toast:{id:d,height:h}})},[o]),u=S.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),c=S.useCallback((d,h)=>{let{reverseOrder:f=!1,gutter:y=8,defaultPosition:w}=h||{},x=n.filter(p=>(p.position||w)===(d.position||w)&&p.height),v=x.findIndex(p=>p.id===d.id),m=x.filter((p,_)=>_<v&&p.visible).length;return x.filter(p=>p.visible).slice(...f?[m+1]:[0,m]).reduce((p,_)=>p+(_.height||0)+y,0)},[n]);return S.useEffect(()=>{n.forEach(d=>{if(d.dismissed)i(d.id,d.removeDelay);else{let h=s.get(d.id);h&&(clearTimeout(h),s.delete(d.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:l,startPause:a,endPause:u,calculateOffset:c}}},XR=Qt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ZR=Qt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eA=Qt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,tA=On("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${XR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ZR} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${eA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,nA=Qt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,rA=On("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${nA} 1s linear infinite;
`,sA=Qt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,iA=Qt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,oA=On("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${iA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,aA=On("div")`
  position: absolute;
`,lA=On("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,uA=Qt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cA=On("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${uA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,dA=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?S.createElement(cA,null,e):e:n==="blank"?null:S.createElement(lA,null,S.createElement(rA,{...r}),n!=="loading"&&S.createElement(aA,null,n==="error"?S.createElement(tA,{...r}):S.createElement(oA,{...r})))},hA=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,fA=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,pA="0%{opacity:0;} 100%{opacity:1;}",mA="0%{opacity:1;} 100%{opacity:0;}",gA=On("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,yA=On("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,vA=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=Tw()?[pA,mA]:[hA(n),fA(n)];return{animation:e?`${Qt(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Qt(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},wA=S.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?vA(t.position||e||"top-center",t.visible):{opacity:0},i=S.createElement(dA,{toast:t}),o=S.createElement(yA,{...t.ariaProps},ga(t.message,t));return S.createElement(gA,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):S.createElement(S.Fragment,null,i,o))});FR(S.createElement);var _A=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=S.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return S.createElement("div",{ref:i,className:e,style:n},s)},xA=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Tw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},SA=Ka`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,co=16,Aw=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,toasterId:i,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:u}=YR(n,i);return S.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:co,left:co,right:co,bottom:co,pointerEvents:"none",...o},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let d=c.position||e,h=u.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=xA(d,h);return S.createElement(_A,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?SA:"",style:f},c.type==="custom"?ga(c.message,c):s?s(c):S.createElement(wA,{toast:c,position:d}))}))},Ao=ye;function bA({gameType:t}){const e=jn(),{user:n}=cr(),{roomCode:r,players:s,isHost:i,startGame:o,leaveRoom:a}=dr(),[l,u]=S.useState(!1),c=()=>{console.log("Start Game clicked",{isHost:i,gameType:t,roomCode:r}),i&&t&&(console.log("Emitting start-game event"),o(t))},d=()=>{a(),e("/")},h=()=>{navigator.clipboard.writeText(r),u(!0),Ao.success("Room code copied!"),setTimeout(()=>u(!1),2e3)};return g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx(Aw,{position:"top-center",toastOptions:{style:{background:"#fff",color:"#0f172a",border:"1px solid #e2e8f0",borderRadius:"0.75rem",padding:"12px 16px"}}}),g.jsx("div",{className:"bg-surface border-b border-border px-4 py-4",children:g.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2.5 bg-primary-100 rounded-lg",children:g.jsx(Ct,{className:"w-5 h-5 text-primary-600"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-lg font-semibold text-slate-900",children:"Game Lobby"}),g.jsx("p",{className:"text-xs text-slate-400",children:"Waiting for players..."})]})]}),g.jsxs("button",{onClick:d,className:"px-4 py-2 hover:bg-accent-50 rounded-lg transition-colors flex items-center gap-2 text-sm text-slate-600",children:[g.jsx(cc,{className:"w-4 h-4"}),"Leave"]})]})}),g.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[r&&g.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card mb-6 text-center",children:[g.jsx("p",{className:"text-sm font-medium text-slate-600 mb-4",children:"Room Code"}),g.jsxs("div",{className:"flex items-center justify-center gap-3",children:[g.jsx("div",{className:"font-mono text-4xl font-semibold tracking-wider text-primary-600",children:r}),g.jsx("button",{onClick:h,className:"p-3 hover:bg-accent-50 rounded-lg transition-colors",children:l?g.jsx(RE,{className:"w-5 h-5 text-success"}):g.jsx(OE,{className:"w-5 h-5 text-slate-600"})})]}),g.jsx("p",{className:"text-xs text-slate-400 mt-4",children:"Share this code with your friends!"})]}),g.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card mb-6",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h2",{className:"text-xl font-semibold text-slate-900 flex items-center gap-2",children:[g.jsx(Ct,{className:"w-5 h-5"}),"Players"]}),g.jsxs("span",{className:"badge-primary",children:[s.length," ",s.length===1?"Player":"Players"]})]}),g.jsx("div",{className:"space-y-3",children:s.length>0?s.map(f=>{var y,w,x,v;return g.jsxs(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center justify-between p-4 bg-accent-50 rounded-xl",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center font-semibold",children:((w=(y=f.username)==null?void 0:y[0])==null?void 0:w.toUpperCase())||((v=(x=f.email)==null?void 0:x[0])==null?void 0:v.toUpperCase())}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-slate-900",children:f.username||f.email}),f.isHost&&g.jsxs("span",{className:"text-xs text-secondary-600 flex items-center gap-1",children:[g.jsx(aa,{className:"w-3 h-3"}),"Host"]})]})]}),g.jsx("div",{className:`w-2 h-2 rounded-full ${f.isConnected?"bg-success":"bg-accent-300"}`})]},f.userId)}):g.jsxs("div",{className:"text-center py-12",children:[g.jsx(Ct,{className:"w-16 h-16 mx-auto text-accent-300 mb-4"}),g.jsx("p",{className:"text-slate-600 mb-2",children:"Waiting for players..."}),g.jsx("p",{className:"text-sm text-slate-400",children:"Share the room code with your friends!"})]})})]}),g.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex justify-center",children:i?g.jsx(Mt,{variant:"primary",onClick:c,disabled:s.length<2,className:"px-12 py-4 text-lg flex items-center gap-2",children:s.length<2?g.jsxs(g.Fragment,{children:[g.jsx(Ct,{className:"w-5 h-5"}),"Waiting for players..."]}):g.jsxs(g.Fragment,{children:[g.jsx(nT,{className:"w-5 h-5"}),"Start Game"]})}):g.jsxs("div",{className:"card text-center py-8 px-12",children:[g.jsx(aa,{className:"w-12 h-12 mx-auto text-secondary-600 mb-3"}),g.jsx("p",{className:"text-lg text-slate-600 font-medium",children:"Waiting for host to start the game..."})]})})]})]})}function kA(){const{socket:t}=Zv(),{user:e}=cr(),{roomCode:n,players:r,isHost:s,leaveRoom:i}=dr(),o=jn(),[a,l]=S.useState(null),[u,c]=S.useState("mild"),[d,h]=S.useState(null),[f,y]=S.useState([]),[w,x]=S.useState(""),[v,m]=S.useState("mode-select"),[p,_]=S.useState(null),[b,E]=S.useState(null),T=S.useRef(null),C=S.useRef(null),A=S.useRef(null);S.useEffect(()=>{m("mode-select")},[]),S.useEffect(()=>{if(t)return t.on("game-started",k=>{m("mode-select")}),t.on("mode-selected",k=>{l(k.mode),c(k.spiceLevel||"mild"),m("playing")}),t.on("question-presented",k=>{h(k),y(B=>[...B,{type:"system",content:k.question,questionType:k.type,timestamp:new Date().toISOString()}]),Ao.success(`New ${k.type}!`)}),t.on("show-selection",()=>{h(null)}),t.on("chat-message",k=>{y(B=>[...B,{type:"user",playerId:k.playerId,playerName:k.playerName,content:k.message,image:k.image,timestamp:k.timestamp}])}),t.on("spice-level-changed",k=>{c(k.spiceLevel),Ao.success(`Spice level: ${k.spiceLevel}`)}),()=>{t.off("game-started"),t.off("mode-selected"),t.off("question-presented"),t.off("show-selection"),t.off("chat-message"),t.off("spice-level-changed")}},[t]),S.useEffect(()=>{var k;(k=T.current)==null||k.scrollIntoView({behavior:"smooth"})},[f]);const I=k=>{t&&n&&t.emit("select-mode",{roomCode:n,mode:k,spiceLevel:"mild"})},oe=k=>{t&&n&&s&&t.emit("change-spice-level",{roomCode:n,spiceLevel:k})},se=k=>{t&&n&&s&&t.emit("select-truth-or-dare",{roomCode:n,choice:k,spiceLevel:u,mode:a})},xe=()=>{t&&n&&s&&(t.emit("next-question",{roomCode:n}),h(null))},ue=k=>{const B=k.target.files[0];if(B){if(B.size>5*1024*1024){Ao.error("Image must be less than 5MB");return}const Me=new FileReader;Me.onloadend=()=>{_(B),E(Me.result)},Me.readAsDataURL(B)}},dt=()=>{_(null),E(null),A.current&&(A.current.value="")},X=k=>{var B;k.preventDefault(),t&&n&&(w.trim()||b)&&(t.emit("send-chat-message",{roomCode:n,message:w,image:b}),x(""),dt(),(B=C.current)==null||B.focus())},$e=()=>{s&&(m("mode-select"),l(null),y([]),h(null))},j=()=>{window.confirm("Are you sure you want to leave the game?")&&(i(),o("/"))},L=[{id:"friends",name:"Friends",icon:Ct,color:"bg-primary-100 text-primary-600",desc:"Fun with friends"},{id:"couples",name:"Couples",icon:dc,color:"bg-secondary-100 text-secondary-600",desc:"Romantic & intimate"}],M=[{id:"mild",name:"Mild",icon:dc},{id:"spicy",name:"Spicy",icon:$E},{id:"extreme",name:"Extreme",icon:mT}];return g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx(Aw,{position:"top-center",toastOptions:{style:{background:"#fff",color:"#0f172a",border:"1px solid #e2e8f0",borderRadius:"0.75rem",padding:"12px 16px"}}}),v==="mode-select"&&g.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:g.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card max-w-2xl w-full",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:s?"Choose Your Mode":"Waiting for Host"}),g.jsx("button",{onClick:j,className:"p-2 hover:bg-accent-50 rounded-lg transition-colors",children:g.jsx(Dl,{className:"w-5 h-5 text-slate-600"})})]}),!s&&g.jsxs("div",{className:"text-center mb-6 py-8",children:[g.jsx(aa,{className:"w-12 h-12 mx-auto text-secondary-600 mb-3"}),g.jsx("p",{className:"text-slate-600",children:"Host is selecting the game mode..."})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:L.map(k=>{const B=k.icon;return g.jsxs("button",{onClick:()=>s&&I(k.id),disabled:!s,className:`card-hover text-left p-6 ${s?"":"opacity-50 cursor-not-allowed"}`,children:[g.jsx("div",{className:`inline-flex items-center justify-center w-12 h-12 ${k.color} rounded-xl mb-4`,children:g.jsx(B,{className:"w-6 h-6"})}),g.jsx("h3",{className:"font-semibold text-lg mb-1 text-slate-900",children:k.name}),g.jsx("p",{className:"text-sm text-slate-600",children:k.desc})]},k.id)})})]})}),v==="playing"&&a&&g.jsxs("div",{className:"h-screen flex flex-col",children:[g.jsxs("div",{className:"bg-surface border-b border-border px-4 py-3 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[s&&g.jsx("button",{onClick:$e,className:"p-2 hover:bg-accent-50 rounded-lg transition-colors",children:g.jsx(Vs,{className:"w-5 h-5 text-slate-600"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-lg text-slate-900",children:"Truth or Dare"}),g.jsxs("p",{className:"text-xs text-slate-400",children:[r.length," player",r.length!==1?"s":""]})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"badge-primary capitalize text-xs",children:a}),g.jsx("span",{className:"badge-secondary capitalize text-xs",children:u}),g.jsx("button",{onClick:j,className:"p-2 hover:bg-accent-50 rounded-lg transition-colors ml-2",children:g.jsx(Dl,{className:"w-5 h-5 text-slate-600"})})]})]}),g.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s&&g.jsxs("div",{className:"hidden lg:block w-64 bg-surface border-r border-border p-4 space-y-6 overflow-y-auto",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(aa,{className:"w-4 h-4 text-secondary-600"}),g.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:"Host Controls"})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-xs font-medium text-slate-600 mb-2 uppercase tracking-wide",children:"Spice Level"}),g.jsx("div",{className:"space-y-2",children:M.map(k=>{const B=k.icon;return g.jsxs("button",{onClick:()=>oe(k.id),className:`w-full flex items-center gap-2 p-2.5 rounded-lg text-sm transition-all ${u===k.id?"bg-primary-500 text-white shadow-sm":"bg-accent-50 hover:bg-accent-100 text-slate-600"}`,children:[g.jsx(B,{className:"w-4 h-4"}),g.jsx("span",{className:"font-medium",children:k.name})]},k.id)})})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-xs font-medium text-slate-600 mb-2 uppercase tracking-wide",children:"Get Question"}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Mt,{variant:"primary",onClick:()=>se("truth"),className:"w-full text-sm",children:"Truth"}),g.jsx(Mt,{variant:"secondary",onClick:()=>se("dare"),className:"w-full text-sm",children:"Dare"}),d&&g.jsx(Mt,{variant:"outline",onClick:xe,className:"w-full text-sm",children:"Next Question"})]})]})]}),g.jsxs("div",{className:"flex-1 flex flex-col bg-background",children:[g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[f.length===0&&g.jsx("div",{className:"h-full flex items-center justify-center",children:g.jsxs("div",{className:"text-center text-slate-400",children:[g.jsx(XE,{className:"w-12 h-12 mx-auto mb-3 text-accent-300"}),g.jsx("p",{className:"text-sm",children:s?'Click "Truth" or "Dare" to start!':"Waiting for host to start..."})]})}),g.jsx(OR,{children:f.map((k,B)=>{var Me;return g.jsx(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`${k.type==="system"?"mx-auto max-w-2xl":k.playerId===(e==null?void 0:e.id)?"ml-auto max-w-[80%] sm:max-w-md":"mr-auto max-w-[80%] sm:max-w-md"}`,children:k.type==="system"?g.jsxs("div",{className:`border-l-4 ${k.questionType==="truth"?"bg-primary-50 border-primary-500":"bg-secondary-50 border-secondary-500"} p-4 rounded-r-lg`,children:[g.jsx("span",{className:`badge ${k.questionType==="truth"?"badge-primary":"badge-secondary"} text-xs mb-2`,children:(Me=k.questionType)==null?void 0:Me.toUpperCase()}),g.jsx("p",{className:"font-medium text-slate-900 text-base leading-relaxed",children:k.content})]}):g.jsxs("div",{className:`${k.playerId===(e==null?void 0:e.id)?"bg-primary-500 text-white":"bg-surface text-slate-900 border border-border"} p-3 rounded-xl shadow-sm`,children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:"font-medium text-xs",children:k.playerId===(e==null?void 0:e.id)?"You":k.playerName}),g.jsx("span",{className:`text-xs ${k.playerId===(e==null?void 0:e.id)?"text-white/70":"text-slate-400"}`,children:new Date(k.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),k.image&&g.jsx("img",{src:k.image,alt:"Shared",className:"rounded-lg mb-2 max-w-full h-auto"}),k.content&&g.jsx("p",{className:"text-sm break-words",children:k.content})]})},B)})}),g.jsx("div",{ref:T})]}),s&&g.jsx("div",{className:"lg:hidden bg-surface border-t border-border p-3",children:g.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[g.jsx(Mt,{variant:"primary",onClick:()=>se("truth"),className:"text-xs px-3 py-2 whitespace-nowrap",children:"Truth"}),g.jsx(Mt,{variant:"secondary",onClick:()=>se("dare"),className:"text-xs px-3 py-2 whitespace-nowrap",children:"Dare"}),M.map(k=>{const B=k.icon;return g.jsxs("button",{onClick:()=>oe(k.id),className:`flex items-center gap-1 px-3 py-2 rounded-lg text-xs whitespace-nowrap transition-all ${u===k.id?"bg-primary-500 text-white":"bg-accent-50 text-slate-600"}`,children:[g.jsx(B,{className:"w-3 h-3"}),k.name]},k.id)})]})}),g.jsxs("div",{className:"bg-surface border-t border-border p-4",children:[b&&g.jsxs("div",{className:"mb-3 relative inline-block",children:[g.jsx("img",{src:b,alt:"Preview",className:"h-20 rounded-lg border border-border"}),g.jsx("button",{onClick:dt,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:g.jsx(Dl,{className:"w-3 h-3"})})]}),g.jsxs("form",{onSubmit:X,className:"flex gap-2",children:[g.jsx("input",{type:"file",ref:A,onChange:ue,accept:"image/*",className:"hidden"}),g.jsx("button",{type:"button",onClick:()=>{var k;return(k=A.current)==null?void 0:k.click()},className:"p-3 hover:bg-accent-50 rounded-lg transition-colors",children:g.jsx(FE,{className:"w-5 h-5 text-slate-600"})}),g.jsx("input",{ref:C,type:"text",value:w,onChange:k=>x(k.target.value),placeholder:"Type your message...",className:"input-field flex-1",maxLength:500}),g.jsx(Mt,{type:"submit",variant:"primary",disabled:!w.trim()&&!b,className:"px-4",children:g.jsx(oT,{className:"w-5 h-5"})})]})]})]})]})]})]})}function EA(){const{gameType:t}=dr(),e=()=>{switch(t){case"truth-or-dare":return g.jsx(kA,{});default:return g.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:g.jsx("div",{className:"card text-center max-w-md",children:g.jsx("p",{className:"text-xl text-textLight",children:"Game type not supported yet"})})})}};return g.jsx("div",{className:"min-h-screen",children:e()})}function TA(){const t=jn(),{gameState:e,resetGameState:n,startGame:r,gameType:s}=dr(),i=()=>{s&&r(s)},o=()=>{n(),t("/")},a=e==null?void 0:e.winner,l=(e==null?void 0:e.finalScores)||{};return g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4 sm:p-6 lg:p-8",children:g.jsxs("div",{className:"max-w-3xl w-full",children:[g.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"text-center mb-8",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-secondary-100 rounded-2xl mb-4",children:g.jsx(uT,{className:"w-10 h-10 text-secondary-600"})}),g.jsx("h1",{className:"text-4xl sm:text-5xl font-semibold mb-4 text-slate-900",children:"Game Over"}),a&&g.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[g.jsxs("p",{className:"text-2xl font-semibold text-slate-900 mb-2",children:[a.username||a.email," Wins!"]}),g.jsx("p",{className:"text-slate-600",children:"Congratulations! "})]})]}),g.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card mb-8",children:[g.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center text-slate-900",children:"Final Scores"}),g.jsx("div",{className:"space-y-3",children:Object.entries(l).map(([u,c],d)=>g.jsxs(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+d*.1},className:"flex items-center justify-between p-4 bg-accent-50 rounded-xl",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("span",{className:"text-2xl font-semibold text-slate-400",children:["#",d+1]}),g.jsxs("span",{className:"font-medium text-slate-900",children:["Player ",d+1]})]}),g.jsxs("span",{className:"text-xl font-semibold text-primary-600",children:[c," pts"]})]},u))})]}),g.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"flex flex-col sm:flex-row gap-3 justify-center",children:[g.jsxs(Mt,{variant:"primary",onClick:i,className:"flex items-center justify-center gap-2",children:[g.jsx(sT,{className:"w-4 h-4"}),"Play Again"]}),g.jsxs(Mt,{variant:"outline",onClick:o,className:"flex items-center justify-center gap-2",children:[g.jsx(UE,{className:"w-4 h-4"}),"Return to Home"]})]})]})})}function CA(){var u;const t=jn(),e=ki(),{user:n}=cr(),{gameStatus:r,roomCode:s}=dr(),[i,o]=S.useState(((u=e.state)==null?void 0:u.gameType)||"truth-or-dare"),[a,l]=S.useState(!0);return S.useEffect(()=>{var d;if(!n){t("/");return}(d=e.state)!=null&&d.gameType&&o(e.state.gameType);const c=setTimeout(()=>{l(!1)},1e3);return()=>clearTimeout(c)},[n,t,e.state]),S.useEffect(()=>{if(!a&&!s&&r==="idle"){const c=setTimeout(()=>{t("/")},2e3);return()=>clearTimeout(c)}},[a,s,r,t]),a?g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:g.jsxs(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center",children:[g.jsx(Y.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block mb-4",children:g.jsx(WE,{className:"w-12 h-12 text-primary-500"})}),g.jsx("p",{className:"text-lg font-medium text-slate-900",children:"Loading game..."})]})}):!s&&r==="idle"?g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:g.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card max-w-md w-full text-center",children:[g.jsx("div",{className:"text-6xl mb-4",children:""}),g.jsx("h2",{className:"text-2xl font-semibold mb-4 text-slate-900",children:"No Room Found"}),g.jsx("p",{className:"text-slate-600 mb-6",children:"You need to create or join a room first."}),g.jsx("button",{onClick:()=>t("/"),className:"btn-primary w-full",children:"Go to Home"})]})}):g.jsxs("div",{className:"min-h-screen bg-background",children:[(r==="lobby"||r==="idle"&&s)&&g.jsx(bA,{gameType:i}),r==="playing"&&g.jsx(EA,{}),r==="finished"&&g.jsx(TA,{})]})}function PA(){return g.jsx(bk,{children:g.jsx(vE,{children:g.jsx(wE,{children:g.jsx(tS,{children:g.jsxs(X1,{children:[g.jsx(xr,{path:"/",element:g.jsx(NR,{})}),g.jsx(xr,{path:"/mode-select",element:g.jsx(IR,{})}),g.jsx(xr,{path:"/game-select",element:g.jsx(LR,{})}),g.jsx(xr,{path:"/game",element:g.jsx(CA,{})}),g.jsx(xr,{path:"*",element:g.jsx(Q1,{to:"/",replace:!0})})]})})})})})}Ql.createRoot(document.getElementById("root")).render(g.jsx(va.StrictMode,{children:g.jsx(PA,{})}));
//# sourceMappingURL=index-DDy19IRm.js.map
